/*! For license information please see vendors.b052c0c31cc1e2cee987.js.LICENSE.txt */
(self.webpackChunkscreen_golf_admin=self.webpackChunkscreen_golf_admin||[]).push([[96],{3047(e,t,n){"use strict";n.d(t,{cY:()=>p,FA:()=>M,g:()=>O,u:()=>a,Uj:()=>o,Fy:()=>y,tD:()=>$,bD:()=>L,hp:()=>V,T9:()=>d,Tj:()=>l,yU:()=>h,XA:()=>f,mS:()=>c,Ku:()=>q,ZQ:()=>b,sr:()=>I,zJ:()=>g,c1:()=>S,Im:()=>D,lT:()=>C,zW:()=>N,jZ:()=>E,lV:()=>A,nr:()=>k,Ov:()=>x,gE:()=>m,Am:()=>F,I9:()=>U,P1:()=>_,eX:()=>R});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,u=i>>2,l=(3&i)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const c=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==a||null==c)throw new s;const u=i<<2|o>>4;if(r.push(u),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==c){const e=a<<6&192|c;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return i.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}const u=()=>{try{return c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&a(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},l=e=>u()?.emulatorHosts?.[e],h=e=>{const t=l(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},d=()=>u()?.config,f=e=>u()?.[`_${e}`];class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function m(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}const v={};let w=!1;function _(e,t){if("undefined"==typeof window||"undefined"==typeof document||!g(window.location.host)||v[e]===t||v[e]||w)return;function n(e){return`__firebase__banner__${e}`}v[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(v))v[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),a=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(a,o);const n=function(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{w=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,a,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function b(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function T(){const e=u()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function S(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function I(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function A(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function C(){const e=b();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function k(){return!T()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x(){return!T()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function N(){try{return"object"==typeof indexedDB}catch(e){return!1}}function R(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}class O extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M.prototype.create)}}class M{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(P,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new O(r,o,n)}}const P=/\{\$([^}]+)}/g;function D(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function L(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(j(n)&&j(s)){if(!L(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function j(e){return null!==e&&"object"==typeof e}function F(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function U(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function V(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function $(e,t){const n=new B(e,t);return n.subscribe.bind(n)}class B{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z(){}function q(e){return e&&e._delegate?e._delegate:e}},8351(e,t,n){var r;!function(){"use strict";var i,s=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a=!0,c="[DecimalError] ",u=c+"Invalid argument: ",l=c+"Exponent out of range: ",h=Math.floor,d=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,g=h(1286742750677284.5),m={};function y(e,t){var n,r,i,s,o,c,u,l,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),a?C(t,d):t;if(u=e.d,l=t.d,o=e.e,i=t.e,u=u.slice(),s=o-i){for(s<0?(r=u,s=-s,c=l.length):(r=l,i=o,c=u.length),s>(c=(o=Math.ceil(d/7))>c?o+1:c+1)&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for((c=u.length)-(s=l.length)<0&&(s=c,r=l,l=u,u=r),n=0;s;)n=(u[--s]=u[s]+l[s]+n)/p|0,u[s]%=p;for(n&&(u.unshift(n),++i),c=u.length;0==u[--c];)u.pop();return t.d=u,t.e=i,a?C(t,d):t}function v(e,t,n){if(e!==~~e||e<t||e>n)throw Error(u+e)}function w(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(s+=S(n)),s+=r;(n=7-(r=(o=e[t])+"").length)&&(s+=S(n))}else if(0===o)return"0";for(;o%10==0;)o/=10;return s+o}m.absoluteValue=m.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},m.comparedTo=m.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,n=(r=s.d.length)<(i=e.d.length)?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1},m.decimalPlaces=m.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},m.dividedBy=m.div=function(e){return _(this,new this.constructor(e))},m.dividedToIntegerBy=m.idiv=function(e){var t=this.constructor;return C(_(this,new t(e),0,1),t.precision)},m.equals=m.eq=function(e){return!this.cmp(e)},m.exponent=function(){return E(this)},m.greaterThan=m.gt=function(e){return this.cmp(e)>0},m.greaterThanOrEqualTo=m.gte=function(e){return this.cmp(e)>=0},m.isInteger=m.isint=function(){return this.e>this.d.length-2},m.isNegative=m.isneg=function(){return this.s<0},m.isPositive=m.ispos=function(){return this.s>0},m.isZero=function(){return 0===this.s},m.lessThan=m.lt=function(e){return this.cmp(e)<0},m.lessThanOrEqualTo=m.lte=function(e){return this.cmp(e)<1},m.logarithm=m.log=function(e){var t,n=this,r=n.constructor,s=r.precision,o=s+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(c+"NaN");if(n.s<1)throw Error(c+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(a=!1,t=_(I(n,o),I(e,o),o),a=!0,C(t,s))},m.minus=m.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?k(t,e):y(t,(e.s=-e.s,e))},m.modulo=m.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(c+"NaN");return n.s?(a=!1,t=_(n,e,0,1).times(e),a=!0,n.minus(t)):C(new r(n),i)},m.naturalExponential=m.exp=function(){return b(this)},m.naturalLogarithm=m.ln=function(){return I(this)},m.negated=m.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},m.plus=m.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):k(t,(e.s=-e.s,e))},m.precision=m.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(u+e);if(t=E(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},m.squareRoot=m.sqrt=function(){var e,t,n,r,i,s,o,u=this,l=u.constructor;if(u.s<1){if(!u.s)return new l(0);throw Error(c+"NaN")}for(e=E(u),a=!1,0==(i=Math.sqrt(+u))||i==1/0?(((t=w(u.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=h((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=o=(n=l.precision)+3;;)if(r=(s=r).plus(_(u,s,o+2)).times(.5),w(s.d).slice(0,o)===(t=w(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(C(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if("9999"!=t)break;o+=4}return a=!0,C(r,n)},m.times=m.mul=function(e){var t,n,r,i,s,o,c,u,l,h=this,d=h.constructor,f=h.d,g=(e=new d(e)).d;if(!h.s||!e.s)return new d(0);for(e.s*=h.s,n=h.e+e.e,(u=f.length)<(l=g.length)&&(s=f,f=g,g=s,o=u,u=l,l=o),s=[],r=o=u+l;r--;)s.push(0);for(r=l;--r>=0;){for(t=0,i=u+r;i>r;)c=s[i]+g[r]*f[i-r-1]+t,s[i--]=c%p|0,t=c/p|0;s[i]=(s[i]+t)%p|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,a?C(e,d.precision):e},m.toDecimalPlaces=m.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(v(e,0,s),void 0===t?t=r.rounding:v(t,0,8),C(n,e+E(n)+1,t))},m.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=x(r,!0):(v(e,0,s),void 0===t?t=i.rounding:v(t,0,8),n=x(r=C(new i(r),e+1,t),!0,e+1)),n},m.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?x(i):(v(e,0,s),void 0===t?t=o.rounding:v(t,0,8),n=x((r=C(new o(i),e+E(i)+1,t)).abs(),!1,e+E(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},m.toInteger=m.toint=function(){var e=this,t=e.constructor;return C(new t(e),E(e)+1,t.rounding)},m.toNumber=function(){return+this},m.toPower=m.pow=function(e){var t,n,r,s,o,u,l=this,d=l.constructor,f=+(e=new d(e));if(!e.s)return new d(i);if(!(l=new d(l)).s){if(e.s<1)throw Error(c+"Infinity");return l}if(l.eq(i))return l;if(r=d.precision,e.eq(i))return C(l,r);if(u=(t=e.e)>=(n=e.d.length-1),o=l.s,u){if((n=f<0?-f:f)<=9007199254740991){for(s=new d(i),t=Math.ceil(r/7+4),a=!1;n%2&&N((s=s.times(l)).d,t),0!==(n=h(n/2));)N((l=l.times(l)).d,t);return a=!0,e.s<0?new d(i).div(s):C(s,r)}}else if(o<0)throw Error(c+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,l.s=1,a=!1,s=e.times(I(l,r+12)),a=!0,(s=b(s)).s=o,s},m.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=x(i,(n=E(i))<=o.toExpNeg||n>=o.toExpPos):(v(e,1,s),void 0===t?t=o.rounding:v(t,0,8),r=x(i=C(new o(i),e,t),e<=(n=E(i))||n<=o.toExpNeg,e)),r},m.toSignificantDigits=m.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(v(e,1,s),void 0===t?t=n.rounding:v(t,0,8)),C(new n(this),e,t)},m.toString=m.valueOf=m.val=m.toJSON=function(){var e=this,t=E(e),n=e.constructor;return x(e,t<=n.toExpNeg||t>=n.toExpPos)};var _=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,s,o){var a,u,l,h,d,f,g,m,y,v,w,_,b,T,S,I,A,k,x=r.constructor,N=r.s==i.s?1:-1,R=r.d,O=i.d;if(!r.s)return new x(r);if(!i.s)throw Error(c+"Division by zero");for(u=r.e-i.e,A=O.length,S=R.length,m=(g=new x(N)).d=[],l=0;O[l]==(R[l]||0);)++l;if(O[l]>(R[l]||0)&&--u,(_=null==s?s=x.precision:o?s+(E(r)-E(i))+1:s)<0)return new x(0);if(_=_/7+2|0,l=0,1==A)for(h=0,O=O[0],_++;(l<S||h)&&_--;l++)b=h*p+(R[l]||0),m[l]=b/O|0,h=b%O|0;else{for((h=p/(O[0]+1)|0)>1&&(O=e(O,h),R=e(R,h),A=O.length,S=R.length),T=A,v=(y=R.slice(0,A)).length;v<A;)y[v++]=0;(k=O.slice()).unshift(0),I=O[0],O[1]>=p/2&&++I;do{h=0,(a=t(O,y,A,v))<0?(w=y[0],A!=v&&(w=w*p+(y[1]||0)),(h=w/I|0)>1?(h>=p&&(h=p-1),1==(a=t(d=e(O,h),y,f=d.length,v=y.length))&&(h--,n(d,A<f?k:O,f))):(0==h&&(a=h=1),d=O.slice()),(f=d.length)<v&&d.unshift(0),n(y,d,v),-1==a&&(a=t(O,y,A,v=y.length))<1&&(h++,n(y,A<v?k:O,v)),v=y.length):0===a&&(h++,y=[0]),m[l++]=h,a&&y[0]?y[v++]=R[T]||0:(y=[R[T]],v=1)}while((T++<S||void 0!==y[0])&&_--)}return m[0]||m.shift(),g.e=u,C(g,o?s+E(g)+1:s)}}();function b(e,t){var n,r,s,o,c,u=0,h=0,f=e.constructor,p=f.precision;if(E(e)>16)throw Error(l+E(e));if(!e.s)return new f(i);for(null==t?(a=!1,c=p):c=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),h+=5;for(c+=Math.log(d(2,h))/Math.LN10*2+5|0,n=r=s=new f(i),f.precision=c;;){if(r=C(r.times(e),c),n=n.times(++u),w((o=s.plus(_(r,n,c))).d).slice(0,c)===w(s.d).slice(0,c)){for(;h--;)s=C(s.times(s),c);return f.precision=p,null==t?(a=!0,C(s,p)):s}s=o}}function E(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function T(e,t,n){if(t>e.LN10.sd())throw a=!0,n&&(e.precision=n),Error(c+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function I(e,t){var n,r,s,o,u,l,h,d,f,p=1,g=e,m=g.d,y=g.constructor,v=y.precision;if(g.s<1)throw Error(c+(g.s?"NaN":"-Infinity"));if(g.eq(i))return new y(0);if(null==t?(a=!1,d=v):d=t,g.eq(10))return null==t&&(a=!0),T(y,d);if(d+=10,y.precision=d,r=(n=w(m)).charAt(0),o=E(g),!(Math.abs(o)<15e14))return h=T(y,d+2,v).times(o+""),g=I(new y(r+"."+n.slice(1)),d-10).plus(h),y.precision=v,null==t?(a=!0,C(g,v)):g;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((g=g.times(e)).d)).charAt(0),p++;for(o=E(g),r>1?(g=new y("0."+n),o++):g=new y(r+"."+n.slice(1)),l=u=g=_(g.minus(i),g.plus(i),d),f=C(g.times(g),d),s=3;;){if(u=C(u.times(f),d),w((h=l.plus(_(u,new y(s),d))).d).slice(0,d)===w(l.d).slice(0,d))return l=l.times(2),0!==o&&(l=l.plus(T(y,d+2,v).times(o+""))),l=_(l,new y(p),d),y.precision=v,null==t?(a=!0,C(l,v)):l;l=h,s+=2}}function A(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=h(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),a&&(e.e>g||e.e<-g))throw Error(l+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,i,s,o,c,u,f,m,y=e.d;for(o=1,s=y[0];s>=10;s/=10)o++;if((r=t-o)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(s=y.length))return e;for(f=s=y[m],o=1;s>=10;s/=10)o++;i=(r%=7)-7+o}if(void 0!==n&&(c=f/(s=d(10,o-i-1))%10|0,u=t<0||void 0!==y[m+1]||f%s,u=n<4?(c||u)&&(0==n||n==(e.s<0?3:2)):c>5||5==c&&(4==n||u||6==n&&(r>0?i>0?f/d(10,o-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return u?(s=E(e),y.length=1,t=t-s-1,y[0]=d(10,(7-t%7)%7),e.e=h(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,s=1,m--):(y.length=m+1,s=d(10,7-r),y[m]=i>0?(f/d(10,o-i)%d(10,i)|0)*s:0),u)for(;;){if(0==m){(y[0]+=s)==p&&(y[0]=1,++e.e);break}if(y[m]+=s,y[m]!=p)break;y[m--]=0,s=1}for(r=y.length;0===y[--r];)y.pop();if(a&&(e.e>g||e.e<-g))throw Error(l+E(e));return e}function k(e,t){var n,r,i,s,o,c,u,l,h,d,f=e.constructor,g=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),a?C(t,g):t;if(u=e.d,d=t.d,r=t.e,l=e.e,u=u.slice(),o=l-r){for((h=o<0)?(n=u,o=-o,c=d.length):(n=d,r=l,c=u.length),o>(i=Math.max(Math.ceil(g/7),c)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((h=(i=u.length)<(c=d.length))&&(c=i),i=0;i<c;i++)if(u[i]!=d[i]){h=u[i]<d[i];break}o=0}for(h&&(n=u,u=d,d=n,t.s=-t.s),c=u.length,i=d.length-c;i>0;--i)u[c++]=0;for(i=d.length;i>o;){if(u[--i]<d[i]){for(s=i;s&&0===u[--s];)u[s]=p-1;--u[s],u[i]+=p}u[i]-=d[i]}for(;0===u[--c];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(t.d=u,t.e=r,a?C(t,g):t):new f(0)}function x(e,t,n){var r,i=E(e),s=w(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+S(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+S(-i-1)+s,n&&(r=n-o)>0&&(s+=S(r))):i>=o?(s+=S(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+S(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=S(r))),e.s<0?"-"+s:s}function N(e,t){if(e.length>t)return e.length=t,!0}function R(e){if(!e||"object"!=typeof e)throw Error(c+"Object expected");var t,n,r,i=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(h(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(u+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(u+n+": "+r);this[n]=new this(r)}return this}(o=function e(t){var n,r,i;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(u+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):A(t,e.toString())}if("string"!=typeof e)throw Error(u+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(u+e);A(t,e)}if(s.prototype=m,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=R,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return s.config(t),s}(o)).default=o.Decimal=o,i=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},305(e,t,n){e.exports=n(4200).get},2938(e,t,n){e.exports=n(8695).isPlainObject},25(e,t,n){e.exports=n(1334).last},4338(e,t,n){e.exports=n(5938).maxBy},2972(e,t,n){e.exports=n(924).minBy},1576(e,t,n){e.exports=n(4167).omit},3412(e,t,n){e.exports=n(5012).range},184(e,t,n){e.exports=n(4259).sortBy},2067(e,t,n){e.exports=n(3667).sumBy},4297(e,t,n){e.exports=n(5259).throttle},1081(e,t,n){e.exports=n(2810).uniqBy},4534(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isEqualsSameValueZero=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},8193(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},5711(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e,t=1){const n=[],r=Math.floor(t),i=(e,t)=>{for(let s=0;s<e.length;s++){const o=e[s];Array.isArray(o)&&t<r?i(o,t+1):n.push(o)}};return i(e,0),n}},645(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},334(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.maxBy=function(e,t){if(0===e.length)return;let n=e[0],r=t(n,0,e);for(let i=1;i<e.length;i++){const s=e[i],o=t(s,i,e);o>r&&(r=o,n=s)}return n}},8240(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.minBy=function(e,t){if(0===e.length)return;let n=e[0],r=t(n,0,e);for(let i=1;i<e.length;i++){const s=e[i],o=t(s,i,e);o<r&&(r=o,n=s)}return n}},8805(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],s=t(i,r,e);n.has(s)||n.set(s,i)}return Array.from(n.values())}},3500(e,t){"use strict";function n(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.compareValues=(e,t,r)=>{if(e!==t){const i=n(e),s=n(t);if(i===s&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?s-i:i-s}return 0}},6012(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},1875(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6012);t.getSymbolsIn=function(e){const t=[];for(;e;)t.push(...r.getSymbols(e)),e=Object.getPrototypeOf(e);return t}},2049(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},5112(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},8509(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e,t=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},316(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8509),i=n(58),s=n(4905),o=n(4534);t.isIterateeCall=function(e,t,n){return!!s.isObject(n)&&!!("number"==typeof t&&i.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"==typeof t&&t in n)&&o.isEqualsSameValueZero(n[t],e)}},3998(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1366),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!r.isSymbol(e))||"string"==typeof e&&(s.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e))}},5403(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrototype=function(e){const t=e?.constructor;return e===("function"==typeof t?t.prototype:Object.prototype)}},9184(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},4483(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},1465(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){return"string"==typeof e||"symbol"==typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},6166(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(58);t.flatten=function(e,t=1){const n=[],i=Math.floor(t);if(!r.isArrayLike(e))return n;const s=(e,t)=>{for(let r=0;r<e.length;r++){const o=e[r];t<i&&(Array.isArray(o)||Boolean(o?.[Symbol.isConcatSpreadable])||null!==o&&"object"==typeof o&&"[object Arguments]"===Object.prototype.toString.call(o))?Array.isArray(o)?s(o,t+1):s(Array.from(o),t+1):n.push(o)}};return s(Array.from(e),0),n}},1334(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(645),i=n(4483),s=n(58);t.last=function(e){if(s.isArrayLike(e))return r.last(i.toArray(e))}},3097(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3500),i=n(3998),s=n(3025);t.orderBy=function(e,t,n,o){if(null==e)return[];n=o?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const a=(e,t)=>{let n=e;for(let e=0;e<t.length&&null!=n;++e)n=n[t[e]];return n},c=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:s.toPath(e)}));return e.map(e=>({original:e,criteria:c.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:a(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?a(t,e):"object"==typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<c.length;i++){const s=r.compareValues(e.criteria[i],t.criteria[i],n[i]);if(0!==s)return s}return 0}).map(e=>e.original)}},4259(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3097),i=n(5711),s=n(316);t.sortBy=function(e,...t){const n=t.length;return n>1&&s.isIterateeCall(e,t[0],t[1])?t=[]:n>2&&s.isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),r.orderBy(e,i.flatten(t),["asc"])}},2810(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8805),i=n(6858),s=n(6440),o=n(8161),a=n(8202);t.uniqBy=function(e,t=s.identity){return o.isArrayLikeObject(e)?r.uniqBy(Array.from(e),i.ary(a.iteratee(t),1)):[]}},8(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6773);t.debounce=function(e,t=0,n={}){"object"!=typeof n&&(n={});const{leading:i=!1,trailing:s=!0,maxWait:o}=n,a=Array(2);let c;i&&(a[0]="leading"),s&&(a[1]="trailing");let u=null;const l=r.debounce(function(...t){c=e.apply(this,t),u=null},t,{edges:a}),h=function(...t){return null!=o&&(null===u&&(u=Date.now()),Date.now()-u>=o)?(c=e.apply(this,t),u=Date.now(),l.cancel(),l.schedule(),c):(l.apply(this,t),c)};return h.cancel=l.cancel,h.flush=()=>(l.flush(),c),h}},5259(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8);t.throttle=function(e,t=0,n={}){const{leading:i=!0,trailing:s=!0}=n;return r.debounce(e,t,{leading:i,maxWait:t,trailing:s})}},5938(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(334),i=n(6440),s=n(8202);t.maxBy=function(e,t){if(null!=e)return r.maxBy(Array.from(e),s.iteratee(t??i.identity))}},924(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8240),i=n(6440),s=n(8202);t.minBy=function(e,t){if(null!=e)return r.minBy(Array.from(e),s.iteratee(t??i.identity))}},5012(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(316),i=n(4569);t.range=function(e,t,n){n&&"number"!=typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),n=void 0===n?e<t?1:-1:i.toFinite(n);const s=Math.max(Math.ceil((t-e)/(n||1)),0),o=new Array(s);for(let t=0;t<s;t++)o[t]=e,e+=n;return o}},3667(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8202);t.sumBy=function(e,t){if(!e||!e.length)return 0;let n;null!=t&&(t=r.iteratee(t));for(let r=0;r<e.length;r++){const i=t?t(e[r]):e[r];void 0!==i&&(void 0===n?n=i:n+=i)}return n}},3923(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9467);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},9467(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3964),i=n(2049),s=n(9184);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,o,a,c)=>{const u=t?.(n,o,a,c);if(void 0!==u)return u;if("object"==typeof e){if(i.getTag(e)===s.objectTag&&"function"!=typeof e.constructor){const t={};return c.set(e,t),r.copyProperties(t,e,a,c),t}switch(Object.prototype.toString.call(e)){case s.numberTag:case s.stringTag:case s.booleanTag:{const t=new e.constructor(e?.valueOf());return r.copyProperties(t,e),t}case s.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}}})}},4200(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8193),i=n(5112),s=n(1465),o=n(3025);t.get=function e(t,n,a){if(null==t)return a;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return a;const s=t[n];return void 0===s?i.isDeepKey(n)?e(t,o.toPath(n),a):a:s}case"number":case"symbol":{"number"==typeof n&&(n=s.toKey(n));const e=t[n];return void 0===e?a:e}default:{if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let i=e;for(let e=0;e<t.length;e++){if(null==i)return n;if(r.isUnsafeProperty(t[e]))return n;i=i[t[e]]}return void 0===i?n:i}(t,n,a);if(n=Object.is(n?.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return a;const e=t[n];return void 0===e?a:e}}}},7324(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5112),i=n(8509),s=n(2984),o=n(3025);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"==typeof t&&r.isDeepKey(t)&&null==e?.[t]?o.toPath(t):[t],0===n.length)return!1;let a=e;for(let e=0;e<n.length;e++){const t=n[e];if(!(null!=a&&Object.hasOwn(a,t)||(Array.isArray(a)||s.isArguments(a))&&i.isIndex(t)&&t<a.length))return!1;a=a[t]}return!0}},1621(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(623),i=n(5403),s=n(58),o=n(555),a=n(8485);function c(e){const t=[];for(const n in e)t.push(n);return t}t.keysIn=function(e){if(null==e)return[];switch(typeof e){case"object":case"function":return s.isArrayLike(e)?function(e){const t=a.times(e.length,e=>`${e}`),n=new Set(t);r.isBuffer(e)&&(n.add("offset"),n.add("parent")),o.isTypedArray(e)&&(n.add("buffer"),n.add("byteLength"),n.add("byteOffset"));const i=c(e).filter(e=>!n.has(e));return Array.isArray(e)?[...t,...i]:[...t.filter(t=>Object.hasOwn(e,t)),...i]}(e):i.isPrototype(e)?function(e){return c(e).filter(e=>"constructor"!==e)}(e):c(e);default:return c(Object(e))}}},4167(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9467),i=n(1621),s=n(7841),o=n(1875),a=n(5112),c=n(6166),u=n(8695);t.omit=function(e,...t){if(null==e)return{};const n=function(e,t){return t.some(e=>Array.isArray(e)||a.isDeepKey(e))?function(e){const t={},n=[...i.keysIn(e),...o.getSymbolsIn(e)];for(let i=0;i<n.length;i++){const s=n[i];t[s]=r.cloneDeepWith(e[s],e=>{if(!u.isPlainObject(e))return e})}return t}(e):function(e){const t={},n=[...i.keysIn(e),...o.getSymbolsIn(e)];for(let r=0;r<n.length;r++){const i=n[r];t[i]=e[i]}return t}(e)}(e,t=c.flatten(t));for(let e=0;e<t.length;e++){let r=t[e];switch(typeof r){case"object":Array.isArray(r)||(r=Array.from(r));for(let e=0;e<r.length;e++){const t=r[e];s.unset(n,t)}break;case"string":case"symbol":case"number":s.unset(n,r)}}return n}},3403(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4200);t.property=function(e){return function(t){return r.get(t,e)}}},7841(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4200),i=n(8193),s=n(5112),o=n(1465),a=n(3025);function c(e,t){const n=1===t.length?e:r.get(e,t.slice(0,-1)),s=t[t.length-1];if(void 0===n?.[s])return!0;if(i.isUnsafeProperty(s))return!1;try{return delete n[s],!0}catch{return!1}}t.unset=function(e,t){if(null==e)return!0;switch(typeof t){case"symbol":case"number":case"object":if(Array.isArray(t))return c(e,t);if("number"==typeof t?t=o.toKey(t):"object"==typeof t&&(t=Object.is(t?.valueOf(),-0)?"-0":String(t)),i.isUnsafeProperty(t))return!1;if(void 0===e?.[t])return!0;try{return delete e[t],!0}catch{return!1}case"string":if(void 0===e?.[t]&&s.isDeepKey(t))return c(e,a.toPath(t));if(i.isUnsafeProperty(t))return!1;try{return delete e[t],!0}catch{return!1}}}},2984(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2049);t.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===r.getTag(e)}},58(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9181);t.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&r.isLength(e.length)}},8161(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(58),i=n(1846);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},717(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8273);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8273(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4905),i=n(2520),s=n(4534);function o(e,t,n,u){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return a(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,s]of t.entries())if(!1===n(e.get(i),s,i,e,t,r))return!1;return!0}(e,t,n,r);if(t instanceof Set)return c(e,t,n,r);const s=Object.keys(t);if(null==e||i.isPrimitive(e))return 0===s.length;if(0===s.length)return!0;if(r?.has(t))return r.get(t)===e;r?.set(t,e);try{for(let o=0;o<s.length;o++){const a=s[o];if(!i.isPrimitive(e)&&!(a in e))return!1;if(void 0===t[a]&&void 0!==e[a])return!1;if(null===t[a]&&null!==e[a])return!1;if(!n(e[a],t[a],a,e,t,r))return!1}return!0}finally{r?.delete(t)}}(e,t,n,u);case"function":return Object.keys(t).length>0?o(e,{...t},n,u):s.isEqualsSameValueZero(e,t);default:return r.isObject(e)?"string"!=typeof t||""===t:s.isEqualsSameValueZero(e,t)}}function a(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let s=0;s<t.length;s++){const o=t[s];let a=!1;for(let c=0;c<e.length;c++){if(i.has(c))continue;let u=!1;if(n(e[c],o,s,e,t,r)&&(u=!0),u){i.add(c),a=!0;break}}if(!a)return!1}return!0}function c(e,t,n,r){return 0===t.size||e instanceof Set&&a([...e],[...t],n,r)}t.isMatchWith=function e(t,n,r){return"function"!=typeof r?e(t,n,()=>{}):o(t,n,function e(t,n,i,s,a,c){const u=r(t,n,i,s,a,c);return void 0!==u?Boolean(u):o(t,n,e,c)},new Map)},t.isSetMatch=c},4905(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},1846(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"==typeof e&&null!==e}},8695(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];return null!=t&&(!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`)}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},1366(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}},555(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3908);t.isTypedArray=function(e){return r.isTypedArray(e)}},7861(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(717),i=n(3844);t.matches=function(e){return e=i.cloneDeep(e),t=>r.isMatch(t,e)}},3036(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(717),i=n(1465),s=n(3923),o=n(4200),a=n(7324);t.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=s.cloneDeep(t),function(n){const i=o.get(n,e);return void 0===i?a.has(n,e):void 0===t?void 0===i:r.isMatch(i,t)}}},8202(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6440),i=n(3403),s=n(7861),o=n(3036);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):s.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},8485(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7422);t.times=function(e,t){if((e=r.toInteger(e))<1||!Number.isSafeInteger(e))return[];const n=new Array(e);for(let r=0;r<e;r++)n[r]="function"==typeof t?t(r):r;return n}},4569(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8919);t.toFinite=function(e){return e?(e=r.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}},7422(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4569);t.toInteger=function(e){const t=r.toFinite(e),n=t%1;return n?t-n:t}},8919(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1366);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},3025(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1863),i=n(1465);t.toPath=function(e){if(Array.isArray(e))return e.map(i.toKey);if("symbol"==typeof e)return[e];const t=[],n=(e=r.toString(e)).length;if(0===n)return t;let s=0,o="",a="",c=!1;for(46===e.charCodeAt(0)&&(t.push(""),s++);s<n;){const r=e[s];a?"\\"===r&&s+1<n?(s++,o+=e[s]):r===a?a="":o+=r:c?'"'===r||"'"===r?a=r:"]"===r?(c=!1,t.push(o),o=""):o+=r:"["===r?(c=!0,o&&(t.push(o),o="")):"."===r?o&&(t.push(o),o=""):o+=r,s++}return o&&t.push(o),t}},1863(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"==typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return"0"===n&&Object.is(Number(t),-0)?"-0":n}},6858(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.ary=function(e,t){return function(...n){return e.apply(this,n.slice(0,t))}}},6773(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t,{signal:n,edges:r}={}){let i,s=null;const o=null!=r&&r.includes("leading"),a=null==r||r.includes("trailing"),c=()=>{null!==s&&(e.apply(i,s),i=void 0,s=null)};let u=null;const l=()=>{null!=u&&clearTimeout(u),u=setTimeout(()=>{u=null,a&&c(),h()},t)},h=()=>{null!==u&&(clearTimeout(u),u=null),i=void 0,s=null},d=function(...e){if(n?.aborted)return;i=this,s=e;const t=null==u;l(),o&&t&&c()};return d.schedule=l,d.cancel=h,d.flush=()=>{c()},n?.addEventListener("abort",h,{once:!0}),d}},6440(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},3844(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3964);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},3964(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6012),i=n(2049),s=n(9184),o=n(2520),a=n(3908);function c(e,t,n,r=new Map,l=void 0){const h=l?.(e,t,n,r);if(void 0!==h)return h;if(o.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=c(e[i],i,n,r,l);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[i,s]of e)t.set(i,c(s,i,n,r,l));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const i of e)t.add(c(i,void 0,n,r,l));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(a.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=c(e[i],i,n,r,l);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),u(t,e,n,r,l),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),u(t,e,n,r,l),t}if("undefined"!=typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),u(t,e,n,r,l),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,u(t,e,n,r,l),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return r.set(e,t),u(t,e,n,r,l),t}if(e instanceof Number){const t=new Number(e.valueOf());return r.set(e,t),u(t,e,n,r,l),t}if(e instanceof String){const t=new String(e.valueOf());return r.set(e,t),u(t,e,n,r,l),t}if("object"==typeof e&&function(e){switch(i.getTag(e)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),u(t,e,n,r,l),t}return e}function u(e,t,n=e,i,s){const o=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<o.length;r++){const a=o[r],u=Object.getOwnPropertyDescriptor(e,a);(null==u||u.writable)&&(e[a]=c(t[a],a,n,i,s))}}t.cloneDeepWith=function(e,t){return c(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=c,t.copyProperties=u},623(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isBuffer=function(e){return"undefined"!=typeof Buffer&&Buffer.isBuffer(e)}},9181(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},2520(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}},3908(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},4405(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition");Symbol.for("react.client.reference");t.zv=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case s:case l:case h:case p:return e;default:switch(e=e&&e.$$typeof){case c:case u:case f:case d:case a:return e;default:return t}}case r:return t}}}(e)===i}},4477(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],u=a+1,l=e[u];if(0>s(c,n))u<i&&0>s(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[a]=n,r=a);else{if(!(u<i&&0>s(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],l=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y=!1,v="function"==typeof setTimeout?setTimeout:null,w="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function E(e){if(m=!1,b(e),!g)if(null!==r(u))g=!0,S||(S=!0,T());else{var t=r(l);null!==t&&O(E,t.startTime-e)}}var T,S=!1,I=-1,A=5,C=-1;function k(){return!(!y&&t.unstable_now()-C<A)}function x(){if(y=!1,S){var e=t.unstable_now();C=e;var n=!0;try{e:{g=!1,m&&(m=!1,w(I),I=-1),p=!0;var s=f;try{t:{for(b(e),d=r(u);null!==d&&!(d.expirationTime>e&&k());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof a){d.callback=a,b(e),n=!0;break t}d===r(u)&&i(u),b(e)}else i(u);d=r(u)}if(null!==d)n=!0;else{var c=r(l);null!==c&&O(E,c.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?T():S=!1}}}if("function"==typeof _)T=function(){_(x)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=x,T=function(){R.postMessage(null)}}else T=function(){v(x,0)};function O(e,n){I=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?o+s:o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(l,e),null===r(u)&&e===r(l)&&(m?(w(I),I=-1):m=!0,O(E,s-o))):(e.sortIndex=a,n(u,e),g||p||(g=!0,S||(S=!0,T()))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},9982(e,t,n){"use strict";e.exports=n(4477)},8493(e,t,n){"use strict";var r=n(6540),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useState,o=r.useEffect,a=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return a(function(){i.value=n,i.getSnapshot=t,u(i)&&l({inst:i})},[e,n,t]),o(function(){return u(i)&&l({inst:i}),e(function(){u(i)&&l({inst:i})})},[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},2162(e,t,n){"use strict";var r=n(6540),i=n(9888),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,a=r.useRef,c=r.useEffect,u=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=u(function(){function e(e){if(!c){if(c=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return a=t}return a=e}if(t=a,s(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,a=n)}var o,a,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,i]);var f=o(e,h[0],h[1]);return c(function(){d.hasValue=!0,d.value=f},[f]),l(f),f}},5160(e,t,n){"use strict";var r=n(6540);"function"==typeof Object.is&&Object.is,r.useSyncExternalStore,r.useRef,r.useEffect,r.useMemo,r.useDebugValue},9888(e,t,n){"use strict";e.exports=n(8493)},9242(e,t,n){"use strict";e.exports=n(2162)},8418(e,t,n){"use strict";n(5160)},335(e,t,n){"use strict";n.r(t),n.d(t,{scaleBand:()=>r.A,scaleDiverging:()=>En,scaleDivergingLog:()=>Tn,scaleDivergingPow:()=>In,scaleDivergingSqrt:()=>An,scaleDivergingSymlog:()=>Sn,scaleIdentity:()=>o,scaleImplicit:()=>I.h,scaleLinear:()=>i.A,scaleLog:()=>_,scaleOrdinal:()=>I.A,scalePoint:()=>r.z,scalePow:()=>N,scaleQuantile:()=>z,scaleQuantize:()=>q,scaleRadial:()=>M,scaleSequential:()=>gn,scaleSequentialLog:()=>mn,scaleSequentialPow:()=>vn,scaleSequentialQuantile:()=>_n,scaleSequentialSqrt:()=>wn,scaleSequentialSymlog:()=>yn,scaleSqrt:()=>R,scaleSymlog:()=>S,scaleThreshold:()=>H,scaleTime:()=>un,scaleUtc:()=>ln,tickFormat:()=>Cn.A});var r=n(9072),i=n(6502),s=n(414);function o(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,s.A),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return o(e).unknown(t)},e=arguments.length?Array.from(e,s.A):[0,1],(0,i.C)(n)}var a=n(6946),c=n(1631),u=n(8662);function l(e,t){var n,r=0,i=(e=e.slice()).length-1,s=e[r],o=e[i];return o<s&&(n=r,r=i,i=n,n=s,s=o,o=n),e[r]=t.floor(s),e[i]=t.ceil(o),e}var h=n(5664),d=n(9065);function f(e){return Math.log(e)}function p(e){return Math.exp(e)}function g(e){return-Math.log(-e)}function m(e){return-Math.exp(-e)}function y(e){return isFinite(e)?+("1e"+e):e<0?0:e}function v(e){return(t,n)=>-e(-t,n)}function w(e){const t=e(f,p),n=t.domain;let r,i,s=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),i=function(e){return 10===e?y:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),n()[0]<0?(r=v(r),i=v(i),e(g,m)):e(f,p),t}return t.base=function(e){return arguments.length?(s=+e,o()):s},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],c=t[t.length-1];const u=c<o;u&&([o,c]=[c,o]);let l,h,d=r(o),f=r(c);const p=null==e?10:+e;let g=[];if(!(s%1)&&f-d<p){if(d=Math.floor(d),f=Math.ceil(f),o>0){for(;d<=f;++d)for(l=1;l<s;++l)if(h=d<0?l/i(-d):l*i(d),!(h<o)){if(h>c)break;g.push(h)}}else for(;d<=f;++d)for(l=s-1;l>=1;--l)if(h=d>0?l/i(-d):l*i(d),!(h<o)){if(h>c)break;g.push(h)}2*g.length<p&&(g=(0,a.Ay)(o,c,p))}else g=(0,a.Ay)(d,f,Math.min(f-d,p)).map(i);return u?g.reverse():g},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===s?"s":","),"function"!=typeof n&&(s%1||null!=(n=(0,c.A)(n)).precision||(n.trim=!0),n=(0,u.GP)(n)),e===1/0)return n;const o=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*s<s-.5&&(t*=s),t<=o?n(e):""}},t.nice=()=>n(l(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function _(){const e=w((0,h.Gu)()).domain([1,10]);return e.copy=()=>(0,h.C)(e,_()).base(e.base()),d.C.apply(e,arguments),e}function b(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function E(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function T(e){var t=1,n=e(b(t),E(t));return n.constant=function(n){return arguments.length?e(b(t=+n),E(t)):t},(0,i.C)(n)}function S(){var e=T((0,h.Gu)());return e.copy=function(){return(0,h.C)(e,S()).constant(e.constant())},d.C.apply(e,arguments)}var I=n(4598);function A(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function C(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function k(e){return e<0?-e*e:e*e}function x(e){var t=e(h.D_,h.D_),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(h.D_,h.D_):.5===n?e(C,k):e(A(n),A(1/n)):n},(0,i.C)(t)}function N(){var e=x((0,h.Gu)());return e.copy=function(){return(0,h.C)(e,N()).exponent(e.exponent())},d.C.apply(e,arguments),e}function R(){return N.apply(null,arguments).exponent(.5)}function O(e){return Math.sign(e)*e*e}function M(){var e,t=(0,h.Ay)(),n=[0,1],r=!1;function o(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return o.invert=function(e){return t.invert(O(e))},o.domain=function(e){return arguments.length?(t.domain(e),o):t.domain()},o.range=function(e){return arguments.length?(t.range((n=Array.from(e,s.A)).map(O)),o):n.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(r=!!e,o):r},o.clamp=function(e){return arguments.length?(t.clamp(e),o):t.clamp()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return M(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},d.C.apply(o,arguments),(0,i.C)(o)}function P(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function D(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}var L=n(2902);function j(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function F(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?j:function(e=L.A){if(e===L.A)return j;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const s=r-n+1,o=t-n+1,a=Math.log(s),c=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*c*(s-c)/s)*(o-s/2<0?-1:1);F(e,t,Math.max(n,Math.floor(t-o*c/s+u)),Math.min(r,Math.floor(t+(s-o)*c/s+u)),i)}const s=e[t];let o=n,a=r;for(U(e,n,t),i(e[r],s)>0&&U(e,n,r);o<a;){for(U(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}0===i(e[n],s)?U(e,n,a):(++a,U(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function U(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}var V=n(3131);function $(e,t,n=V.A){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e);return o+(+n(e[s+1],s+1,e)-o)*(i-s)}}var B=n(2016);function z(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=$(t,e/i);return s}function s(t){return null==t||isNaN(t=+t)?e:n[(0,B.Ay)(r,t)]}return s.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(L.A),i()},s.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return r.slice()},s.copy=function(){return z().domain(t).range(n).unknown(e)},d.C.apply(s,arguments)}function q(){var e,t=0,n=1,r=1,s=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[(0,B.Ay)(s,t,0,r)]:e}function c(){var e=-1;for(s=new Array(r);++e<r;)s[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,c()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,c()):o.slice()},a.invertExtent=function(e){var i=o.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,s[0]]:i>=r?[s[r-1],n]:[s[i-1],s[i]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return s.slice()},a.copy=function(){return q().domain([t,n]).range(o).unknown(e)},d.C.apply((0,i.C)(a),arguments)}function H(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[(0,B.Ay)(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return H().domain(t).range(n).unknown(e)},d.C.apply(i,arguments)}var W=n(321);const K=1e3,G=6e4,Q=36e5,Y=864e5,J=6048e5,Z=31536e6,X=new Date,ee=new Date;function te(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,s)=>{const o=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return o;let a;do{o.push(a=new Date(+n)),t(n,s),e(n)}while(a<n&&n<r);return o},i.filter=n=>te(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(X.setTime(+t),ee.setTime(+r),e(X),e(ee),Math.floor(n(X,ee))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const ne=te(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ne.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?te(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ne:null),ne.range;const re=te(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*K)},(e,t)=>(t-e)/K,e=>e.getUTCSeconds()),ie=(re.range,te(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*K)},(e,t)=>{e.setTime(+e+t*G)},(e,t)=>(t-e)/G,e=>e.getMinutes())),se=(ie.range,te(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*G)},(e,t)=>(t-e)/G,e=>e.getUTCMinutes())),oe=(se.range,te(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*K-e.getMinutes()*G)},(e,t)=>{e.setTime(+e+t*Q)},(e,t)=>(t-e)/Q,e=>e.getHours())),ae=(oe.range,te(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Q)},(e,t)=>(t-e)/Q,e=>e.getUTCHours())),ce=(ae.range,te(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*G)/Y,e=>e.getDate()-1)),ue=(ce.range,te(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Y,e=>e.getUTCDate()-1)),le=(ue.range,te(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Y,e=>Math.floor(e/Y)));function he(e){return te(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*G)/J)}le.range;const de=he(0),fe=he(1),pe=he(2),ge=he(3),me=he(4),ye=he(5),ve=he(6);function we(e){return te(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/J)}de.range,fe.range,pe.range,ge.range,me.range,ye.range,ve.range;const _e=we(0),be=we(1),Ee=we(2),Te=we(3),Se=we(4),Ie=we(5),Ae=we(6),Ce=(_e.range,be.range,Ee.range,Te.range,Se.range,Ie.range,Ae.range,te(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),ke=(Ce.range,te(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),xe=(ke.range,te(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));xe.every=e=>isFinite(e=Math.floor(e))&&e>0?te(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,xe.range;const Ne=te(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function Re(e,t,n,r,i,s){const o=[[re,1,K],[re,5,5e3],[re,15,15e3],[re,30,3e4],[s,1,G],[s,5,3e5],[s,15,9e5],[s,30,18e5],[i,1,Q],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Y],[r,2,1728e5],[n,1,J],[t,1,2592e6],[t,3,7776e6],[e,1,Z]];function c(t,n,r){const i=Math.abs(n-t)/r,s=(0,W.A)(([,,e])=>e).right(o,i);if(s===o.length)return e.every((0,a.sG)(t/Z,n/Z,r));if(0===s)return ne.every(Math.max((0,a.sG)(t,n,r),1));const[c,u]=o[i/o[s-1][2]<o[s][2]/i?s-1:s];return c.every(u)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:c(e,t,n),s=i?i.range(e,+t+1):[];return r?s.reverse():s},c]}Ne.every=e=>isFinite(e=Math.floor(e))&&e>0?te(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,Ne.range;const[Oe,Me]=Re(Ne,ke,_e,le,ae,se),[Pe,De]=Re(xe,Ce,de,ce,oe,ie);function Le(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function je(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fe(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Ue,Ve,$e,Be={"-":"",_:" ",0:"0"},ze=/^\s*\d+/,qe=/^%/,He=/[\\^$*+?|[\]().{}]/g;function We(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function Ke(e){return e.replace(He,"\\$&")}function Ge(e){return new RegExp("^(?:"+e.map(Ke).join("|")+")","i")}function Qe(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Ye(e,t,n){var r=ze.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Je(e,t,n){var r=ze.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ze(e,t,n){var r=ze.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Xe(e,t,n){var r=ze.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function et(e,t,n){var r=ze.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function tt(e,t,n){var r=ze.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function nt(e,t,n){var r=ze.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function it(e,t,n){var r=ze.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function st(e,t,n){var r=ze.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ot(e,t,n){var r=ze.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function at(e,t,n){var r=ze.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ct(e,t,n){var r=ze.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ut(e,t,n){var r=ze.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lt(e,t,n){var r=ze.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ht(e,t,n){var r=ze.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function dt(e,t,n){var r=ze.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ft(e,t,n){var r=qe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function pt(e,t,n){var r=ze.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function gt(e,t,n){var r=ze.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function mt(e,t){return We(e.getDate(),t,2)}function yt(e,t){return We(e.getHours(),t,2)}function vt(e,t){return We(e.getHours()%12||12,t,2)}function wt(e,t){return We(1+ce.count(xe(e),e),t,3)}function _t(e,t){return We(e.getMilliseconds(),t,3)}function bt(e,t){return _t(e,t)+"000"}function Et(e,t){return We(e.getMonth()+1,t,2)}function Tt(e,t){return We(e.getMinutes(),t,2)}function St(e,t){return We(e.getSeconds(),t,2)}function It(e){var t=e.getDay();return 0===t?7:t}function At(e,t){return We(de.count(xe(e)-1,e),t,2)}function Ct(e){var t=e.getDay();return t>=4||0===t?me(e):me.ceil(e)}function kt(e,t){return e=Ct(e),We(me.count(xe(e),e)+(4===xe(e).getDay()),t,2)}function xt(e){return e.getDay()}function Nt(e,t){return We(fe.count(xe(e)-1,e),t,2)}function Rt(e,t){return We(e.getFullYear()%100,t,2)}function Ot(e,t){return We((e=Ct(e)).getFullYear()%100,t,2)}function Mt(e,t){return We(e.getFullYear()%1e4,t,4)}function Pt(e,t){var n=e.getDay();return We((e=n>=4||0===n?me(e):me.ceil(e)).getFullYear()%1e4,t,4)}function Dt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+We(t/60|0,"0",2)+We(t%60,"0",2)}function Lt(e,t){return We(e.getUTCDate(),t,2)}function jt(e,t){return We(e.getUTCHours(),t,2)}function Ft(e,t){return We(e.getUTCHours()%12||12,t,2)}function Ut(e,t){return We(1+ue.count(Ne(e),e),t,3)}function Vt(e,t){return We(e.getUTCMilliseconds(),t,3)}function $t(e,t){return Vt(e,t)+"000"}function Bt(e,t){return We(e.getUTCMonth()+1,t,2)}function zt(e,t){return We(e.getUTCMinutes(),t,2)}function qt(e,t){return We(e.getUTCSeconds(),t,2)}function Ht(e){var t=e.getUTCDay();return 0===t?7:t}function Wt(e,t){return We(_e.count(Ne(e)-1,e),t,2)}function Kt(e){var t=e.getUTCDay();return t>=4||0===t?Se(e):Se.ceil(e)}function Gt(e,t){return e=Kt(e),We(Se.count(Ne(e),e)+(4===Ne(e).getUTCDay()),t,2)}function Qt(e){return e.getUTCDay()}function Yt(e,t){return We(be.count(Ne(e)-1,e),t,2)}function Jt(e,t){return We(e.getUTCFullYear()%100,t,2)}function Zt(e,t){return We((e=Kt(e)).getUTCFullYear()%100,t,2)}function Xt(e,t){return We(e.getUTCFullYear()%1e4,t,4)}function en(e,t){var n=e.getUTCDay();return We((e=n>=4||0===n?Se(e):Se.ceil(e)).getUTCFullYear()%1e4,t,4)}function tn(){return"+0000"}function nn(){return"%"}function rn(e){return+e}function sn(e){return Math.floor(+e/1e3)}function on(e){return new Date(e)}function an(e){return e instanceof Date?+e:+new Date(+e)}function cn(e,t,n,r,i,s,o,a,c,u){var d=(0,h.Ay)(),f=d.invert,p=d.domain,g=u(".%L"),m=u(":%S"),y=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),_=u("%b %d"),b=u("%B"),E=u("%Y");function T(e){return(c(e)<e?g:a(e)<e?m:o(e)<e?y:s(e)<e?v:r(e)<e?i(e)<e?w:_:n(e)<e?b:E)(e)}return d.invert=function(e){return new Date(f(e))},d.domain=function(e){return arguments.length?p(Array.from(e,an)):p().map(on)},d.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?T:u(t)},d.nice=function(e){var n=p();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p(l(n,e)):d},d.copy=function(){return(0,h.C)(d,cn(e,t,n,r,i,s,o,a,c,u))},d}function un(){return d.C.apply(cn(Pe,De,xe,Ce,de,ce,oe,ie,re,Ve).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ln(){return d.C.apply(cn(Oe,Me,Ne,ke,_e,ue,ae,se,re,$e).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}Ue=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,c=e.shortMonths,u=Ge(i),l=Qe(i),h=Ge(s),d=Qe(s),f=Ge(o),p=Qe(o),g=Ge(a),m=Qe(a),y=Ge(c),v=Qe(c),w={a:function(e){return o[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:mt,e:mt,f:bt,g:Ot,G:Pt,H:yt,I:vt,j:wt,L:_t,m:Et,M:Tt,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:rn,s:sn,S:St,u:It,U:At,V:kt,w:xt,W:Nt,x:null,X:null,y:Rt,Y:Mt,Z:Dt,"%":nn},_={a:function(e){return o[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:Lt,e:Lt,f:$t,g:Zt,G:en,H:jt,I:Ft,j:Ut,L:Vt,m:Bt,M:zt,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:rn,s:sn,S:qt,u:Ht,U:Wt,V:Gt,w:Qt,W:Yt,x:null,X:null,y:Jt,Y:Xt,Z:tn,"%":nn},b={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:ot,e:ot,f:dt,g:nt,G:tt,H:ct,I:ct,j:at,L:ht,m:st,M:ut,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:it,Q:pt,s:gt,S:lt,u:Je,U:Ze,V:Xe,w:Ye,W:et,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:nt,Y:tt,Z:rt,"%":ft};function E(e,t){return function(n){var r,i,s,o=[],a=-1,c=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++a<u;)37===e.charCodeAt(a)&&(o.push(e.slice(c,a)),null!=(i=Be[r=e.charAt(++a)])?r=e.charAt(++a):i="e"===r?" ":"0",(s=t[r])&&(r=s(n,i)),o.push(r),c=a+1);return o.push(e.slice(c,a)),o.join("")}}function T(e,t){return function(n){var r,i,s=Fe(1900,void 0,1);if(S(s,e,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(i=(r=je(Fe(s.y,0,1))).getUTCDay(),r=i>4||0===i?be.ceil(r):be(r),r=ue.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(i=(r=Le(Fe(s.y,0,1))).getDay(),r=i>4||0===i?fe.ceil(r):fe(r),r=ce.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),i="Z"in s?je(Fe(s.y,0,1)).getUTCDay():Le(Fe(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(i+5)%7:s.w+7*s.U-(i+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,je(s)):Le(s)}}function S(e,t,n,r){for(var i,s,o=0,a=t.length,c=n.length;o<a;){if(r>=c)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(s=b[i in Be?t.charAt(o++):i])||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return w.x=E(n,w),w.X=E(r,w),w.c=E(t,w),_.x=E(n,_),_.X=E(r,_),_.c=E(t,_),{format:function(e){var t=E(e+="",w);return t.toString=function(){return e},t},parse:function(e){var t=T(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=E(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=T(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ve=Ue.format,Ue.parse,$e=Ue.utcFormat,Ue.utcParse;var hn=n(2839),dn=n(9770);function fn(){var e,t,n,r,i,s=0,o=1,a=h.D_,c=!1;function u(t){return null==t||isNaN(t=+t)?i:a(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r;return arguments.length?([n,r]=t,a=e(n,r),u):[a(0),a(1)]}}return u.domain=function(i){return arguments.length?([s,o]=i,e=r(s=+s),t=r(o=+o),n=e===t?0:1/(t-e),u):[s,o]},u.clamp=function(e){return arguments.length?(c=!!e,u):c},u.interpolator=function(e){return arguments.length?(a=e,u):a},u.range=l(hn.A),u.rangeRound=l(dn.A),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return r=i,e=i(s),t=i(o),n=e===t?0:1/(t-e),u}}function pn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gn(){var e=(0,i.C)(fn()(h.D_));return e.copy=function(){return pn(e,gn())},d.K.apply(e,arguments)}function mn(){var e=w(fn()).domain([1,10]);return e.copy=function(){return pn(e,mn()).base(e.base())},d.K.apply(e,arguments)}function yn(){var e=T(fn());return e.copy=function(){return pn(e,yn()).constant(e.constant())},d.K.apply(e,arguments)}function vn(){var e=x(fn());return e.copy=function(){return pn(e,vn()).exponent(e.exponent())},d.K.apply(e,arguments)}function wn(){return vn.apply(null,arguments).exponent(.5)}function _n(){var e=[],t=h.D_;function n(n){if(null!=n&&!isNaN(n=+n))return t(((0,B.Ay)(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(L.A),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>function(e,t,n){if((r=(e=Float64Array.from((0,V.n)(e,n))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return D(e);if(t>=1)return P(e);var r,i=(r-1)*t,s=Math.floor(i),o=P(F(e,s).subarray(0,s+1));return o+(D(e.subarray(s+1))-o)*(i-s)}}(e,r/t))},n.copy=function(){return _n(t).domain(e)},d.K.apply(n,arguments)}function bn(){var e,t,n,r,i,s,o,a=0,c=.5,u=1,l=1,d=h.D_,f=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+s(e))-t)*(l*e<l*t?r:i),d(f?Math.max(0,Math.min(1,e)):e))}function g(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=hn.A);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return s[t](e-t)}}(e,[n,r,i]),p):[d(0),d(.5),d(1)]}}return p.domain=function(o){return arguments.length?([a,c,u]=o,e=s(a=+a),t=s(c=+c),n=s(u=+u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,p):[a,c,u]},p.clamp=function(e){return arguments.length?(f=!!e,p):f},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=g(hn.A),p.rangeRound=g(dn.A),p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return s=o,e=o(a),t=o(c),n=o(u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,p}}function En(){var e=(0,i.C)(bn()(h.D_));return e.copy=function(){return pn(e,En())},d.K.apply(e,arguments)}function Tn(){var e=w(bn()).domain([.1,1,10]);return e.copy=function(){return pn(e,Tn()).base(e.base())},d.K.apply(e,arguments)}function Sn(){var e=T(bn());return e.copy=function(){return pn(e,Sn()).constant(e.constant())},d.K.apply(e,arguments)}function In(){var e=x(bn());return e.copy=function(){return pn(e,In()).exponent(e.exponent())},d.K.apply(e,arguments)}function An(){return In.apply(null,arguments).exponent(.5)}var Cn=n(1275)},0(e,t,n){"use strict";n.d(t,{MF:()=>ue,j6:()=>se,xZ:()=>oe,om:()=>ie,Sx:()=>he,Wp:()=>le,KO:()=>de});var r=n(1711),i=n(722),s=n(3047);let o,a;const c=new WeakMap,u=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(m(this),e),g(c.get(this))}:function(...e){return g(t.apply(m(this),e))}:function(e,...n){const r=t.call(m(this),e,...n);return l.set(r,e.sort?e.sort():[e]),g(r)}:(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});u.set(e,t)}(e),n=e,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>n instanceof e)?new Proxy(e,f):e);var t,n}function g(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(g(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),d.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=p(e);return t!==e&&(h.set(e,t),d.set(t,e)),t}const m=e=>d.get(e),y=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],w=new Map;function _(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return w.set(t,s),s}var b;b=f,f={...b,get:(e,t,n)=>_(e,t)||b.get(e,t,n),has:(e,t)=>!!_(e,t)||b.has(e,t)};class E{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const T="@firebase/app",S="0.14.8",I=new i.Vy("@firebase/app"),A="@firebase/app-compat",C="@firebase/analytics-compat",k="@firebase/analytics",x="@firebase/app-check-compat",N="@firebase/app-check",R="@firebase/auth",O="@firebase/auth-compat",M="@firebase/database",P="@firebase/data-connect",D="@firebase/database-compat",L="@firebase/functions",j="@firebase/functions-compat",F="@firebase/installations",U="@firebase/installations-compat",V="@firebase/messaging",$="@firebase/messaging-compat",B="@firebase/performance",z="@firebase/performance-compat",q="@firebase/remote-config",H="@firebase/remote-config-compat",W="@firebase/storage",K="@firebase/storage-compat",G="@firebase/firestore",Q="@firebase/ai",Y="@firebase/firestore-compat",J="firebase",Z="[DEFAULT]",X={[T]:"fire-core",[A]:"fire-core-compat",[k]:"fire-analytics",[C]:"fire-analytics-compat",[N]:"fire-app-check",[x]:"fire-app-check-compat",[R]:"fire-auth",[O]:"fire-auth-compat",[M]:"fire-rtdb",[P]:"fire-data-connect",[D]:"fire-rtdb-compat",[L]:"fire-fn",[j]:"fire-fn-compat",[F]:"fire-iid",[U]:"fire-iid-compat",[V]:"fire-fcm",[$]:"fire-fcm-compat",[B]:"fire-perf",[z]:"fire-perf-compat",[q]:"fire-rc",[H]:"fire-rc-compat",[W]:"fire-gcs",[K]:"fire-gcs-compat",[G]:"fire-fst",[Y]:"fire-fst-compat",[Q]:"fire-vertex","fire-js":"fire-js",[J]:"fire-js-all"},ee=new Map,te=new Map,ne=new Map;function re(e,t){try{e.container.addComponent(t)}catch(n){I.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ie(e){const t=e.name;if(ne.has(t))return I.debug(`There were multiple attempts to register component ${t}.`),!1;ne.set(t,e);for(const t of ee.values())re(t,e);for(const t of te.values())re(t,e);return!0}function se(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oe(e){return null!=e&&void 0!==e.settings}const ae=new s.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ce{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ae.create("app-deleted",{appName:this._name})}}const ue="12.9.0";function le(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const i={name:Z,automaticDataCollectionEnabled:!0,...t},o=i.name;if("string"!=typeof o||!o)throw ae.create("bad-app-name",{appName:String(o)});if(n||(n=(0,s.T9)()),!n)throw ae.create("no-options");const a=ee.get(o);if(a){if((0,s.bD)(n,a.options)&&(0,s.bD)(i,a.config))return a;throw ae.create("duplicate-app",{appName:o})}const c=new r.h1(o);for(const e of ne.values())c.addComponent(e);const u=new ce(n,i,c);return ee.set(o,u),u}function he(e=Z){const t=ee.get(e);if(!t&&e===Z&&(0,s.T9)())return le();if(!t)throw ae.create("no-app",{appName:e});return t}function de(e,t,n){let i=X[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void I.warn(e.join(" "))}ie(new r.uA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const fe="firebase-heartbeat-store";let pe=null;function ge(){return pe||(pe=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=g(o);return r&&o.addEventListener("upgradeneeded",e=>{r(g(o.result),e.oldVersion,e.newVersion,g(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(fe)}catch(e){console.warn(e)}}}).catch(e=>{throw ae.create("idb-open",{originalErrorMessage:e.message})})),pe}async function me(e,t){try{const n=(await ge()).transaction(fe,"readwrite"),r=n.objectStore(fe);await r.put(t,ye(e)),await n.done}catch(e){if(e instanceof s.g)I.warn(e.message);else{const t=ae.create("idb-set",{originalErrorMessage:e?.message});I.warn(t.message)}}}function ye(e){return`${e.name}!${e.options.appId}`}class ve{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _e(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=we();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){I.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=we(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),be(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),be(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,s.Uj)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return I.warn(e),""}}}function we(){return(new Date).toISOString().substring(0,10)}class _e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ge()).transaction(fe),n=await t.objectStore(fe).get(ye(e));return await t.done,n}catch(e){if(e instanceof s.g)I.warn(e.message);else{const t=ae.create("idb-get",{originalErrorMessage:e?.message});I.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return me(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return me(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function be(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}ie(new r.uA("platform-logger",e=>new E(e),"PRIVATE")),ie(new r.uA("heartbeat",e=>new ve(e),"PRIVATE")),de(T,S,""),de(T,S,"esm2020"),de("fire-js","")},1711(e,t,n){"use strict";n.d(t,{h1:()=>a,uA:()=>i});var r=n(3047);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=s){return this.instances.has(e)}getOptions(e=s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===s?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}var r;return n||null}normalizeInstanceIdentifier(e=s){return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},722(e,t,n){"use strict";n.d(t,{$b:()=>i,Vy:()=>u});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}},3211(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const s=r.forwardRef(i)},8354(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const s=r.forwardRef(i)},4278(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const s=r.forwardRef(i)},2167(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const s=r.forwardRef(i)},2957(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const s=r.forwardRef(i)},7117(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const s=r.forwardRef(i)},5410(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const s=r.forwardRef(i)},6304(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const s=r.forwardRef(i)},9818(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const s=r.forwardRef(i)},2574(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const s=r.forwardRef(i)},4266(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const s=r.forwardRef(i)},5763(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const s=r.forwardRef(i)},6156(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const s=r.forwardRef(i)},72(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const s=r.forwardRef(i)},2509(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const s=r.forwardRef(i)},4180(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const s=r.forwardRef(i)},4015(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const s=r.forwardRef(i)},2254(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const s=r.forwardRef(i)},3012(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3 3 8.735 8.735m0 0a.374.374 0 1 1 .53.53m-.53-.53.53.53m0 0L21 21M14.652 9.348a3.75 3.75 0 0 1 0 5.304m2.121-7.425a6.75 6.75 0 0 1 0 9.546m2.121-11.667c3.808 3.807 3.808 9.98 0 13.788m-9.546-4.242a3.733 3.733 0 0 1-1.06-2.122m-1.061 4.243a6.75 6.75 0 0 1-1.625-6.929m-.496 9.05c-3.068-3.067-3.664-7.67-1.79-11.334M12 12h.008v.008H12V12Z"}))}const s=r.forwardRef(i)},5795(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const s=r.forwardRef(i)},1507(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const s=r.forwardRef(i)},8624(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const s=r.forwardRef(i)},4998(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 0 1 1.06 0Z"}))}const s=r.forwardRef(i)},4576(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6540);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const s=r.forwardRef(i)},5307(e,t,n){"use strict";n.d(t,{CF:()=>m,U1:()=>y,VP:()=>u,Nc:()=>te,Z0:()=>S,aA:()=>p});var r=n(2064),i=n(4644);function s(e){return({dispatch:t,getState:n})=>r=>i=>"function"==typeof i?i(t,n,e):r(i)}var o=s(),a=s,c="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?i.Zz:i.Zz.apply(null,arguments)};function u(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(ne(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>(0,i.ve)(t)&&t.type===e,n}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var l=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function h(e){return(0,r.a6)(e)?(0,r.jM)(e,()=>{}):e}function d(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var f="RTK_autoBatch",p=()=>e=>({payload:e,meta:{[f]:!0}}),g=e=>t=>{setTimeout(t,e)},m=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const a=new Set,c="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:g(10):"callback"===e.type?e.queueNotification:g(e.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>i&&e());return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){try{return i=!e?.meta?.[f],s=!i,s&&(o||(o=!0,c(u))),r.dispatch(e)}finally{i=!0}}})};function y(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let s=new l;return t&&("boolean"==typeof t?s.push(o):s.push(a(t.extraArgument))),s},{reducer:n,middleware:r,devTools:s=!0,duplicateMiddlewareCheck:u=!0,preloadedState:h,enhancers:d}=e||{};let f,p;if("function"==typeof n)f=n;else{if(!(0,i.Qd)(n))throw new Error(ne(1));f=(0,i.HY)(n)}p="function"==typeof r?r(t):t();let g=i.Zz;s&&(g=c({trace:!1,..."object"==typeof s&&s}));const y=(v=(0,i.Tw)(...p),function(e){const{autoBatch:t=!0}=e??{};let n=new l(v);return t&&n.push(m("object"==typeof t?t:void 0)),n});var v;const w=g(..."function"==typeof d?d(y):y());return(0,i.y$)(f,h,w)}function v(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(ne(28));if(r in t)throw new Error(ne(29));return t[r]=n,i},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),i),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var w=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},_=Symbol.for("rtk-slice-createasyncthunk");function b(e,t){return`${e}/${t}`}function E({creators:e}={}){const t=e?.asyncThunk?.[_];return function(e){const{name:n,reducerPath:i=n}=e;if(!n)throw new Error(ne(11));const s=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(s),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(ne(12));if(n in a.sliceCaseReducersByType)throw new Error(ne(13));return a.sliceCaseReducersByType[n]=t,c},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),c),exposeAction:(e,t)=>(a.actionCreators[e]=t,c),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,c)};function l(){const[t={},n=[],i]="function"==typeof e.extraReducers?v(e.extraReducers):[e.extraReducers],s={...t,...a.sliceCaseReducersByType};return function(e){let t,[o,c,u]=v(e=>{for(let t in s)e.addCase(t,s[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);i&&e.addDefaultCase(i)});if("function"==typeof e)t=()=>h(e());else{const n=h(e);t=()=>n}function l(e=t(),n){let i=[o[n.type],...c.filter(({matcher:e})=>e(n)).map(({reducer:e})=>e)];return 0===i.filter(e=>!!e).length&&(i=[u]),i.reduce((e,t)=>{if(t){if((0,r.Qx)(e)){const r=t(e,n);return void 0===r?e:r}if((0,r.a6)(e))return(0,r.jM)(e,e=>t(e,n));{const r=t(e,n);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return l.getInitialState=t,l}(e.initialState)}o.forEach(r=>{const i=s[r],o={reducerName:r,type:b(n,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(ne(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?u(e,o):u(e))}(o,i,c):function({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ne(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:c,settled:u,options:l}=n,h=i(e,s,l);r.exposeAction(t,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),c&&r.addCase(h.rejected,c),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(t,{fulfilled:o||I,pending:a||I,rejected:c||I,settled:u||I})}(o,i,c,t)});const f=e=>e,p=new Map,g=new WeakMap;let m;function y(e,t){return m||(m=l()),m(e,t)}function w(){return m||(m=l()),m.getInitialState()}function _(t,n=!1){function r(e){let i=e[t];return void 0===i&&n&&(i=d(g,r,w)),i}function i(t=f){const r=d(p,n,()=>new WeakMap);return d(r,t,()=>{const r={};for(const[i,s]of Object.entries(e.selectors??{}))r[i]=T(s,t,()=>d(g,t,w),n);return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const E={name:n,reducer:y,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:w,..._(i),injectInto(e,{reducerPath:t,...n}={}){const r=t??i;return e.inject({reducerPath:r,reducer:y},n),{...E,..._(r,!0)}}};return E}}function T(e,t,n,r){function i(i,...s){let o=t(i);return void 0===o&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var S=E();function I(){}var A="listener",C="completed",k="cancelled",x=`task-${k}`,N=`task-${C}`,R=`${A}-${k}`,O=`${A}-${C}`,M=class{constructor(e){this.code=e,this.message=`task ${k} (reason: ${e})`}name="TaskAbortError";message},P=(e,t)=>{if("function"!=typeof e)throw new TypeError(ne(32))},D=()=>{},L=(e,t=D)=>(e.catch(t),e),j=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),F=e=>{if(e.aborted)throw new M(e.reason)};function U(e,t){let n=D;return new Promise((r,i)=>{const s=()=>i(new M(e.reason));e.aborted?s():(n=j(e,s),t.finally(()=>n()).then(r,i))}).finally(()=>{n=D})}var V=e=>t=>L(U(e,t).then(t=>(F(e),t))),$=e=>{const t=V(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:B}=Object,z={},q="listenerMiddleware",H=(e,t)=>(n,r)=>{P(n);const i=new AbortController;var s;s=i,j(e,()=>s.abort(e.reason));const o=(async()=>{try{return await Promise.resolve(),{status:"ok",value:await(async()=>{F(e),F(i.signal);const t=await n({pause:V(i.signal),delay:$(i.signal),signal:i.signal});return F(i.signal),t})()}}catch(e){return{status:e instanceof M?"cancelled":"rejected",error:e}}finally{i.abort(N)}})();return r?.autoJoin&&t.push(o.catch(D)),{result:V(e)(o),cancel(){i.abort(x)}}},W=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=u(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ne(21));return P(s),{predicate:i,type:t,effect:s}},K=B(e=>{const{type:t,predicate:n,effect:r}=W(e);return{id:w(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ne(22))}}},{withTypes:()=>K}),G=(e,t)=>{const{type:n,effect:r,predicate:i}=W(t);return Array.from(e.values()).find(e=>("string"==typeof n?e.type===n:e.predicate===i)&&e.effect===r)},Q=e=>{e.pending.forEach(e=>{e.abort(R)})},Y=(e,t,n)=>{try{e(t,n)}catch(e){setTimeout(()=>{throw e},0)}},J=B(u(`${q}/add`),{withTypes:()=>J}),Z=u(`${q}/removeAll`),X=B(u(`${q}/remove`),{withTypes:()=>X}),ee=(...e)=>{console.error(`${q}/error`,...e)},te=(e={})=>{const t=new Map,n=new Map,{extra:r,onError:s=ee}=e;P(s);const o=e=>{return(n=G(t,e)??K(e)).unsubscribe=()=>t.delete(n.id),t.set(n.id,n),e=>{n.unsubscribe(),e?.cancelActive&&Q(n)};var n};B(o,{withTypes:()=>o});const a=e=>{const n=G(t,e);return n&&(n.unsubscribe(),e.cancelActive&&Q(n)),!!n};B(a,{withTypes:()=>a});const c=async(e,i,a,c)=>{const u=new AbortController,l=((e,t)=>(n,r)=>L((async(n,r)=>{F(t);let i=()=>{};const s=[new Promise((t,r)=>{let s=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{s(),r()}})];null!=r&&s.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await U(t,Promise.race(s));return F(t),e}finally{i()}})(n,r)))(o,u.signal),h=[];try{e.pending.add(u),(e=>{const t=n.get(e)??0;n.set(e,t+1)})(e),await Promise.resolve(e.effect(i,B({},a,{getOriginalState:c,condition:(e,t)=>l(e,t).then(Boolean),take:l,delay:$(u.signal),pause:V(u.signal),extra:r,signal:u.signal,fork:H(u.signal,h),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==u&&(e.abort(R),n.delete(e))})},cancel:()=>{u.abort(R),e.pending.delete(u)},throwIfCancelled:()=>{F(u.signal)}})))}catch(e){e instanceof M||Y(s,e,{raisedBy:"effect"})}finally{await Promise.all(h),u.abort(O),(e=>{const t=n.get(e)??1;1===t?n.delete(e):n.set(e,t-1)})(e),e.pending.delete(u)}},u=((e,t)=>()=>{for(const e of t.keys())Q(e);e.clear()})(t,n);return{middleware:e=>n=>r=>{if(!(0,i.ve)(r))return n(r);if(J.match(r))return o(r.payload);if(Z.match(r))return void u();if(X.match(r))return a(r.payload);let l=e.getState();const h=()=>{if(l===z)throw new Error(ne(23));return l};let d;try{if(d=n(r),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(r,n,l)}catch(e){i=!1,Y(s,e,{raisedBy:"predicate"})}i&&c(t,r,e,h)}}}finally{l=z}return d},startListening:o,stopListening:a,clearListeners:u}};function ne(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original")},2064(e,t,n){"use strict";n.d(t,{Qx:()=>g,a6:()=>m,jM:()=>fe,ss:()=>he});var r=Symbol.for("immer-nothing"),i=Symbol.for("immer-draftable"),s=Symbol.for("immer-state");function o(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var a=Object,c=a.getPrototypeOf,u="constructor",l="prototype",h="configurable",d="enumerable",f="writable",p="value",g=e=>!!e&&!!e[s];function m(e){return!!e&&(w(e)||I(e)||!!e[i]||!!e[u]?.[i]||A(e)||C(e))}var y=a[l][u].toString(),v=new WeakMap;function w(e){if(!e||!k(e))return!1;const t=c(e);if(null===t||t===a[l])return!0;const n=a.hasOwnProperty.call(t,u)&&t[u];if(n===Object)return!0;if(!x(n))return!1;let r=v.get(n);return void 0===r&&(r=Function.toString.call(n),v.set(n,r)),r===y}function _(e,t,n=!0){0===b(e)?(n?Reflect.ownKeys(e):a.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function b(e){const t=e[s];return t?t.type_:I(e)?1:A(e)?2:C(e)?3:0}var E=(e,t,n=b(e))=>2===n?e.has(t):a[l].hasOwnProperty.call(e,t),T=(e,t,n=b(e))=>2===n?e.get(t):e[t],S=(e,t,n,r=b(e))=>{2===r?e.set(t,n):3===r?e.add(n):e[t]=n},I=Array.isArray,A=e=>e instanceof Map,C=e=>e instanceof Set,k=e=>"object"==typeof e,x=e=>"function"==typeof e,N=e=>"boolean"==typeof e,R=e=>e.copy_||e.base_,O=e=>e.modified_?e.copy_:e.base_;function M(e,t){if(A(e))return new Map(e);if(C(e))return new Set(e);if(I(e))return Array[l].slice.call(e);const n=w(e);if(!0===t||"class_only"===t&&!n){const t=a.getOwnPropertyDescriptors(e);delete t[s];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];!1===s[f]&&(s[f]=!0,s[h]=!0),(s.get||s.set)&&(t[i]={[h]:!0,[f]:!0,[d]:s[d],[p]:e[i]})}return a.create(c(e),t)}{const t=c(e);if(null!==t&&n)return{...e};const r=a.create(t);return a.assign(r,e)}}function P(e,t=!1){return L(e)||g(e)||!m(e)||(b(e)>1&&a.defineProperties(e,{set:D,add:D,clear:D,delete:D}),a.freeze(e),t&&_(e,(e,t)=>{P(t,!0)},!1)),e}var D={[p]:function(){o(2)}};function L(e){return null===e||!k(e)||a.isFrozen(e)}var j="MapSet",F="Patches",U="ArrayMethods",V={};function $(e){const t=V[e];return t||o(0),t}var B,z=e=>!!V[e],q=()=>B;function H(e,t){t&&(e.patchPlugin_=$(F),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function W(e){K(e),e.drafts_.forEach(Q),e.drafts_=null}function K(e){e===B&&(B=e.parent_)}var G=e=>B={drafts_:[],parent_:B,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:z(j)?$(j):void 0,arrayMethodsPlugin_:z(U)?$(U):void 0};function Q(e){const t=e[s];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Y(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(void 0!==e&&e!==n){n[s].modified_&&(W(t),o(4)),m(e)&&(e=J(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[s].base_,e,t)}else e=J(t,n);return function(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&P(t,n)}(t,e,!0),W(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r?e:void 0}function J(e,t){if(L(t))return t;const n=t[s];if(!n)return re(t,e.handledSet_,e);if(!X(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:t}=n;if(t)for(;t.length>0;)t.pop()(e);ne(n,e)}return n.copy_}function Z(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var X=(e,t)=>e.scope_===t,ee=[];function te(e,t,n,r){const i=R(e),s=e.type_;if(void 0!==r&&T(i,r,s)===t)return void S(i,r,n,s);if(!e.draftLocations_){const t=e.draftLocations_=new Map;_(i,(e,n)=>{if(g(n)){const r=t.get(n)||[];r.push(e),t.set(n,r)}})}const o=e.draftLocations_.get(t)??ee;for(const e of o)S(i,e,n,s)}function ne(e,t){if(e.modified_&&!e.finalized_&&(3===e.type_||1===e.type_&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const r=n.getPath(e);r&&n.generatePatches_(e,r,t)}Z(e)}}function re(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||g(e)||t.has(e)||!m(e)||L(e)||(t.add(e),_(e,(r,i)=>{if(g(i)){const t=i[s];if(X(t,n)){const n=O(t);S(e,r,n,e.type_),Z(t)}}else m(i)&&re(i,t,n)})),e}var ie={get(e,t){if(t===s)return e;let n=e.scope_.arrayMethodsPlugin_;const r=1===e.type_&&"string"==typeof t;if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=R(e);if(!E(i,t,e.type_))return function(e,t,n){const r=ae(t,n);return r?p in r?r[p]:r.get?.call(e.draft_):void 0}(e,i,t);const o=i[t];if(e.finalized_||!m(o))return o;if(r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&function(e){const t=+e;return Number.isInteger(t)&&String(t)===e}(t))return o;if(o===oe(e.base_,t)){ue(e);const n=1===e.type_?+t:t,r=le(e.scope_,o,e,n);return e.copy_[n]=r}return o},has:(e,t)=>t in R(e),ownKeys:e=>Reflect.ownKeys(R(e)),set(e,t,n){const r=ae(R(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=oe(R(e),t),a=r?.[s];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(((i=n)===(o=r)?0!==i||1/i==1/o:i!=i&&o!=o)&&(void 0!==n||E(e.base_,t,e.type_)))return!0;ue(e),ce(e)}var i,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),function(e,t,n){const{scope_:r}=e;if(g(n)){const i=n[s];X(i,r)&&i.callbacks_.push(function(){ue(e);const r=O(i);te(e,n,r,t)})}else m(n)&&e.callbacks_.push(function(){const i=R(e);3===e.type_?i.has(n)&&re(n,r.handledSet_,r):T(i,t,e.type_)===n&&r.drafts_.length>1&&!0===(e.assigned_.get(t)??!1)&&e.copy_&&re(T(e.copy_,t,e.type_),r.handledSet_,r)})}(e,t,n)),!0},deleteProperty:(e,t)=>(ue(e),void 0!==oe(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),ce(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=R(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{[f]:!0,[h]:1!==e.type_||"length"!==t,[d]:r[d],[p]:n[t]}:r},defineProperty(){o(11)},getPrototypeOf:e=>c(e.base_),setPrototypeOf(){o(12)}},se={};for(let e in ie){let t=ie[e];se[e]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}function oe(e,t){const n=e[s];return(n?R(n):e)[t]}function ae(e,t){if(!(t in e))return;let n=c(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=c(n)}}function ce(e){e.modified_||(e.modified_=!0,e.parent_&&ce(e.parent_))}function ue(e){e.copy_||(e.assigned_=new Map,e.copy_=M(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function le(e,t,n,r){const[i,s]=A(t)?$(j).proxyMap_(t,n):C(t)?$(j).proxySet_(t,n):function(e,t){const n=I(e),r={type_:n?1:0,scope_:t?t.scope_:q(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=ie;n&&(i=[r],s=se);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,[a,r]}(t,n);return(n?.scope_??q()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&void 0!==r?function(e,t,n){e.callbacks_.push(function(r){const i=t;if(!i||!X(i,r))return;r.mapSetPlugin_?.fixSetContents(i);const s=O(i);te(e,i.draft_??i,s,n),ne(i,r)})}(n,s,r):s.callbacks_.push(function(e){e.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:t}=e;s.modified_&&t&&t.generatePatches_(s,[],e)}),i}function he(e){return g(e)||o(10),de(e)}function de(e){if(!m(e)||L(e))return e;const t=e[s];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=M(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=M(e,!0);return _(n,(e,t)=>{S(n,e,de(t))},r),t&&(t.finalized_=!1),n}se.deleteProperty=function(e,t){return se.set.call(this,e,t,void 0)},se.set=function(e,t,n){return ie.set.call(this,e[0],t,n,e[0])};var fe=(new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(x(e)&&!x(t)){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}let i;if(x(t)||o(6),void 0===n||x(n)||o(7),m(e)){const r=G(this),s=le(0,e,void 0);let o=!0;try{i=t(s),o=!1}finally{o?W(r):K(r)}return H(r,n),Y(i,r)}if(!e||!k(e)){if(i=t(e),void 0===i&&(i=e),i===r&&(i=void 0),this.autoFreeze_&&P(i,!0),n){const t=[],r=[];$(F).generateReplacementPatches_(e,i,{patches_:t,inversePatches_:r}),n(t,r)}return i}o(1)},this.produceWithPatches=(e,t)=>{if(x(e))return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},N(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),N(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),N(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){m(e)||o(8),g(e)&&(e=he(e));const t=G(this),n=le(0,e,void 0);return n[s].isManual_=!0,K(t),n}finishDraft(e,t){const n=e&&e[s];n&&n.isManual_||o(9);const{scope_:r}=n;return H(r,t),Y(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=$(F).applyPatches_;return g(e)?r(e,t):this.produce(e,e=>r(e,t))}}).produce},4164(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function i(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{$:()=>i})},2902(e,t,n){"use strict";function r(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{A:()=>r})},2016(e,t,n){"use strict";n.d(t,{Ay:()=>c});var r=n(2902),i=n(321),s=n(3131);const o=(0,i.A)(r.A),a=o.right,c=(o.left,(0,i.A)(s.A).center,a)},321(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(2902);function i(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function s(e){let t,n,s;function a(e,r,i=0,s=e.length){if(i<s){if(0!==t(r,r))return s;do{const t=i+s>>>1;n(e[t],r)<0?i=t+1:s=t}while(i<s)}return i}return 2!==e.length?(t=r.A,n=(t,n)=>(0,r.A)(e(t),n),s=(t,n)=>e(t)-n):(t=e===r.A||e===i?e:o,n=e,s=e),{left:a,center:function(e,t,n=0,r=e.length){const i=a(e,t,n,r-1);return i>n&&s(e[i-1],t)>-s(e[i],t)?i-1:i},right:function(e,r,i=0,s=e.length){if(i<s){if(0!==t(r,r))return s;do{const t=i+s>>>1;n(e[t],r)<=0?i=t+1:s=t}while(i<s)}return i}}}function o(){return 0}},3131(e,t,n){"use strict";function r(e){return null===e?NaN:+e}function*i(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}n.d(t,{A:()=>r,n:()=>i})},6946(e,t,n){"use strict";n.d(t,{Ay:()=>a,lq:()=>c,sG:()=>u});const r=Math.sqrt(50),i=Math.sqrt(10),s=Math.sqrt(2);function o(e,t,n){const a=(t-e)/Math.max(0,n),c=Math.floor(Math.log10(a)),u=a/Math.pow(10,c),l=u>=r?10:u>=i?5:u>=s?2:1;let h,d,f;return c<0?(f=Math.pow(10,-c)/l,h=Math.round(e*f),d=Math.round(t*f),h/f<e&&++h,d/f>t&&--d,f=-f):(f=Math.pow(10,c)*l,h=Math.round(e/f),d=Math.round(t/f),h*f<e&&++h,d*f>t&&--d),d<h&&.5<=n&&n<2?o(e,t,2*n):[h,d,f]}function a(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,s,a]=r?o(t,e,n):o(e,t,n);if(!(s>=i))return[];const c=s-i+1,u=new Array(c);if(r)if(a<0)for(let e=0;e<c;++e)u[e]=(s-e)/-a;else for(let e=0;e<c;++e)u[e]=(s-e)*a;else if(a<0)for(let e=0;e<c;++e)u[e]=(i+e)/-a;else for(let e=0;e<c;++e)u[e]=(i+e)*a;return u}function c(e,t,n){return o(e=+e,t=+t,n=+n)[2]}function u(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?c(t,e,n):c(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}},8662(e,t,n){"use strict";n.d(t,{GP:()=>h,s:()=>d});var r,i=n(7235),s=n(1631),o=n(5204);function a(e,t){var n=(0,o.f)(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const c={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:o.A,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>a(100*e,t),r:a,s:function(e,t){var n=(0,o.f)(e,t);if(!n)return r=void 0,e.toPrecision(t);var i=n[0],s=n[1],a=s-(r=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,c=i.length;return a===c?i:a>c?i+new Array(a-c+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+(0,o.f)(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function u(e){return e}var l,h,d,f=Array.prototype.map,p=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];l=function(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?u:(t=f.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,s=[],o=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),s.push(e.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",l=void 0===e.currency?"":e.currency[1]+"",h=void 0===e.decimal?".":e.decimal+"",d=void 0===e.numerals?u:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(f.call(e.numerals,String)),g=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"":e.minus+"",y=void 0===e.nan?"NaN":e.nan+"";function v(e,t){var n=(e=(0,s.A)(e)).fill,i=e.align,u=e.sign,f=e.symbol,v=e.zero,w=e.width,_=e.comma,b=e.precision,E=e.trim,T=e.type;"n"===T?(_=!0,T="g"):c[T]||(void 0===b&&(b=12),E=!0,T="g"),(v||"0"===n&&"="===i)&&(v=!0,n="0",i="=");var S=(t&&void 0!==t.prefix?t.prefix:"")+("$"===f?a:"#"===f&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),I=("$"===f?l:/[%p]/.test(T)?g:"")+(t&&void 0!==t.suffix?t.suffix:""),A=c[T],C=/[defgprs%]/.test(T);function k(e){var t,s,a,c=S,l=I;if("c"===T)l=A(e)+l,e="";else{var f=(e=+e)<0||1/e<0;if(e=isNaN(e)?y:A(Math.abs(e),b),E&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),f&&0===+e&&"+"!==u&&(f=!1),c=(f?"("===u?u:m:"-"===u||"("===u?"":u)+c,l=("s"!==T||isNaN(e)||void 0===r?"":p[8+r/3])+l+(f&&"("===u?")":""),C)for(t=-1,s=e.length;++t<s;)if(48>(a=e.charCodeAt(t))||a>57){l=(46===a?h+e.slice(t+1):e.slice(t))+l,e=e.slice(0,t);break}}_&&!v&&(e=o(e,1/0));var g=c.length+e.length+l.length,k=g<w?new Array(w-g+1).join(n):"";switch(_&&v&&(e=o(k+e,k.length?w-l.length:1/0),k=""),i){case"<":e=c+e+l+k;break;case"=":e=c+k+e+l;break;case"^":e=k.slice(0,g=k.length>>1)+c+e+l+k.slice(g);break;default:e=k+c+e+l}return d(e)}return b=void 0===b?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),k.toString=function(){return e+""},k}return{format:v,formatPrefix:function(e,t){var n=3*Math.max(-8,Math.min(8,Math.floor((0,i.A)(t)/3))),r=Math.pow(10,-n),o=v(((e=(0,s.A)(e)).type="f",e),{suffix:p[8+n/3]});return function(e){return o(r*e)}}}}({thousands:",",grouping:[3],currency:["$",""]}),h=l.format,d=l.formatPrefix},7235(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(5204);function i(e){return(e=(0,r.f)(Math.abs(e)))?e[1]:NaN}},5204(e,t,n){"use strict";function r(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i(e,t){if(!isFinite(e)||0===e)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}n.d(t,{A:()=>r,f:()=>i})},1631(e,t,n){"use strict";n.d(t,{A:()=>i});var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new s({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function s(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=s.prototype,s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},8981(e,t,n){"use strict";function r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.d(t,{A:()=>r})},9770(e,t,n){"use strict";function r(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}n.d(t,{A:()=>r})},2839(e,t,n){"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function s(){}n.d(t,{A:()=>Y});var o=.7,a=1/o,c="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3,8})$/,d=new RegExp(`^rgb\\(${c},${c},${c}\\)$`),f=new RegExp(`^rgb\\(${l},${l},${l}\\)$`),p=new RegExp(`^rgba\\(${c},${c},${c},${u}\\)$`),g=new RegExp(`^rgba\\(${l},${l},${l},${u}\\)$`),m=new RegExp(`^hsl\\(${u},${l},${l}\\)$`),y=new RegExp(`^hsla\\(${u},${l},${l},${u}\\)$`),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function w(){return this.rgb().formatHex()}function _(){return this.rgb().formatRgb()}function b(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=h.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?E(t):3===n?new I(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?T(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?T(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=d.exec(e))?new I(t[1],t[2],t[3],1):(t=f.exec(e))?new I(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?T(t[1],t[2],t[3],t[4]):(t=g.exec(e))?T(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?R(t[1],t[2]/100,t[3]/100,1):(t=y.exec(e))?R(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?E(v[e]):"transparent"===e?new I(NaN,NaN,NaN,0):null}function E(e){return new I(e>>16&255,e>>8&255,255&e,1)}function T(e,t,n,r){return r<=0&&(e=t=n=NaN),new I(e,t,n,r)}function S(e,t,n,r){return 1===arguments.length?((i=e)instanceof s||(i=b(i)),i?new I((i=i.rgb()).r,i.g,i.b,i.opacity):new I):new I(e,t,n,null==r?1:r);var i}function I(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function A(){return`#${N(this.r)}${N(this.g)}${N(this.b)}`}function C(){const e=k(this.opacity);return`${1===e?"rgb(":"rgba("}${x(this.r)}, ${x(this.g)}, ${x(this.b)}${1===e?")":`, ${e})`}`}function k(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function x(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function N(e){return((e=x(e))<16?"0":"")+e.toString(16)}function R(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new M(e,t,n,r)}function O(e){if(e instanceof M)return new M(e.h,e.s,e.l,e.opacity);if(e instanceof s||(e=b(e)),!e)return new M;if(e instanceof M)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,c=o-i,u=(o+i)/2;return c?(a=t===o?(n-r)/c+6*(n<r):n===o?(r-t)/c+2:(t-n)/c+4,c/=u<.5?o+i:2-o-i,a*=60):c=u>0&&u<1?0:a,new M(a,c,u,e.opacity)}function M(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function P(e){return(e=(e||0)%360)<0?e+360:e}function D(e){return Math.max(0,Math.min(1,e||0))}function L(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function j(e,t,n,r,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*i)/6}r(s,b,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:w,formatHex:w,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return O(this).formatHsl()},formatRgb:_,toString:_}),r(I,S,i(s,{brighter(e){return e=null==e?a:Math.pow(a,e),new I(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?o:Math.pow(o,e),new I(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new I(x(this.r),x(this.g),x(this.b),k(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A,formatHex:A,formatHex8:function(){return`#${N(this.r)}${N(this.g)}${N(this.b)}${N(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:C,toString:C})),r(M,function(e,t,n,r){return 1===arguments.length?O(e):new M(e,t,n,null==r?1:r)},i(s,{brighter(e){return e=null==e?a:Math.pow(a,e),new M(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?o:Math.pow(o,e),new M(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new I(L(e>=240?e-240:e+120,i,r),L(e,i,r),L(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new M(P(this.h),D(this.s),D(this.l),k(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=k(this.opacity);return`${1===e?"hsl(":"hsla("}${P(this.h)}, ${100*D(this.s)}%, ${100*D(this.l)}%${1===e?")":`, ${e})`}`}}));const F=e=>()=>e;function U(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):F(isNaN(e)?t:e)}const V=function e(t){var n=function(e){return 1===(e=+e)?U:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):F(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=S(e)).r,(t=S(t)).r),i=n(e.g,t.g),s=n(e.b,t.b),o=U(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=s(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function $(e){return function(t){var n,r,i=t.length,s=new Array(i),o=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=S(t[n]),s[n]=r.r||0,o[n]=r.g||0,a[n]=r.b||0;return s=e(s),o=e(o),a=e(a),r.opacity=1,function(e){return r.r=s(e),r.g=o(e),r.b=a(e),r+""}}}function B(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,s=new Array(i),o=new Array(r);for(n=0;n<i;++n)s[n]=Y(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=s[n](e);return o}}function z(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}$(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],o=r>0?e[r-1]:2*i-s,a=r<t-1?e[r+2]:2*s-i;return j((n-r/t)*t,o,i,s,a)}}),$(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],a=e[(r+2)%t];return j((n-r/t)*t,i,s,o,a)}});var q=n(8981);function H(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Y(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var W=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K=new RegExp(W.source,"g");function G(e,t){var n,r,i,s=W.lastIndex=K.lastIndex=0,o=-1,a=[],c=[];for(e+="",t+="";(n=W.exec(e))&&(r=K.exec(t));)(i=r.index)>s&&(i=t.slice(s,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:(0,q.A)(n,r)})),s=K.lastIndex;return s<t.length&&(i=t.slice(s),a[o]?a[o]+=i:a[++o]=i),a.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)a[(n=c[r]).i]=n.x(e);return a.join("")})}function Q(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(s){for(n=0;n<r;++n)i[n]=e[n]*(1-s)+t[n]*s;return i}}function Y(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?F(t):("number"===i?q.A:"string"===i?(n=b(t))?(t=n,V):G:t instanceof b?V:t instanceof Date?z:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?B:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?H:q.A:Q))(e,t)}},9072(e,t,n){"use strict";n.d(t,{A:()=>s,z:()=>a});var r=n(9065),i=n(4598);function s(){var e,t,n=(0,i.A)().unknown(void 0),o=n.domain,a=n.range,c=0,u=1,l=!1,h=0,d=0,f=.5;function p(){var n=o().length,r=u<c,i=r?u:c,s=r?c:u;e=(s-i)/Math.max(1,n-h+2*d),l&&(e=Math.floor(e)),i+=(s-i-e*(n-h))*f,t=e*(1-h),l&&(i=Math.round(i),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(i);++r<i;)s[r]=e+r*n;return s}(n).map(function(t){return i+e*t});return a(r?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(o(e),p()):o()},n.range=function(e){return arguments.length?([c,u]=e,c=+c,u=+u,p()):[c,u]},n.rangeRound=function(e){return[c,u]=e,c=+c,u=+u,l=!0,p()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(l=!!e,p()):l},n.padding=function(e){return arguments.length?(h=Math.min(1,d=+e),p()):h},n.paddingInner=function(e){return arguments.length?(h=Math.min(1,e),p()):h},n.paddingOuter=function(e){return arguments.length?(d=+e,p()):d},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),p()):f},n.copy=function(){return s(o(),[c,u]).round(l).paddingInner(h).paddingOuter(d).align(f)},r.C.apply(p(),arguments)}function o(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return o(t())},e}function a(){return o(s.apply(null,arguments).paddingInner(1))}},5664(e,t,n){"use strict";n.d(t,{C:()=>f,Ay:()=>g,D_:()=>u,Gu:()=>p});var r=n(2016),i=n(2839),s=n(8981),o=n(9770),a=n(414),c=[0,1];function u(e){return e}function l(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function h(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=l(i,r),s=n(o,s)):(r=l(r,i),s=n(s,o)),function(e){return s(r(e))}}function d(e,t,n){var i=Math.min(e.length,t.length)-1,s=new Array(i),o=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)s[a]=l(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=(0,r.Ay)(e,t,1,i)-1;return o[n](s[n](t))}}function f(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function p(){var e,t,n,r,l,f,p=c,g=c,m=i.A,y=u;function v(){var e,t,n,i=Math.min(p.length,g.length);return y!==u&&(e=p[0],t=p[i-1],e>t&&(n=e,e=t,t=n),y=function(n){return Math.max(e,Math.min(t,n))}),r=i>2?d:h,l=f=null,w}function w(t){return null==t||isNaN(t=+t)?n:(l||(l=r(p.map(e),g,m)))(e(y(t)))}return w.invert=function(n){return y(t((f||(f=r(g,p.map(e),s.A)))(n)))},w.domain=function(e){return arguments.length?(p=Array.from(e,a.A),v()):p.slice()},w.range=function(e){return arguments.length?(g=Array.from(e),v()):g.slice()},w.rangeRound=function(e){return g=Array.from(e),m=o.A,v()},w.clamp=function(e){return arguments.length?(y=!!e||u,v()):y!==u},w.interpolate=function(e){return arguments.length?(m=e,v()):m},w.unknown=function(e){return arguments.length?(n=e,w):n},function(n,r){return e=n,t=r,v()}}function g(){return p()(u,u)}},9065(e,t,n){"use strict";function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function i(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}n.d(t,{C:()=>r,K:()=>i})},6502(e,t,n){"use strict";n.d(t,{A:()=>c,C:()=>a});var r=n(6946),i=n(5664),s=n(9065),o=n(1275);function a(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,r.Ay)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return(0,o.A)(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,s,o=t(),a=0,c=o.length-1,u=o[a],l=o[c],h=10;for(l<u&&(s=u,u=l,l=s,s=a,a=c,c=s);h-- >0;){if((s=(0,r.lq)(u,l,n))===i)return o[a]=u,o[c]=l,t(o);if(s>0)u=Math.floor(u/s)*s,l=Math.ceil(l/s)*s;else{if(!(s<0))break;u=Math.ceil(u*s)/s,l=Math.floor(l*s)/s}i=s}return e},e}function c(){var e=(0,i.Ay)();return e.copy=function(){return(0,i.C)(e,c())},s.C.apply(e,arguments),a(e)}},414(e,t,n){"use strict";function r(e){return+e}n.d(t,{A:()=>r})},4598(e,t,n){"use strict";n.d(t,{A:()=>c,h:()=>a});class r extends Map{constructor(e,t=s){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(i(this,e))}has(e){return super.has(i(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}(this,e))}}function i({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function s(e){return null!==e&&"object"==typeof e?e.valueOf():e}Set;var o=n(9065);const a=Symbol("implicit");function c(){var e=new r,t=[],n=[],i=a;function s(r){let s=e.get(r);if(void 0===s){if(i!==a)return i;e.set(r,s=t.push(r)-1)}return n[s%n.length]}return s.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new r;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return s},s.range=function(e){return arguments.length?(n=Array.from(e),s):n.slice()},s.unknown=function(e){return arguments.length?(i=e,s):i},s.copy=function(){return c(t,n).unknown(i)},o.C.apply(s,arguments),s}},1275(e,t,n){"use strict";n.d(t,{A:()=>a});var r=n(6946),i=n(1631),s=n(7235),o=n(8662);function a(e,t,n,a){var c,u=(0,r.sG)(e,t,n);switch((a=(0,i.A)(null==a?",f":a)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(c=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,s.A)(t)/3)))-(0,s.A)(Math.abs(e)))}(u,l))||(a.precision=c),(0,o.s)(a,l);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(c=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,s.A)(t)-(0,s.A)(e))+1}(u,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=c-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(c=function(e){return Math.max(0,-(0,s.A)(Math.abs(e)))}(u))||(a.precision=c-2*("%"===a.type))}return(0,o.GP)(a)}},4439(e,t,n){"use strict";n.d(t,{A:()=>u});var r=n(5917),i=n(8946),s=n(6343),o=n(8640),a=n(1509),c=n(9206);function u(e,t,n){var u=null,l=(0,i.A)(!0),h=null,d=s.A,f=null,p=(0,a.i)(g);function g(i){var s,o,a,c,g,m=(i=(0,r.A)(i)).length,y=!1,v=new Array(m),w=new Array(m);for(null==h&&(f=d(g=p())),s=0;s<=m;++s){if(!(s<m&&l(c=i[s],s,i))===y)if(y=!y)o=s,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),a=s-1;a>=o;--a)f.point(v[a],w[a]);f.lineEnd(),f.areaEnd()}y&&(v[s]=+e(c,s,i),w[s]=+t(c,s,i),f.point(u?+u(c,s,i):v[s],n?+n(c,s,i):w[s]))}if(g)return f=null,g+""||null}function m(){return(0,o.A)().defined(l).curve(d).context(h)}return e="function"==typeof e?e:void 0===e?c.x:(0,i.A)(+e),t="function"==typeof t?t:void 0===t?(0,i.A)(0):(0,i.A)(+t),n="function"==typeof n?n:void 0===n?c.y:(0,i.A)(+n),g.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.A)(+t),u=null,g):e},g.x0=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.A)(+t),g):e},g.x1=function(e){return arguments.length?(u=null==e?null:"function"==typeof e?e:(0,i.A)(+e),g):u},g.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.A)(+e),n=null,g):t},g.y0=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.A)(+e),g):t},g.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:(0,i.A)(+e),g):n},g.lineX0=g.lineY0=function(){return m().x(e).y(t)},g.lineY1=function(){return m().x(e).y(n)},g.lineX1=function(){return m().x(u).y(t)},g.defined=function(e){return arguments.length?(l="function"==typeof e?e:(0,i.A)(!!e),g):l},g.curve=function(e){return arguments.length?(d=e,null!=h&&(f=d(h)),g):d},g.context=function(e){return arguments.length?(null==e?h=f=null:f=d(h=e),g):h},g}},5917(e,t,n){"use strict";function r(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}n.d(t,{A:()=>r}),Array.prototype.slice},8946(e,t,n){"use strict";function r(e){return function(){return e}}n.d(t,{A:()=>r})},8134(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function i(e){this._context=e}function s(e){return new i(e)}n.d(t,{Ay:()=>s,zx:()=>r}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},6806(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(6090),i=n(8134);function s(e){this._context=e}function o(e){return new s(e)}s.prototype={areaStart:r.A,areaEnd:r.A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:(0,i.zx)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},4621(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(8134);function i(e){this._context=e}function s(e){return new i(e)}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:(0,r.zx)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},6422(e,t,n){"use strict";n.d(t,{dJ:()=>i,kl:()=>s});class r{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function i(e){return new r(e,!0)}function s(e){return new r(e,!1)}},6343(e,t,n){"use strict";function r(e){this._context=e}function i(e){return new r(e)}n.d(t,{A:()=>i}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},3895(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(6090);function i(e){this._context=e}function s(e){return new i(e)}i.prototype={areaStart:r.A,areaEnd:r.A,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}},1253(e,t,n){"use strict";function r(e){return e<0?-1:1}function i(e,t,n){var i=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(i||s<0&&-0),a=(n-e._y1)/(s||i<0&&-0),c=(o*s+a*i)/(i+s);return(r(o)+r(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(c))||0}function s(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,i+a*t,s-a,o-a*n,s,o)}function a(e){this._context=e}function c(e){this._context=new u(e)}function u(e){this._context=e}function l(e){return new a(e)}function h(e){return new c(e)}n.d(t,{G:()=>l,N:()=>h}),a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o(this,this._t0,s(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o(this,s(this,n=i(this,e,t)),n);break;default:o(this,this._t0,n=i(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(c.prototype=Object.create(a.prototype)).point=function(e,t){a.prototype.point.call(this,t,e)},u.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}}},4537(e,t,n){"use strict";function r(e){this._context=e}function i(e){var t,n,r=e.length-1,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function s(e){return new r(e)}n.d(t,{A:()=>s}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=i(e),s=i(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],s[0][o],r[1][o],s[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}},5836(e,t,n){"use strict";function r(e,t){this._context=e,this._t=t}function i(e){return new r(e,.5)}function s(e){return new r(e,0)}function o(e){return new r(e,1)}n.d(t,{Ay:()=>i,Ko:()=>s,Ps:()=>o}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},8640(e,t,n){"use strict";n.d(t,{A:()=>c});var r=n(5917),i=n(8946),s=n(6343),o=n(1509),a=n(9206);function c(e,t){var n=(0,i.A)(!0),c=null,u=s.A,l=null,h=(0,o.i)(d);function d(i){var s,o,a,d=(i=(0,r.A)(i)).length,f=!1;for(null==c&&(l=u(a=h())),s=0;s<=d;++s)!(s<d&&n(o=i[s],s,i))===f&&((f=!f)?l.lineStart():l.lineEnd()),f&&l.point(+e(o,s,i),+t(o,s,i));if(a)return l=null,a+""||null}return e="function"==typeof e?e:void 0===e?a.x:(0,i.A)(e),t="function"==typeof t?t:void 0===t?a.y:(0,i.A)(t),d.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.A)(+t),d):e},d.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.A)(+e),d):t},d.defined=function(e){return arguments.length?(n="function"==typeof e?e:(0,i.A)(!!e),d):n},d.curve=function(e){return arguments.length?(u=e,null!=c&&(l=u(c)),d):u},d.context=function(e){return arguments.length?(null==e?c=l=null:l=u(c=e),d):c},d}},4552(e,t,n){"use strict";n.d(t,{F8:()=>s,FA:()=>c,RZ:()=>o,gn:()=>r,jk:()=>i,pi:()=>a}),Math.abs,Math.atan2;const r=Math.cos,i=(Math.max,Math.min),s=Math.sin,o=Math.sqrt,a=Math.PI,c=2*a},6090(e,t,n){"use strict";function r(){}n.d(t,{A:()=>r})},6488(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(3414);function i(e,t){if((i=e.length)>0){for(var n,i,s,o=0,a=e[0].length;o<a;++o){for(s=n=0;n<i;++n)s+=e[n][o][1]||0;if(s)for(n=0;n<i;++n)e[n][o][1]/=s}(0,r.A)(e,t)}}},3414(e,t,n){"use strict";function r(e,t){if((i=e.length)>1)for(var n,r,i,s=1,o=e[t[0]],a=o.length;s<i;++s)for(r=o,o=e[t[s]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}n.d(t,{A:()=>r})},1530(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(3414);function i(e,t){if((n=e.length)>0){for(var n,i=0,s=e[t[0]],o=s.length;i<o;++i){for(var a=0,c=0;a<n;++a)c+=e[a][i][1]||0;s[i][1]+=s[i][0]=-c/2}(0,r.A)(e,t)}}},3629(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(3414);function i(e,t){if((s=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,s,o=0,a=1;a<i;++a){for(var c=0,u=0,l=0;c<s;++c){for(var h=e[t[c]],d=h[a][1]||0,f=(d-(h[a-1][1]||0))/2,p=0;p<c;++p){var g=e[t[p]];f+=(g[a][1]||0)-(g[a-1][1]||0)}u+=d,l+=f*d}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,(0,r.A)(e,t)}}},4873(e,t,n){"use strict";function r(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}n.d(t,{A:()=>r})},1509(e,t,n){"use strict";n.d(t,{i:()=>u});const r=Math.PI,i=2*r,s=1e-6,o=i-s;function a(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class c{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?a:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return a;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,s){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+s}`}arcTo(e,t,n,i,o){if(e=+e,t=+t,n=+n,i=+i,(o=+o)<0)throw new Error(`negative radius: ${o}`);let a=this._x1,c=this._y1,u=n-e,l=i-t,h=a-e,d=c-t,f=h*h+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(f>s)if(Math.abs(d*u-l*h)>s&&o){let p=n-a,g=i-c,m=u*u+l*l,y=p*p+g*g,v=Math.sqrt(m),w=Math.sqrt(f),_=o*Math.tan((r-Math.acos((m+f-y)/(2*v*w)))/2),b=_/w,E=_/v;Math.abs(b-1)>s&&this._append`L${e+b*h},${t+b*d}`,this._append`A${o},${o},0,0,${+(d*p>h*g)},${this._x1=e+E*u},${this._y1=t+E*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,a,c,u){if(e=+e,t=+t,u=!!u,(n=+n)<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),h=n*Math.sin(a),d=e+l,f=t+h,p=1^u,g=u?a-c:c-a;null===this._x1?this._append`M${d},${f}`:(Math.abs(this._x1-d)>s||Math.abs(this._y1-f)>s)&&this._append`L${d},${f}`,n&&(g<0&&(g=g%i+i),g>o?this._append`A${n},${n},0,1,${p},${e-l},${t-h}A${n},${n},0,1,${p},${this._x1=d},${this._y1=f}`:g>s&&this._append`A${n},${n},0,${+(g>=r)},${p},${this._x1=e+n*Math.cos(c)},${this._y1=t+n*Math.sin(c)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function u(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new c(t)}},9206(e,t,n){"use strict";function r(e){return e[0]}function i(e){return e[1]}n.d(t,{x:()=>r,y:()=>i})},8872(e,t,n){"use strict";n.d(t,{A:()=>u});var r=n(5917),i=n(8946),s=n(3414),o=n(4873);function a(e,t){return e[t]}function c(e){const t=[];return t.key=e,t}function u(){var e=(0,i.A)([]),t=o.A,n=s.A,u=a;function l(i){var s,o,a=Array.from(e.apply(this,arguments),c),l=a.length,h=-1;for(const e of i)for(s=0,++h;s<l;++s)(a[s][h]=[0,+u(e,a[s].key,h,i)]).data=e;for(s=0,o=(0,r.A)(t(a));s<l;++s)a[o[s]].index=s;return n(a,o),a}return l.keys=function(t){return arguments.length?(e="function"==typeof t?t:(0,i.A)(Array.from(t)),l):e},l.value=function(e){return arguments.length?(u="function"==typeof e?e:(0,i.A)(+e),l):u},l.order=function(e){return arguments.length?(t=null==e?o.A:"function"==typeof e?e:(0,i.A)(Array.from(e)),l):t},l.offset=function(e){return arguments.length?(n=null==e?s.A:e,l):n},l}},5545(e,t,n){"use strict";n.d(t,{Ay:()=>f});var r=n(8946),i=n(1509),s=n(4552);(0,s.RZ)(3);var o=n(9185),a=n(8233),c=n(8361);var u=n(1838);var l=n(6657),h=n(7233);(0,s.RZ)(3);var d=n(7002);function f(e,t){let n=null,s=(0,i.i)(a);function a(){let r;if(n||(n=r=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"==typeof e?e:(0,r.A)(e||o.A),t="function"==typeof t?t:(0,r.A)(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.A)(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.A)(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}o.A,a.A,c.A,u.A,l.A,h.A,d.A,o.A},9185(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(4552);const i={draw(e,t){const n=(0,r.RZ)(t/r.pi);e.moveTo(n,0),e.arc(0,0,n,0,r.FA)}}},8233(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(4552);const i={draw(e,t){const n=(0,r.RZ)(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}},8361(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(4552);const i=(0,r.RZ)(1/3),s=2*i,o={draw(e,t){const n=(0,r.RZ)(t/s),o=n*i;e.moveTo(0,-n),e.lineTo(o,0),e.lineTo(0,n),e.lineTo(-o,0),e.closePath()}}},1838(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(4552);const i={draw(e,t){const n=(0,r.RZ)(t),i=-n/2;e.rect(i,i,n,n)}}},6657(e,t,n){"use strict";n.d(t,{A:()=>a});var r=n(4552);const i=(0,r.F8)(r.pi/10)/(0,r.F8)(7*r.pi/10),s=(0,r.F8)(r.FA/10)*i,o=-(0,r.gn)(r.FA/10)*i,a={draw(e,t){const n=(0,r.RZ)(.8908130915292852*t),i=s*n,a=o*n;e.moveTo(0,-n),e.lineTo(i,a);for(let t=1;t<5;++t){const s=r.FA*t/5,o=(0,r.gn)(s),c=(0,r.F8)(s);e.lineTo(c*n,-o*n),e.lineTo(o*i-c*a,c*i+o*a)}e.closePath()}}},7233(e,t,n){"use strict";n.d(t,{A:()=>s});var r=n(4552);const i=(0,r.RZ)(3),s={draw(e,t){const n=-(0,r.RZ)(t/(3*i));e.moveTo(0,2*n),e.lineTo(-i*n,-n),e.lineTo(i*n,-n),e.closePath()}}},7002(e,t,n){"use strict";n.d(t,{A:()=>c});var r=n(4552);const i=-.5,s=(0,r.RZ)(3)/2,o=1/(0,r.RZ)(12),a=3*(o/2+1),c={draw(e,t){const n=(0,r.RZ)(t/a),c=n/2,u=n*o,l=c,h=n*o+n,d=-l,f=h;e.moveTo(c,u),e.lineTo(l,h),e.lineTo(d,f),e.lineTo(i*c-s*u,s*c+i*u),e.lineTo(i*l-s*h,s*l+i*h),e.lineTo(i*d-s*f,s*d+i*f),e.lineTo(i*c+s*u,i*u-s*c),e.lineTo(i*l+s*h,i*h-s*l),e.lineTo(i*d+s*f,i*f-s*d),e.closePath()}}},223(e,t,n){"use strict";n.d(t,{Wp:()=>r.Wp});var r=n(0);(0,r.KO)("firebase","12.9.0","app")},9916(e,t,n){"use strict";n.d(t,{eJ:()=>nt,xI:()=>mn,hg:()=>it,J1:()=>tt,x9:()=>rt,CI:()=>st});var r=n(0),i=n(3047),s=n(722),o=n(1711);const a=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},c=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),u=new s.Vy("@firebase/auth");function l(e,...t){u.logLevel<=s.$b.ERROR&&u.error(`Auth (${r.MF}): ${e}`,...t)}function h(e,...t){throw g(e,...t)}function d(e,...t){return g(e,...t)}function f(e,t,n){const r={...a(),[t]:n};return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function p(e){return f(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return c.create(e,...t)}function m(e,t,...n){if(!e)throw g(t,...n)}function y(e){const t="INTERNAL ASSERTION FAILED: "+e;throw l(t),new Error(t)}function v(e,t){e||y(t)}function w(){return"undefined"!=typeof self&&self.location?.href||""}function _(){return"undefined"!=typeof self&&self.location?.protocol||null}class b{constructor(e,t){this.shortDelay=e,this.longDelay=t,v(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===_()||"https:"===_()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function E(e,t){v(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class T{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const S={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A=new b(3e4,6e4);function C(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function k(e,t,n,r,s={}){return x(e,s,async()=>{let s={},o={};r&&("GET"===t?o=r:s={body:JSON.stringify(r)});const a=(0,i.Am)({key:e.config.apiKey,...o}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:c,...s};return(0,i.c1)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)&&(u.credentials="include"),T.fetch()(await R(e,e.config.apiHost,n,a),u)})}async function x(e,t,n){e._canInitEmulator=!1;const r={...S,...t};try{const t=new M(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw P(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw P(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw P(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw P(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw f(e,a,o);h(e,a)}}catch(t){if(t instanceof i.g)throw t;h(e,"network-request-failed",{message:String(t)})}}async function N(e,t,n,r,i={}){const s=await k(e,t,n,r,i);return"mfaPendingCredential"in s&&h(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function R(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?E(e.config,i):`${e.config.apiScheme}://${i}`;return I.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())?s._getPersistence()._getFinalTarget(o).toString():o}function O(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(d(this.auth,"network-request-failed")),A.get())})}}function P(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=d(e,t,r);return i.customData._tokenResponse=n,i}function D(e){return void 0!==e&&void 0!==e.enterprise}class L{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return O(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function j(e,t){return k(e,"GET","/v2/recaptchaConfig",C(e,t))}async function F(e,t){return k(e,"POST","/v1/accounts:lookup",t)}function U(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function V(e){return 1e3*Number(e)}function $(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return l("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(l("Failed to decode base64 JWT payload"),null)}catch(e){return l("Caught error parsing JWT payload as JSON",e?.toString()),null}}function B(e){const t=$(e);return m(t,"internal-error"),m(void 0!==t.exp,"internal-error"),m(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function z(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof i.g&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&this.schedule(!0))}this.schedule()}}class H{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=U(this.lastLoginAt),this.creationTime=U(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function W(e){const t=e.auth,n=await e.getIdToken(),r=await z(e,F(t,{idToken:n}));m(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=i.providerUserInfo?.length?K(i.providerUserInfo):[],o=(a=e.providerData,c=s,[...a.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var a,c;const u=e.isAnonymous,l=!(e.email&&i.passwordHash||o?.length),h=!!u&&l,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new H(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,d)}function K(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){m(e.idToken,"internal-error"),m(void 0!==e.idToken,"internal-error"),m(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):B(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){m(0!==e.length,"internal-error");const t=B(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(m(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await x(e,{},async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=await R(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:n};return e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)&&(c.credentials="include"),T.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new G;return n&&(m("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(m("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(m("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return y("not implemented")}}function Q(e,t){m("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Y{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new H(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await z(this,this.stsTokenManager.getToken(this.auth,e));return m(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=(0,i.Ku)(e),r=await n.getIdToken(t),s=$(r);m(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=o?.sign_in_provider;return{claims:s,token:r,authTime:U(V(s.auth_time)),issuedAtTime:U(V(s.iat)),expirationTime:U(V(s.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await W(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(m(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Y({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){m(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await W(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(p(this.auth));const e=await this.getIdToken();return await z(this,async function(e,t){return k(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,i=t.phoneNumber??void 0,s=t.photoURL??void 0,o=t.tenantId??void 0,a=t._redirectEventId??void 0,c=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:l,emailVerified:h,isAnonymous:d,providerData:f,stsTokenManager:p}=t;m(l&&p,e,"internal-error");const g=G.fromJSON(this.name,p);m("string"==typeof l,e,"internal-error"),Q(n,e.name),Q(r,e.name),m("boolean"==typeof h,e,"internal-error"),m("boolean"==typeof d,e,"internal-error"),Q(i,e.name),Q(s,e.name),Q(o,e.name),Q(a,e.name),Q(c,e.name),Q(u,e.name);const y=new Y({uid:l,auth:e,email:r,emailVerified:h,displayName:n,isAnonymous:d,photoURL:s,phoneNumber:i,tenantId:o,stsTokenManager:g,createdAt:c,lastLoginAt:u});return f&&Array.isArray(f)&&(y.providerData=f.map(e=>({...e}))),a&&(y._redirectEventId=a),y}static async _fromIdTokenResponse(e,t,n=!1){const r=new G;r.updateFromServerResponse(t);const i=new Y({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await W(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];m(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?K(r.providerUserInfo):[],s=!(r.email&&r.passwordHash||i?.length),o=new G;o.updateFromIdToken(n);const a=new Y({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new H(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||i?.length)};return Object.assign(a,c),a}}const J=new Map;function Z(e){v(e instanceof Function,"Expected a class definition");let t=J.get(e);return t?(v(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,J.set(e,t),t)}class X{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}X.type="NONE";const ee=X;function te(e,t,n){return`firebase:${e}:${t}:${n}`}class ne{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=te(this.userKey,r.apiKey,i),this.fullPersistenceKey=te("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await F(this.auth,{idToken:e}).catch(()=>{});return t?Y._fromGetAccountInfoResponse(this.auth,t,e):null}return Y._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ne(Z(ee),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Z(ee);const s=te(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(s);if(t){let r;if("string"==typeof t){const n=await F(e,{idToken:t}).catch(()=>{});if(!n)break;r=await Y._fromGetAccountInfoResponse(e,n,t)}else r=Y._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch{}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch{}})),new ne(i,e,n)):new ne(i,e,n)}}function re(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ae(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ie(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ue(t))return"Blackberry";if(le(t))return"Webos";if(se(t))return"Safari";if((t.includes("chrome/")||oe(t))&&!t.includes("edge/"))return"Chrome";if(ce(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function ie(e=(0,i.ZQ)()){return/firefox\//i.test(e)}function se(e=(0,i.ZQ)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oe(e=(0,i.ZQ)()){return/crios\//i.test(e)}function ae(e=(0,i.ZQ)()){return/iemobile/i.test(e)}function ce(e=(0,i.ZQ)()){return/android/i.test(e)}function ue(e=(0,i.ZQ)()){return/blackberry/i.test(e)}function le(e=(0,i.ZQ)()){return/webos/i.test(e)}function he(e=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function de(e=(0,i.ZQ)()){return he(e)||ce(e)||le(e)||ue(e)||/windows phone/i.test(e)||ae(e)}function fe(e,t=[]){let n;switch(e){case"Browser":n=re((0,i.ZQ)());break;case"Worker":n=`${re((0,i.ZQ)())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${r.MF}/${s}`}class pe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e?.message})}}}class ge{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class me{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ve(this),this.idTokenSubscription=new ve(this),this.beforeStateQueue=new pe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Z(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ne.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await F(this,{idToken:e}),n=await Y._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,r=n?._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==r||!s?.user||(n=s.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return m(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await W(e)}catch(e){if("auth/network-request-failed"!==e?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(p(this));const t=e?(0,i.Ku)(e):null;return t&&m(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&m(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(p(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(p(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Z(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return k(e,"GET","/v2/passwordPolicy",C(e,t))}(this),t=new ge(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return k(e,"POST","/v2/accounts:revokeToken",C(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Z(e)||this._popupRedirectResolver;m(t,this,"argument-error"),this.redirectPersistenceManager=await ne.create(this,[Z(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(m(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return m(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e,...t){u.logLevel<=s.$b.WARN&&u.warn(`Auth (${r.MF}): ${e}`,...t)}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ye(e){return(0,i.Ku)(e)}class ve{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)(e=>this.observer=e)}get next(){return m(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let we={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _e(e){return we.loadJS(e)}function be(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ee{constructor(){this.enterprise=new Te}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Te{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Se="NO_RECAPTCHA";class Ie{constructor(e){this.type="recaptcha-enterprise",this.auth=ye(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;D(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Se)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?(new Ee).execute("siteKey",{action:"verify"}):new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{j(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new L(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&D(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=we.recaptchaEnterpriseScript;0!==t.length&&(t+=i),_e(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ae(e,t,n,r=!1,i=!1){const s=new Ie(e);let o;if(i)o=Se;else try{o=await s.verify(n)}catch(e){o=await s.verify(n,!0)}const a={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ce(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ae(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Ae(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const i=await Ae(e,t,n);return r(e,i).catch(async i=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Ae(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Ae(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}function ke(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ne{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return y("not implemented")}_getIdTokenResponse(e){return y("not implemented")}_linkToIdToken(e,t){return y("not implemented")}_getReauthenticationResolver(e){return y("not implemented")}}async function Re(e,t){return k(e,"POST","/v1/accounts:signUp",t)}async function Oe(e,t){return N(e,"POST","/v1/accounts:signInWithPassword",C(e,t))}async function Me(e,t){return async function(e,t){return k(e,"POST","/v1/accounts:sendOobCode",C(e,t))}(e,t)}class Pe extends Ne{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Pe(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Pe(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ce(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Oe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return N(e,"POST","/v1/accounts:signInWithEmailLink",C(e,t))}(e,{email:this._email,oobCode:this._password});default:h(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ce(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Re,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return N(e,"POST","/v1/accounts:signInWithEmailLink",C(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:h(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function De(e,t){return N(e,"POST","/v1/accounts:signInWithIdp",C(e,t))}class Le extends Ne{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Le(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):h("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...i}=t;if(!n||!r)return null;const s=new Le(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return De(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,De(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,De(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}async function je(e,t){return k(e,"POST","/v1/accounts:sendVerificationCode",C(e,t))}const Fe={USER_NOT_FOUND:"user-not-found"};class Ue extends Ne{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ue({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ue({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return N(e,"POST","/v1/accounts:signInWithPhoneNumber",C(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await N(e,"POST","/v1/accounts:signInWithPhoneNumber",C(e,t));if(n.temporaryProof)throw P(e,"account-exists-with-different-credential",n);return n}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return N(e,"POST","/v1/accounts:signInWithPhoneNumber",C(e,{...t,operation:"REAUTH"}),Fe)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ue({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ve{constructor(e){const t=(0,i.I9)((0,i.hp)(e)),n=t.apiKey??null,r=t.oobCode??null,s=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);m(n&&r&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ve(t)}catch{return null}}}class $e{constructor(){this.providerId=$e.PROVIDER_ID}static credential(e,t){return Pe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ve.parseLink(t);return m(n,"argument-error"),Pe._fromEmailAndCode(e,n.code,n.tenantId)}}$e.PROVIDER_ID="password",$e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$e.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Be{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ze extends Be{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qe extends ze{constructor(){super("facebook.com")}static credential(e){return Le._fromParams({providerId:qe.PROVIDER_ID,signInMethod:qe.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qe.credentialFromTaggedObject(e)}static credentialFromError(e){return qe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return qe.credential(e.oauthAccessToken)}catch{return null}}}qe.FACEBOOK_SIGN_IN_METHOD="facebook.com",qe.PROVIDER_ID="facebook.com";class He extends ze{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Le._fromParams({providerId:He.PROVIDER_ID,signInMethod:He.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return He.credentialFromTaggedObject(e)}static credentialFromError(e){return He.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return He.credential(t,n)}catch{return null}}}He.GOOGLE_SIGN_IN_METHOD="google.com",He.PROVIDER_ID="google.com";class We extends ze{constructor(){super("github.com")}static credential(e){return Le._fromParams({providerId:We.PROVIDER_ID,signInMethod:We.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return We.credentialFromTaggedObject(e)}static credentialFromError(e){return We.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return We.credential(e.oauthAccessToken)}catch{return null}}}We.GITHUB_SIGN_IN_METHOD="github.com",We.PROVIDER_ID="github.com";class Ke extends ze{constructor(){super("twitter.com")}static credential(e,t){return Le._fromParams({providerId:Ke.PROVIDER_ID,signInMethod:Ke.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ke.credentialFromTaggedObject(e)}static credentialFromError(e){return Ke.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ke.credential(t,n)}catch{return null}}}async function Ge(e,t){return N(e,"POST","/v1/accounts:signUp",C(e,t))}Ke.TWITTER_SIGN_IN_METHOD="twitter.com",Ke.PROVIDER_ID="twitter.com";class Qe{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Y._fromIdTokenResponse(e,n,r),s=Ye(n);return new Qe({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ye(n);return new Qe({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ye(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Je extends i.g{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Je.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Je(e,t,n,r)}}function Ze(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Je._fromErrorAndOperation(e,n,t,r);throw n})}async function Xe(e,t,n=!1){if((0,r.xZ)(e.app))return Promise.reject(p(e));const i="signIn",s=await Ze(e,i,t),o=await Qe._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(o.user),o}async function et(e){const t=ye(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function tt(e,t,n){const r=ye(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&function(e,t,n){m(n.url?.length>0,e,"invalid-continue-uri"),m(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),m(void 0===n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(m(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(m(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}(r,i,n),await Ce(r,i,"getOobCode",Me,"EMAIL_PASSWORD_PROVIDER")}async function nt(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(p(e));const i=ye(e),s=Ce(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ge,"EMAIL_PASSWORD_PROVIDER"),o=await s.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&et(e),t}),a=await Qe._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function rt(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(p(e)):async function(e,t){return Xe(ye(e),t)}((0,i.Ku)(e),$e.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&et(e),t})}function it(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}function st(e){return(0,i.Ku)(e).signOut()}function ot(e,t){return k(e,"POST","/v2/accounts/mfaEnrollment:start",C(e,t))}new WeakMap;const at="__sak";class ct{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(at,"1"),this.storage.removeItem(at),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ut extends ct{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=de(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ut.type="LOCAL";const lt=ut;class ht extends ct{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ht.type="SESSION";const dt=ht;class ft{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ft(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!s?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function pt(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}ft.receivers=[];class gt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const c=pt("",20);r.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function mt(){return window}function yt(){return void 0!==mt().WorkerGlobalScope&&"function"==typeof mt().importScripts}const vt="firebaseLocalStorageDb",wt="firebaseLocalStorage",_t="fbase_key";class bt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Et(e,t){return e.transaction([wt],t?"readwrite":"readonly").objectStore(wt)}function Tt(){const e=indexedDB.open(vt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(wt,{keyPath:_t})}catch(e){n(e)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(wt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(vt);return new bt(e).toPromise()}(),t(await Tt()))})})}async function St(e,t,n){const r=Et(e,!0).put({[_t]:t,value:n});return new bt(r).toPromise()}function It(e,t){const n=Et(e,!0).delete(t);return new bt(n).toPromise()}class At{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Tt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ft._getInstance(yt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new gt(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tt();return await St(e,at,"1"),await It(e,at),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>St(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Et(e,!1).get(t),r=await new bt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>It(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Et(e,!1).getAll();return new bt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}At.type="LOCAL";const Ct=At;function kt(e,t){return k(e,"POST","/v2/accounts/mfaSignIn:start",C(e,t))}be("rcb"),new b(3e4,6e4);const xt="recaptcha";async function Nt(e,t,n){if(!e._getRecaptchaConfig())try{await async function(e){const t=ye(e),n=await j(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new L(n);null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()&&new Ie(t).verify()}(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"==typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){m("enroll"===t.type,e,"internal-error");const i=Ce(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},"mfaSmsEnrollment",async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===Se?(m(n?.type===xt,e,"argument-error"),ot(e,await Rt(e,t,n))):ot(e,t),"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{m("signin"===t.type,e,"internal-error");const i=r.multiFactorHint?.uid||r.multiFactorUid;m(i,e,"missing-multi-factor-info");const s=Ce(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},"mfaSmsSignIn",async(e,t)=>t.phoneSignInInfo.captchaResponse===Se?(m(n?.type===xt,e,"argument-error"),kt(e,await Rt(e,t,n))):kt(e,t),"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t=Ce(e,{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},"sendVerificationCode",async(e,t)=>t.captchaResponse===Se?(m(n?.type===xt,e,"argument-error"),je(e,await Rt(e,t,n))):je(e,t),"PHONE_PROVIDER");return(await t.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function Rt(e,t,n){m(n.type===xt,e,"argument-error");const r=await n.verify();m("string"==typeof r,e,"argument-error");const i={...t};if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Ot{constructor(e){this.providerId=Ot.PROVIDER_ID,this.auth=ye(e)}verifyPhoneNumber(e,t){return Nt(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return Ue._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ot.credentialFromTaggedObject(t)}static credentialFromError(e){return Ot.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Ue._fromTokenResponse(t,n):null}}Ot.PROVIDER_ID="phone",Ot.PHONE_SIGN_IN_METHOD="phone";class Mt extends Ne{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return De(e,this._buildIdpRequest())}_linkToIdToken(e,t){return De(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return De(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Pt(e){return Xe(e.auth,new Mt(e),e.bypassAuthState)}function Dt(e){const{auth:t,user:n}=e;return m(n,t,"internal-error"),async function(e,t,n=!1){const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(p(i));const s="reauthenticate";try{const r=await z(e,Ze(i,s,t,e),n);m(r.idToken,i,"internal-error");const o=$(r.idToken);m(o,i,"internal-error");const{sub:a}=o;return m(e.uid===a,i,"user-mismatch"),Qe._forOperation(e,s,r)}catch(e){throw"auth/user-not-found"===e?.code&&h(i,"user-mismatch"),e}}(n,new Mt(e),e.bypassAuthState)}async function Lt(e){const{auth:t,user:n}=e;return m(n,t,"internal-error"),async function(e,t,n=!1){const r=await z(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qe._forOperation(e,"link",r)}(n,new Mt(e),e.bypassAuthState)}class jt{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pt;case"linkViaPopup":case"linkViaRedirect":return Lt;case"reauthViaPopup":case"reauthViaRedirect":return Dt;default:h(this.auth,"internal-error")}}resolve(e){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ft=new b(2e3,1e4);class Ut extends jt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ut.currentPopupAction&&Ut.currentPopupAction.cancel(),Ut.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return m(e,this.auth,"internal-error"),e}async onExecution(){v(1===this.filter.length,"Popup operations only handle one event");const e=pt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(d(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(d(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ut.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(d(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ft.get())};e()}}Ut.currentPopupAction=null;const Vt=new Map;class $t extends jt{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Vt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return te("pendingRedirect",e.config.apiKey,e.name)}(t),r=function(e){return Z(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Vt.set(this.auth._key(),e)}return this.bypassAuthState||Vt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Bt(e,t){Vt.set(e._key(),t)}async function zt(e,t,n=!1){if((0,r.xZ)(e.app))return Promise.reject(p(e));const i=ye(e),s=function(e,t){return t?Z(t):(m(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(i,t),o=new $t(i,s,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}class qt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wt(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Wt(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(d(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ht(e))}saveEventToCache(e){this.cachedEventUids.add(Ht(e)),this.lastProcessedEventTime=Date.now()}}function Ht(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Wt({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}const Kt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gt=/^https?/;function Qt(e){const t=w(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gt.test(n))return!1;if(Kt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Yt=new b(3e4,6e4);function Jt(){const e=mt().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function Zt(e){return new Promise((t,n)=>{function r(){Jt(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jt(),n(d(e,"network-request-failed"))},timeout:Yt.get()})}if(mt().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!mt().gapi?.load){const t=be("iframefcb");return mt()[t]=()=>{gapi.load?r():n(d(e,"network-request-failed"))},_e(`${we.gapiScript}?onload=${t}`).catch(e=>n(e))}r()}}).catch(e=>{throw Xt=null,e})}let Xt=null;const en=new b(5e3,15e3),tn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rn(e){const t=e.config;m(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?E(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,s={apiKey:t.apiKey,appName:e.name,v:r.MF},o=nn.get(e.config.apiHost);o&&(s.eid=o);const a=e._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${(0,i.Am)(s).slice(1)}`}const sn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class on{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const an=encodeURIComponent("fac");async function cn(e,t,n,s,o,a){m(e.config.authDomain,e,"auth-domain-config-required"),m(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:r.MF,eventId:o};if(t instanceof Be){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof ze){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const u=c;for(const e of Object.keys(u))void 0===u[e]&&delete u[e];const l=await e._getAppCheckToken(),h=l?`#${an}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?E(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,i.Am)(u).slice(1)}${h}`}const un="webStorageSupport",ln=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dt,this._completeRedirectFn=zt,this._overrideRedirectResult=Bt}async _openPopup(e,t,n,r){return v(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...sn,width:r.toString(),height:s.toString(),top:o,left:a},l=(0,i.ZQ)().toLowerCase();n&&(c=oe(l)?"_blank":n),ie(l)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,i.ZQ)()){return he(e)&&!!window.navigator?.standalone}(l)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new on(null);const d=window.open(t||"",c,h);m(d,e,"popup-blocked");try{d.focus()}catch(e){}return new on(d)}(e,await cn(e,t,n,w(),r),pt())}async _openRedirect(e,t,n,r){return await this._originValidation(e),i=await cn(e,t,n,w(),r),mt().location.href=i,new Promise(()=>{});var i}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(v(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await function(e){return Xt=Xt||Zt(e),Xt}(e),n=mt().gapi;return m(n,e,"internal-error"),t.open({where:document.body,url:rn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=d(e,"network-request-failed"),s=mt().setTimeout(()=>{r(i)},en.get());function o(){mt().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}(e),n=new qt(e);return t.register("authEvent",t=>(m(t?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(un,{type:un},n=>{const r=n?.[0]?.[un];void 0!==r&&t(!!r),h(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return k(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Qt(e))return}catch{}h(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return de()||se()||he()}};var hn="@firebase/auth",dn="1.12.0";class fn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){m(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pn=(0,i.XA)("authIdTokenMaxAge")||300;let gn=null;function mn(e=(0,r.Sx)()){const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,t??{}))return e;h(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ln,persistence:[Ct,lt,dt]}),s=(0,i.XA)("authTokenSyncURL");if(s&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(s,location.origin);if(location.origin===e.origin){const t=(o=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>pn)return;const r=t?.token;gn!==r&&(gn=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){(0,i.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e){(0,i.Ku)(e).onIdTokenChanged(e=>t(e),void 0,void 0)}(n)}}var o;const a=(0,i.Tj)("auth");return a&&function(e,t,n){const r=ye(e);m(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!n?.disableWarnings,o=ke(t),{host:a,port:c}=function(e){const t=ke(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:xe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:xe(t)}}}(t),u=null===c?"":`:${c}`,l={url:`${o}//${a}${u}/`},h=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return m(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void m((0,i.bD)(l,r.config.emulator)&&(0,i.bD)(h,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,(0,i.zJ)(a)?((0,i.gE)(`${o}//${a}${u}`),(0,i.P1)("Auth",!0)):s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${a}`),n}var yn;we={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=d("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},yn="Browser",(0,r.om)(new o.uA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;m(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:s,authDomain:o,clientPlatform:yn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fe(yn)},c=new me(n,r,i,a);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Z);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,r.om)(new o.uA("auth-internal",e=>{return t=ye(e.getProvider("auth").getImmediate()),new fn(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(hn,dn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(yn)),(0,r.KO)(hn,dn,"esm2020")},22(e,t,n){"use strict";n.d(t,{rJ:()=>ua,kd:()=>pc,H9:()=>la,x7:()=>lc,GG:()=>hc,aU:()=>ga,aQ:()=>gc,My:()=>tc,P:()=>Ya,BN:()=>dc,mZ:()=>fc,_M:()=>Za});var r,i,s=n(0),o=n(1711),a=n(3047),c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"==typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,o=e.g[3];s=t+(o^n&(i^o))+r[0]+3614090360&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[3]+3250441966&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[4]+4118548399&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[7]+4249261313&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[8]+1770035416&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[11]+2304563134&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[12]+1804603682&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[15]+1236535329&4294967295,s=t+(i^o&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[0]+3921069994&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[4]+3889429448&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[8]+1163531501&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^o)+r[5]+4294588738&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[1]+2763975236&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[13]+681279174&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[9]+3654602809&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~o))+r[0]+4096336452&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[12]+1700485571&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[8]+1873313359&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[4]+4149444226&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function s(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,o=0;for(;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var o={};function a(e){return-128<=e&&e<128?function(e){var t=o;return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=function(e){return new s([0|e],e<0?-1:0)}(e)}(e):new s([0|e],e<0?-1:0)}function c(e){if(isNaN(e)||!isFinite(e))return l;if(e<0)return g(c(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new s(t,0)}var l=a(0),h=a(1),d=a(16777216);function f(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function g(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new s(n,~e.h).add(h)}function m(e,t){return e.add(g(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function w(e,t){if(f(t))throw Error("division by zero");if(f(e))return new v(l,l);if(p(e))return t=w(g(e),t),new v(g(t.g),g(t.h));if(p(t))return t=w(e,g(t)),new v(g(t.g),t.h);if(e.g.length>30){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=h,r=t;r.l(e)<=0;)n=_(n),r=_(r);var i=b(n,1),s=b(r,1);for(r=b(r,2),n=b(n,2);!f(r);){var o=s.add(r);o.l(e)<=0&&(i=i.add(n),s=o),r=b(r,1),n=b(n,1)}return t=m(e,i.j(t)),new v(i,t)}for(i=l;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),o=(s=c(n)).j(t);p(o)||o.l(e)>0;)o=(s=c(n-=r)).j(t);f(s)&&(s=h),i=i.add(s),e=m(e,o)}return new v(i,e)}function _(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new s(n,e.h)}function b(e,t){const n=t>>5;t%=32;const r=e.g.length-n,i=[];for(let s=0;s<r;s++)i[s]=t>0?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new s(i,e.h)}(e=s.prototype).m=function(){if(p(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+g(this).toString(e);const t=c(Math.pow(e,6));var n=this;let r="";for(;;){const i=w(n,t).g;let s=(((n=m(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=m(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?g(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let r=0;for(let i=0;i<=t;i++){let t=r+(65535&this.i(i))+(65535&e.i(i)),s=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16,t&=65535,s&=65535,n[i]=s<<16|t}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return l;if(p(this))return p(e)?g(this).j(g(e)):g(g(this).j(e));if(p(e))return g(this.j(g(e)));if(this.l(d)<0&&e.l(d)<0)return c(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){const i=this.i(r)>>>16,s=65535&this.i(r),o=e.i(t)>>>16,a=65535&e.i(t);n[2*r+2*t]+=s*a,y(n,2*r+2*t),n[2*r+2*t+1]+=i*a,y(n,2*r+2*t+1),n[2*r+2*t+1]+=s*o,y(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,y(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new s(n,0)},e.B=function(e){return w(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new s(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new s(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,i=u.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return g(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=c(Math.pow(n,8));let i=l;for(let e=0;e<t.length;e+=8){var s=Math.min(8,t.length-e);const o=parseInt(t.substring(e,e+s),n);s<8?(s=c(Math.pow(n,s)),i=i.j(s).add(c(o))):(i=i.j(r),i=i.add(c(o)))}return i},r=u.Integer=s}).apply(void 0!==c?c:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var l,h,d,f,p,g,m,y,v=n(722),w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},_={};(function(){var e,t=Object.defineProperty,n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof w&&w];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},s=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){return(c=a).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function v(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var b="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function E(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function T(e,t){for(let t=1;t<arguments.length;t++){const r=arguments[t];var n=typeof r;if("array"==(n="object"!=n?n:r?Array.isArray(r)?"array":n:"null")||"object"==n&&"number"==typeof r.length){n=e.length||0;const t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}function S(e){s.setTimeout(()=>{throw e},0)}function I(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var A=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new C,e=>e.reset());class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let k,x=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=A.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=Promise.resolve(void 0);k=()=>{e.then(O)}};function O(){for(var e;e=I();){try{e.h.call(e.g)}catch(e){S(e)}var t=A;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}x=!1}function M(){this.u=this.u,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(e){}return e}();function L(e){return/^[\s\xa0]*$/.test(e)}function j(e,t){P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}v(j,P),j.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&j.Z.h.call(this)},j.prototype.h=function(){j.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),U=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function $(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function z(e){const t={};for(const n in e)t[n]=e[n];return t}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<q.length;t++)n=q[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function W(e){this.src=e,this.g={},this.h=0}function K(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&($(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function G(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}W.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const o=G(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new V(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Q="closure_lm_"+(1e6*Math.random()|0),Y={};function J(e,t,n,r,i){if(r&&r.once)return X(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)J(e,t[s],n,r,i);return null}return n=oe(n),e&&e[F]?e.J(t,n,o(r)?!!r.capture:!!r,i):Z(e,t,n,!1,r,i)}function Z(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const a=o(i)?!!i.capture:!!i;let c=ie(e);if(c||(e[Q]=c=new W(e)),(n=c.add(t,n,r,a,s)).proxy)return n;if(r=function(){const e=re;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ne(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function X(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)X(e,t[s],n,r,i);return null}return n=oe(n),e&&e[F]?e.K(t,n,o(r)?!!r.capture:!!r,i):Z(e,t,n,!0,r,i)}function ee(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ee(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=oe(n),e&&e[F]?(e=e.i,(s=String(t).toString())in e.g&&(n=G(t=e.g[s],n,r,i))>-1&&($(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--))):e&&(e=ie(e))&&(t=e.g[t.toString()],e=-1,t&&(e=G(t,n,r,i)),(n=e>-1?t[e]:null)&&te(n))}function te(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])K(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ne(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ie(t))?(K(n,e),0==n.h&&(n.src=null,t[Q]=null)):$(e)}}}function ne(e){return e in Y?Y[e]:Y[e]="on"+e}function re(e,t){if(e.da)e=!0;else{t=new j(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&te(e),e=n.call(r,t)}return e}function ie(e){return(e=e[Q])instanceof W?e:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function oe(e){return"function"==typeof e?e:(e[se]||(e[se]=function(t){return e.handleEvent(t)}),e[se])}function ae(){M.call(this),this.i=new W(this),this.M=this,this.G=null}function ce(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;H(t=new P(r,e),i)}let s,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)s=t.g=n[o],i=ue(s,r,!0,t)&&i;if(s=t.g=e,i=ue(s,r,!0,t)&&i,i=ue(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=ue(s,r,!1,t)&&i}function ue(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const o=t[s];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&K(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function le(e){e.g=function(e,t){if("function"!=typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,le(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}v(ae,M),ae.prototype[F]=!0,ae.prototype.removeEventListener=function(e,t,n,r){ee(this,e,t,n,r)},ae.prototype.N=function(){if(ae.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)$(n[e]);delete e.g[t],e.h--}}this.G=null},ae.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ae.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class he extends M{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:le(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function de(e){M.call(this),this.h=e,this.g={}}v(de,M);var fe=[];function pe(e){B(e.g,function(e,t){this.g.hasOwnProperty(t)&&te(e)},e),e.g={}}de.prototype.N=function(){de.Z.N.call(this),pe(this)},de.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ge=s.JSON.stringify,me=s.JSON.parse,ye=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function ve(){}function we(){}var _e={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function be(){P.call(this,"d")}function Ee(){P.call(this,"c")}v(be,P),v(Ee,P);var Te={},Se=null;function Ie(){return Se=Se||new ae}function Ae(e){P.call(this,Te.Ia,e)}function Ce(e){const t=Ie();ce(t,new Ae(t))}function ke(e,t){P.call(this,Te.STAT_EVENT,e),this.stat=t}function xe(e){const t=Ie();ce(t,new ke(t,e))}function Ne(e,t){P.call(this,Te.Ja,e),this.size=t}function Re(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Oe(){this.g=!0}function Me(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return ge(s)}catch(e){return t}}(e,n)+(r?" "+r:"")})}Te.Ia="serverreachability",v(Ae,P),Te.STAT_EVENT="statevent",v(ke,P),Te.Ja="timingevent",v(Ne,P),Oe.prototype.ua=function(){this.g=!1},Oe.prototype.info=function(){};var Pe,De={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Le={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function je(){}function Fe(e){return encodeURIComponent(String(e))}function Ue(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ve(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new de(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $e}function $e(){this.i=null,this.g="",this.h=!1}v(je,ve),je.prototype.g=function(){return new XMLHttpRequest},Pe=new je;var Be={},ze={};function qe(e,t,n){e.M=1,e.A=gt(lt(t)),e.u=n,e.R=!0,He(e,null)}function He(e,t){e.F=Date.now(),Ge(e),e.B=lt(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),xt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new $e,e.g=mn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new he(c(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(fe[0]=i.toString()),i=fe);for(let e=0;e<i.length;e++){const s=J(n,i[e],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.J?z(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),Ce(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var o="",a=s.split("&");for(let e=0;e<a.length;e++){var c=a[e].split("=");if(c.length>1){const e=c[0];c=c[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+c+"&":o+(e+"=redacted&")}}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function We(e){return!!e.g&&"GET"==e.v&&2!=e.M&&e.j.Aa}function Ke(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ze:(n=Number(t.substring(n,r)),isNaN(n)?Be:(r+=1)+n>t.length?ze:(t=t.slice(r,r+n),e.C=r+n,t))}function Ge(e){e.T=Date.now()+e.H,Qe(e,e.H)}function Qe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Re(c(e.aa,e),t)}function Ye(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function Je(e){0==e.j.I||e.K||hn(e.j,e)}function Ze(e){Ye(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,pe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Xe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||it(n.h,e)))if(!e.L&&it(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;ln(n),Xt(n)}an(n),xe(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Re(c(n.Va,n),6e3));rt(n.h)<=1&&n.ta&&(n.ta=void 0)}else fn(n,11)}else if((e.L||n.g==e)&&ln(n),!L(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let c=i[t];const l=c[0];if(!(l<=n.K))if(n.K=l,c=c[1],2==n.I)if("c"==c[0]){n.M=c[1],n.ba=c[2];const t=c[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=c[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const l=c[5];null!=l&&"number"==typeof l&&l>0&&(r=1.5*l,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(st(s,s.h),s.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,pt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=gn(r,r.L?r.ba:null,r.W),o.L){ot(r.h,o);var a=o,u=r.O;u&&(a.H=u),a.D&&(Ye(a),Ge(a)),r.g=o}else on(r);n.i.length>0&&tn(n)}else"stop"!=c[0]&&"close"!=c[0]||fn(n,7);else 3==n.I&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?fn(n,7):Zt(n):"noop"!=c[0]&&n.l&&n.l.qa(c),n.A=0)}Ce()}catch(e){}}Ve.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Gt(e)?t.j():this.Y(e)},Ve.prototype.Y=function(e){try{if(e==this.g)e:{const c=Gt(this.g),u=this.g.ya();if(this.g.ca(),!(c<3)&&(3!=c||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||4!=c||7==u||Ce(),Ye(this);var t=this.g.ca();this.X=t;var n=function(e){if(!We(e))return e.g.la();const t=Qt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Gt(e.g);if(!e.h.i){if("undefined"==typeof TextDecoder)return Ze(e),Je(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.v,this.B,this.l,this.S,c,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,xe(12),Ze(this),Je(this);break e}Me(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Ke(this,n),t==ze){4==c&&(this.m=4,xe(14),e=!1),Me(this.i,this.l,null,"[Incomplete Response]");break}if(t==Be){this.m=4,xe(15),Me(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Me(this.i,this.l,t,null),Xe(this,t)}if(We(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=c||0!=n.length||this.h.h||(this.m=1,xe(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),cn(a),a.P=!0,xe(11))}}else Me(this.i,this.l,n,"[Invalid Chunked Response]"),Ze(this),Je(this)}else Me(this.i,this.l,n,null),Xe(this,n);4==c&&Ze(this),this.o&&!this.K&&(4==c?hn(this.j,this):(this.o=!1,Ge(this)))}else(function(e){const t={};e=(e.g&&Gt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(L(e[r]))continue;var n=Ue(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),Ze(this),Je(this)}}}catch(e){}},Ve.prototype.cancel=function(){this.K=!0,Ze(this)},Ve.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(Ce(),xe(17)),Ze(this),this.m=2,Je(this)):Qe(this,this.T-e)};var et=class{constructor(e,t){this.g=e,this.map=t}};function tt(e){this.l=e||10,e=s.PerformanceNavigationTiming?(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function rt(e){return e.h?1:e.g?e.g.size:0}function it(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function st(e,t){e.g?e.g.add(t):e.h=t}function ot(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function at(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return E(e.i)}tt.prototype.cancel=function(){if(this.i=at(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ct=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ut(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof ut?(this.l=e.l,ht(this,e.j),this.o=e.o,this.g=e.g,dt(this,e.u),this.h=e.h,ft(this,Nt(e.i)),this.m=e.m):e&&(t=String(e).match(ct))?(this.l=!1,ht(this,t[1]||"",!0),this.o=mt(t[2]||""),this.g=mt(t[3]||"",!0),dt(this,t[4]),this.h=mt(t[5]||"",!0),ft(this,t[6]||"",!0),this.m=mt(t[7]||"")):(this.l=!1,this.i=new St(null,this.l))}function lt(e){return new ut(e)}function ht(e,t,n){e.j=n?mt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function dt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function ft(e,t,n){t instanceof St?(e.i=t,function(e,t){t&&!e.j&&(It(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(At(this,t),xt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=yt(t,Et)),e.i=new St(t,e.l))}function pt(e,t,n){e.i.set(t,n)}function gt(e){return pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function yt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,vt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ut.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(yt(t,wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(yt(t,wt,!0),"@"),e.push(Fe(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(yt(n,"/"==n.charAt(0)?bt:_t,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",yt(n,Tt)),e.join("")},ut.prototype.resolve=function(e){const t=lt(this);let n=!!e.j;n?ht(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)dt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?ft(t,Nt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var wt=/[#\/\?@]/g,_t=/[#\?:]/g,bt=/[#\?]/g,Et=/[#\?@]/g,Tt=/#/g;function St(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function It(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function At(e,t){It(e),t=Rt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ct(e,t){return It(e),t=Rt(e,t),e.g.has(t)}function kt(e,t){It(e);let n=[];if("string"==typeof t)Ct(e,t)&&(n=n.concat(e.g.get(Rt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function xt(e,t,n){At(e,t),n.length>0&&(e.i=null,e.g.set(Rt(e,t),E(n)),e.h+=n.length)}function Nt(e){const t=new St;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Rt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ot(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function Mt(){this.g=new ye}function Pt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Dt(e,t){ae.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Lt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Ft(e)}function Ft(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ut(e){let t="";return B(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Vt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ut(n),"string"==typeof e?null!=n&&Fe(n):pt(e,t,n))}function $t(e){ae.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=St.prototype).add=function(e,t){It(this),this.i=null,e=Rt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){It(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return It(this),this.i=null,Ct(this,e=Rt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=kt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Fe(n);n=kt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Fe(n[t])),e.push(r)}}return this.i=e.join("&")},v(Pt,ve),Pt.prototype.g=function(){return new Dt(this.i,this.h)},v(Dt,ae),(e=Dt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Ft(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ft(this)),this.g&&(this.readyState=3,Ft(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):Ft(this),3==this.readyState&&Lt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Na=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),v($t,ae);var Bt=/^https?$/i,zt=["POST","PUT"];function qt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ht(e),Kt(e)}function Ht(e){e.A||(e.A=!0,ce(e,"complete"),ce(e,"error"))}function Wt(e){if(e.h&&void 0!==i)if(e.v&&4==Gt(e))setTimeout(e.Ca.bind(e),0);else if(ce(e,"readystatechange"),4==Gt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(ct)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!Bt.test(t?t.toLowerCase():"")}n=r}if(n)ce(e,"complete"),ce(e,"success");else{e.o=6;try{var o=Gt(e)>2?e.g.statusText:""}catch(e){o=""}e.l=o+" ["+e.ca()+"]",Ht(e)}}finally{Kt(e)}}}function Kt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const n=e.g;e.g=null,t||ce(e,"ready");try{n.onreadystatechange=null}catch(e){}}}function Gt(e){return e.g?e.g.readyState:0}function Qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Yt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jt(e){this.za=0,this.i=[],this.j=new Oe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yt("baseRetryDelayMs",5e3,e),this.Za=Yt("retryDelaySeedMs",1e4,e),this.Ta=Yt("forwardChannelMaxRetries",2,e),this.va=Yt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new tt(e&&e.concurrentRequestLimit),this.Ba=new Mt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Zt(e){if(en(e),3==e.I){var t=e.V++,n=lt(e.J);if(pt(n,"SID",e.M),pt(n,"RID",t),pt(n,"TYPE","terminate"),rn(e,n),(t=new Ve(e,e.j,t)).M=2,t.A=gt(lt(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=mn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Ge(t)}pn(e)}function Xt(e){e.g&&(cn(e),e.g.cancel(),e.g=null)}function en(e){Xt(e),e.v&&(s.clearTimeout(e.v),e.v=null),ln(e),e.h.cancel(),e.m&&("number"==typeof e.m&&s.clearTimeout(e.m),e.m=null)}function tn(e){if(!nt(e.h)&&!e.m){e.m=!0;var t=e.Ea;k||R(),x||(k(),x=!0),N.add(t,e),e.D=0}}function nn(e,t){var n;n=t?t.l:e.V++;const r=lt(e.J);pt(r,"SID",e.M),pt(r,"RID",n),pt(r,"AID",e.K),rn(e,r),e.u&&e.o&&Vt(r,e.u,e.o),n=new Ve(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=sn(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),st(e.h,n),qe(n,r,t)}function rn(e,t){e.H&&B(e.H,function(e,n){pt(t,n,e)}),e.l&&B({},function(e,n){pt(t,n,e)})}function sn(e,t,n){n=Math.min(e.i.length,n);const r=e.l?c(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let c=!0;for(let u=0;u<n;u++){var s=i[u].g;const n=i[u].map;if((s-=t)<0)t=Math.max(0,i[u].g-100),c=!1;else try{s="req"+s+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;o(n)&&(r=ge(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(t){throw e.push(s+"type="+encodeURIComponent("_badmap")),t}}catch(e){r&&r(n)}}if(c){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function on(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;k||R(),x||(k(),x=!0),N.add(t,e),e.A=0}}function an(e){return!(e.g||e.v||e.A>=3||(e.Y++,e.v=Re(c(e.Da,e),dn(e,e.A)),e.A++,0))}function cn(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function un(e){e.g=new Ve(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=lt(e.na);pt(t,"RID","rpc"),pt(t,"SID",e.M),pt(t,"AID",e.K),pt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&pt(t,"TO",e.ia),pt(t,"TYPE","xmlhttp"),rn(e,t),e.u&&e.o&&Vt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=gt(lt(t)),n.u=null,n.R=!0,He(n,e)}function ln(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function hn(e,t){var n=null;if(e.g==t){ln(e),cn(e),e.g=null;var r=2}else{if(!it(e.h,t))return;n=t.G,ot(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;ce(r=Ie(),new Ne(r,n)),tn(e)}else on(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(rt(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.G.concat(e.i),0):1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta)||(e.m=Re(c(e.Ea,e,t),dn(e,e.D)),e.D++,0)))}(e,t)||2==r&&an(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:fn(e,5);break;case 4:fn(e,10);break;case 3:fn(e,6);break;default:fn(e,2)}}function dn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function fn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.bb,e),r=e.Ua;const t=!r;r=new ut(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ht(r,"https"),gt(r),t?function(e,t){const n=new Oe;if(s.Image){const r=new Image;r.onload=u(Ot,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ot,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ot,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ot,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Oe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ot(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ot(0,0,!0,t):Ot(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ot(0,0,!1,t)})}(r.toString(),n)}else xe(2);e.I=0,e.l&&e.l.pa(t),pn(e),en(e)}function pn(e){if(e.I=0,e.ja=[],e.l){const t=at(e.h);0==t.length&&0==e.i.length||(T(e.ja,t),T(e.ja,e.i),e.h.i.length=0,E(e.i),e.i.length=0),e.l.oa()}}function gn(e,t,n){var r=n instanceof ut?lt(n):new ut(n);if(""!=r.g)t&&(r.g=t+"."+r.g),dt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new ut(null);r&&ht(e,r),t&&(e.g=t),i&&dt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&pt(r,n,t),pt(r,"VER",e.ka),rn(e,r),r}function mn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new $t(new Pt({ab:n})):new $t(e.ma)).Fa(e.L),t}function yn(){}function vn(){}function wn(e,t){ae.call(this),this.g=new Jt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!L(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!L(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new En(this)}function _n(e){be.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bn(){Ee.call(this),this.status=1}function En(e){this.g=e}(e=$t.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pe.g(),this.g.onreadystatechange=b(c(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){return void qt(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(zt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(e){qt(this,e)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ce(this,"complete"),ce(this,"abort"),Kt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kt(this,!0)),$t.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Wt(this):this.Xa())},e.Xa=function(){Wt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Gt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),me(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Jt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){xe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=gn(this,null,this.W),tn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ve(this,this.j,e);let s=this.o;if(this.U&&(s?(s=z(s),H(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=sn(this,i,t),pt(n=lt(this.J),"RID",e),pt(n,"CVER",22),this.G&&pt(n,"X-HTTP-Session-Id",this.G),rn(this,n),s&&(this.R?t="headers="+Fe(Ut(s))+"&"+t:this.u&&Vt(n,this.u,s)),st(this.h,i),this.Ra&&pt(n,"TYPE","init"),this.S?(pt(n,"$req",t),pt(n,"SID","null"),i.U=!0,qe(i,n,null)):qe(i,n,t),this.I=2}}else 3==this.I&&(e?nn(this,e):0==this.i.length||nt(this.h)||nn(this))},e.Da=function(){if(this.v=null,un(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Re(c(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Xt(this),un(this))},e.Va=function(){null!=this.C&&(this.C=null,Xt(this),an(this),xe(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=yn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},vn.prototype.g=function(e,t){return new wn(e,t)},v(wn,ae),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Zt(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ge(e),e=n);t.i.push(new et(t.Ya++,e)),3==t.I&&tn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,Zt(this.g),delete this.g,wn.Z.N.call(this)},v(_n,be),v(bn,Ee),v(En,yn),En.prototype.ra=function(){ce(this.g,"a")},En.prototype.qa=function(e){ce(this.g,new _n(e))},En.prototype.pa=function(e){ce(this.g,new bn)},En.prototype.oa=function(){ce(this.g,"b")},vn.prototype.createWebChannel=vn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,y=_.createWebChannelTransport=function(){return new vn},m=_.getStatEventTarget=function(){return Ie()},g=_.Event=Te,p=_.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,f=_.ErrorCode=De,Le.COMPLETE="complete",d=_.EventType=Le,we.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",ae.prototype.listen=ae.prototype.J,h=_.WebChannel=we,_.FetchXmlHttpFactory=Pt,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,l=_.XhrIo=$t}).apply(void 0!==w?w:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});class b{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}b.UNAUTHENTICATED=new b(null),b.GOOGLE_CREDENTIALS=new b("google-credentials-uid"),b.FIRST_PARTY=new b("first-party-uid"),b.MOCK_USER=new b("mock-user");let E="12.9.0";const T=new v.Vy("@firebase/firestore");function S(){return T.logLevel}function I(e,...t){if(T.logLevel<=v.$b.DEBUG){const n=t.map(k);T.debug(`Firestore (${E}): ${e}`,...n)}}function A(e,...t){if(T.logLevel<=v.$b.ERROR){const n=t.map(k);T.error(`Firestore (${E}): ${e}`,...n)}}function C(e,...t){if(T.logLevel<=v.$b.WARN){const n=t.map(k);T.warn(`Firestore (${E}): ${e}`,...n)}}function k(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function x(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,N(e,r,n)}function N(e,t,n){let r=`FIRESTORE (${E}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw A(r),new Error(r)}function R(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||N(t,i,r)}function O(e,t){return e}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class P extends a.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class D{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class L{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(b.UNAUTHENTICATED))}shutdown(){}}class F{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U{constructor(e){this.t=e,this.currentUser=b.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){R(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new D;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new D,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new D)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(R("string"==typeof t.accessToken,31837,{l:t}),new L(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return R(null===e||"string"==typeof e,2055,{h:e}),new b(e)}}class V{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=b.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ${constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new V(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(b.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,s.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){R(void 0===this.o,3512);const n=e=>{null!=e.error&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,I("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new B(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(R("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new B(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function q(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class H{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=q(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function W(e,t){return e<t?-1:e>t?1:0}function K(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return G(n)===G(i)?W(n,i):G(n)?1:-1}return W(e.length,t.length)}function G(e){const t=e.charCodeAt(0);return t>=55296&&t<=57343}function Q(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Y="__name__";class J{constructor(e,t,n){void 0===t?t=0:t>e.length&&x(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&x(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===J.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof J?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=J.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return W(e.length,t.length)}static compareSegments(e,t){const n=J.isNumericId(e),r=J.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?J.extractNumericId(e).compare(J.extractNumericId(t)):K(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class Z extends J{construct(e,t,n){return new Z(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new P(M.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Z(t)}static emptyPath(){return new Z([])}}const X=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ee extends J{construct(e,t,n){return new ee(e,t,n)}static isValidIdentifier(e){return X.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ee.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Y}static keyField(){return new ee([Y])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new P(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new P(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new P(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new P(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ee(t)}static emptyPath(){return new ee([])}}class te{constructor(e){this.path=e}static fromPath(e){return new te(Z.fromString(e))}static fromName(e){return new te(Z.fromString(e).popFirst(5))}static empty(){return new te(Z.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Z.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Z.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Z(e.slice()))}}function ne(e,t,n){if(!n)throw new P(M.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function re(e){if(!te.isDocumentKey(e))throw new P(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ie(e){if(te.isDocumentKey(e))throw new P(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function se(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function oe(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":x(12329,{type:typeof e})}function ae(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new P(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oe(e);throw new P(M.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function ce(e,t){const n={typeString:e};return t&&(n.value=t),n}function ue(e,t){if(!se(e))throw new P(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==s&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new P(M.INVALID_ARGUMENT,n);return!0}const le=-62135596800,he=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(e){return de.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*he);return new de(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new P(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new P(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<le)throw new P(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/he}_compareTo(e){return this.seconds===e.seconds?W(this.nanoseconds,e.nanoseconds):W(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ue(e,de._jsonSchema))return new de(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-le;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:ce("string",de._jsonSchemaVersion),seconds:ce("number"),nanoseconds:ce("number")};class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new de(0,0))}static max(){return new fe(new de(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function pe(e){return new ge(e.readTime,e.key,-1)}class ge{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ge(fe.min(),te.empty(),-1)}static max(){return new ge(fe.max(),te.empty(),-1)}}function me(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=te.comparator(e.documentKey,t.documentKey),0!==n?n:W(e.largestBatchId,t.largestBatchId))}class ye{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ve(e){if(e.code!==M.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;I("LocalStore","Unexpectedly lost primary lease")}class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&x(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(e){return we.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):we.reject(t)}static resolve(e){return new we((t,n)=>{t(e)})}static reject(e){return new we((t,n)=>{n(e)})}static waitFor(e){return new we((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=we.resolve(!1);for(const n of e)t=t.next(e=>e?we.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new we((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next(e=>{s[c]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new we((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function _e(e){return"IndexedDbTransactionError"===e.name}class be{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}be.ce=-1;function Ee(e){return null==e}function Te(e){return 0===e&&1/e==-1/0}function Se(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Ie(e){return e+""}const Ae="owner",Ce="mutationQueues",ke="mutations",xe="documentMutations",Ne="remoteDocumentGlobal",Re="targets",Oe="targetDocuments",Me="targetGlobal",Pe="collectionParents",De="clientMetadata",Le="bundles",je="namedQueries";function Fe(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ue(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ve(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class $e{constructor(e,t){this.comparator=e,this.root=t||ze.EMPTY}insert(e,t){return new $e(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Be(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Be(this.root,e,this.comparator,!1)}getReverseIterator(){return new Be(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Be(this.root,e,this.comparator,!0)}}class Be{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ze.RED,this.left=null!=r?r:ze.EMPTY,this.right=null!=i?i:ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ze(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ze.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw x(43730,{key:this.key,value:this.value});if(this.right.isRed())throw x(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw x(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1,ze.EMPTY=new class{constructor(){this.size=0}get key(){throw x(57766)}get value(){throw x(16141)}get color(){throw x(16727)}get left(){throw x(29726)}get right(){throw x(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ze(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new He(this.data.getIterator())}getIteratorFrom(e){return new He(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof qe))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qe(this.comparator);return t.data=e,t}}class He{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class We{constructor(e){this.fields=e,e.sort(ee.comparator)}static empty(){return new We([])}unionWith(e){let t=new qe(ee.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new We(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Q(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ke extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ke("Invalid base64 string: "+e):e}}(e);return new Ge(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ge(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return W(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const Qe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ye(e){if(R(!!e,39018),"string"==typeof e){let t=0;const n=Qe.exec(e);if(R(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Je(e.seconds),nanos:Je(e.nanos)}}function Je(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ze(e){return"string"==typeof e?Ge.fromBase64String(e):Ge.fromUint8Array(e)}const Xe="server_timestamp",et="__type__",tt="__previous_value__",nt="__local_write_time__";function rt(e){const t=(e?.mapValue?.fields||{})[et]?.stringValue;return t===Xe}function it(e){const t=e.mapValue.fields[tt];return rt(t)?it(t):t}function st(e){const t=Ye(e.mapValue.fields[nt].timestampValue);return new de(t.seconds,t.nanos)}class ot{constructor(e,t,n,r,i,s,o,a,c,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c,this.isUsingEmulator=u,this.apiKey=l}}const at="(default)";class ct{constructor(e,t){this.projectId=e,this.database=t||at}static empty(){return new ct("","")}get isDefaultDatabase(){return this.database===at}isEqual(e){return e instanceof ct&&e.projectId===this.projectId&&e.database===this.database}}const ut="__type__",lt="__max__",ht={fields:{__type__:{stringValue:lt}}},dt="__vector__",ft="value";function pt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rt(e)?4:Rt(e)?9007199254740991:xt(e)?10:11:x(28295,{value:e})}function gt(e,t){if(e===t)return!0;const n=pt(e);if(n!==pt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return st(e).isEqual(st(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ye(e.timestampValue),r=Ye(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ze(e.bytesValue).isEqual(Ze(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Je(e.geoPointValue.latitude)===Je(t.geoPointValue.latitude)&&Je(e.geoPointValue.longitude)===Je(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Je(e.integerValue)===Je(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Je(e.doubleValue),r=Je(t.doubleValue);return n===r?Te(n)===Te(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Q(e.arrayValue.values||[],t.arrayValue.values||[],gt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Fe(n)!==Fe(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!gt(n[e],r[e])))return!1;return!0}(e,t);default:return x(52216,{left:e})}}function mt(e,t){return void 0!==(e.values||[]).find(e=>gt(e,t))}function yt(e,t){if(e===t)return 0;const n=pt(e),r=pt(t);if(n!==r)return W(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return W(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Je(e.integerValue||e.doubleValue),r=Je(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return vt(e.timestampValue,t.timestampValue);case 4:return vt(st(e),st(t));case 5:return K(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ze(e),r=Ze(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=W(n[e],r[e]);if(0!==t)return t}return W(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=W(Je(e.latitude),Je(t.latitude));return 0!==n?n:W(Je(e.longitude),Je(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return wt(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},i=n[ft]?.arrayValue,s=r[ft]?.arrayValue,o=W(i?.values?.length||0,s?.values?.length||0);return 0!==o?o:wt(i,s)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ht&&t===ht)return 0;if(e===ht)return 1;if(t===ht)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=K(r[e],s[e]);if(0!==t)return t;const o=yt(n[r[e]],i[s[e]]);if(0!==o)return o}return W(r.length,s.length)}(e.mapValue,t.mapValue);default:throw x(23264,{he:n})}}function vt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return W(e,t);const n=Ye(e),r=Ye(t),i=W(n.seconds,r.seconds);return 0!==i?i:W(n.nanos,r.nanos)}function wt(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=yt(n[e],r[e]);if(t)return t}return W(n.length,r.length)}function _t(e){return bt(e)}function bt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ye(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ze(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return te.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=bt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${bt(e.fields[i])}`;return n+"}"}(e.mapValue):x(61005,{value:e})}function Et(e){switch(pt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=it(e);return t?16+Et(t):16;case 5:return 2*e.stringValue.length;case 6:return Ze(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Et(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ue(e.fields,(e,n)=>{t+=e.length+Et(n)}),t}(e.mapValue);default:throw x(13486,{value:e})}}function Tt(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function St(e){return!!e&&"integerValue"in e}function It(e){return!!e&&"arrayValue"in e}function At(e){return!!e&&"nullValue"in e}function Ct(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function kt(e){return!!e&&"mapValue"in e}function xt(e){const t=(e?.mapValue?.fields||{})[ut]?.stringValue;return t===dt}function Nt(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ue(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Nt(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nt(e.arrayValue.values[n]);return t}return{...e}}function Rt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===lt}class Ot{constructor(e){this.value=e}static empty(){return new Ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!kt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nt(t)}setAll(e){let t=ee.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Nt(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());kt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];kt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ue(t,(t,n)=>e[t]=n);for(const t of n)delete e[t]}clone(){return new Ot(Nt(this.value))}}function Mt(e){const t=[];return Ue(e.fields,(e,n)=>{const r=new ee([e]);if(kt(n)){const e=Mt(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new We(t)}class Pt{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Pt(e,0,fe.min(),fe.min(),fe.min(),Ot.empty(),0)}static newFoundDocument(e,t,n,r){return new Pt(e,1,t,fe.min(),n,r,0)}static newNoDocument(e,t){return new Pt(e,2,t,fe.min(),fe.min(),Ot.empty(),0)}static newUnknownDocument(e,t){return new Pt(e,3,t,fe.min(),fe.min(),Ot.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dt{constructor(e,t){this.position=e,this.inclusive=t}}function Lt(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?te.comparator(te.fromName(o.referenceValue),n.key):yt(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function jt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gt(e.position[n],t.position[n]))return!1;return!0}class Ft{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ut(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Vt{}class $t extends Vt{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Gt(e,t,n):"array-contains"===t?new Zt(e,n):"in"===t?new Xt(e,n):"not-in"===t?new en(e,n):"array-contains-any"===t?new tn(e,n):new $t(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Qt(e,n):new Yt(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(yt(t,this.value)):null!==t&&pt(this.value)===pt(t)&&this.matchesComparison(yt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return x(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bt extends Vt{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Bt(e,t)}matches(e){return zt(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zt(e){return"and"===e.op}function qt(e){return function(e){for(const t of e.filters)if(t instanceof Bt)return!1;return!0}(e)&&zt(e)}function Ht(e){if(e instanceof $t)return e.field.canonicalString()+e.op.toString()+_t(e.value);if(qt(e))return e.filters.map(e=>Ht(e)).join(",");{const t=e.filters.map(e=>Ht(e)).join(",");return`${e.op}(${t})`}}function Wt(e,t){return e instanceof $t?function(e,t){return t instanceof $t&&e.op===t.op&&e.field.isEqual(t.field)&&gt(e.value,t.value)}(e,t):e instanceof Bt?function(e,t){return t instanceof Bt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Wt(n,t.filters[r]),!0)}(e,t):void x(19439)}function Kt(e){return e instanceof $t?function(e){return`${e.field.canonicalString()} ${e.op} ${_t(e.value)}`}(e):e instanceof Bt?function(e){return e.op.toString()+" {"+e.getFilters().map(Kt).join(" ,")+"}"}(e):"Filter"}class Gt extends $t{constructor(e,t,n){super(e,t,n),this.key=te.fromName(n.referenceValue)}matches(e){const t=te.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qt extends $t{constructor(e,t){super(e,"in",t),this.keys=Jt(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Yt extends $t{constructor(e,t){super(e,"not-in",t),this.keys=Jt(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jt(e,t){return(t.arrayValue?.values||[]).map(e=>te.fromName(e.referenceValue))}class Zt extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return It(t)&&mt(t.arrayValue,this.value)}}class Xt extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&mt(this.value.arrayValue,t)}}class en extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(mt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!mt(this.value.arrayValue,t)}}class tn extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!It(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>mt(this.value.arrayValue,e))}}class nn{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function rn(e,t=null,n=[],r=[],i=null,s=null,o=null){return new nn(e,t,n,r,i,s,o)}function sn(e){const t=O(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Ht(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ee(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>_t(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>_t(e)).join(",")),t.Te=e}return t.Te}function on(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ut(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Wt(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jt(e.startAt,t.startAt)&&jt(e.endAt,t.endAt)}function an(e){return te.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class cn{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function un(e){return new cn(e)}function ln(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function hn(e){return null!==e.collectionGroup}function dn(e){const t=O(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new qe(ee.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ft(r,n))}),e.has(ee.keyField().canonicalString())||t.Ie.push(new Ft(ee.keyField(),n))}return t.Ie}function fn(e){const t=O(e);return t.Ee||(t.Ee=function(e,t){if("F"===e.limitType)return rn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ft(e.field,t)});const n=e.endAt?new Dt(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Dt(e.startAt.position,e.startAt.inclusive):null;return rn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,dn(e))),t.Ee}function pn(e,t){const n=e.filters.concat([t]);return new cn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function gn(e,t,n){return new cn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mn(e,t){return on(fn(e),fn(t))&&e.limitType===t.limitType}function yn(e){return`${sn(fn(e))}|lt:${e.limitType}`}function vn(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Kt(e)).join(", ")}]`),Ee(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>_t(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>_t(e)).join(",")),`Target(${t})`}(fn(e))}; limitType=${e.limitType})`}function wn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):te.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of dn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Lt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,dn(e),t)||e.endAt&&!function(e,t,n){const r=Lt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,dn(e),t))}(e,t)}function _n(e){return(t,n)=>{let r=!1;for(const i of dn(e)){const e=bn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function bn(e,t,n){const r=e.field.isKeyField()?te.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?yt(r,i):x(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return x(19790,{direction:e.dir})}}class En{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ue(this.inner,(t,n)=>{for(const[t,r]of n)e(t,r)})}isEmpty(){return Ve(this.inner)}size(){return this.innerSize}}const Tn=new $e(te.comparator);function Sn(){return Tn}const In=new $e(te.comparator);function An(...e){let t=In;for(const n of e)t=t.insert(n.key,n);return t}function Cn(e){let t=In;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function kn(){return Nn()}function xn(){return Nn()}function Nn(){return new En(e=>e.toString(),(e,t)=>e.isEqual(t))}const Rn=new $e(te.comparator),On=new qe(te.comparator);function Mn(...e){let t=On;for(const n of e)t=t.add(n);return t}const Pn=new qe(W);function Dn(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Te(t)?"-0":t}}function Ln(e){return{integerValue:""+e}}function jn(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Te(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Ln(t):Dn(e,t)}class Fn{constructor(){this._=void 0}}function Un(e,t,n){return e instanceof Bn?function(e,t){const n={fields:{[et]:{stringValue:Xe},[nt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&rt(t)&&(t=it(t)),t&&(n.fields[tt]=t),{mapValue:n}}(n,t):e instanceof zn?qn(e,t):e instanceof Hn?Wn(e,t):function(e,t){const n=$n(e,t),r=Gn(n)+Gn(e.Ae);return St(n)&&St(e.Ae)?Ln(r):Dn(e.serializer,r)}(e,t)}function Vn(e,t,n){return e instanceof zn?qn(e,t):e instanceof Hn?Wn(e,t):n}function $n(e,t){return e instanceof Kn?function(e){return St(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Bn extends Fn{}class zn extends Fn{constructor(e){super(),this.elements=e}}function qn(e,t){const n=Qn(t);for(const t of e.elements)n.some(e=>gt(e,t))||n.push(t);return{arrayValue:{values:n}}}class Hn extends Fn{constructor(e){super(),this.elements=e}}function Wn(e,t){let n=Qn(t);for(const t of e.elements)n=n.filter(e=>!gt(e,t));return{arrayValue:{values:n}}}class Kn extends Fn{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Gn(e){return Je(e.integerValue||e.doubleValue)}function Qn(e){return It(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Yn{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Xn{}function er(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lr(e.key,Jn.none()):new sr(e.key,e.data,Jn.none());{const n=e.data,r=Ot.empty();let i=new qe(ee.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new or(e.key,r,new We(i.toArray()),Jn.none())}}function tr(e,t,n){e instanceof sr?function(e,t,n){const r=e.value.clone(),i=cr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof or?function(e,t,n){if(!Zn(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=cr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ar(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function nr(e,t,n,r){return e instanceof sr?function(e,t,n,r){if(!Zn(e.precondition,t))return n;const i=e.value.clone(),s=ur(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof or?function(e,t,n,r){if(!Zn(e.precondition,t))return n;const i=ur(e.fieldTransforms,r,t),s=t.data;return s.setAll(ar(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Zn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function rr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=$n(r.transform,e||null);null!=i&&(null===n&&(n=Ot.empty()),n.set(r.field,i))}return n||null}function ir(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Q(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof zn&&t instanceof zn||e instanceof Hn&&t instanceof Hn?Q(e.elements,t.elements,gt):e instanceof Kn&&t instanceof Kn?gt(e.Ae,t.Ae):e instanceof Bn&&t instanceof Bn}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class sr extends Xn{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class or extends Xn{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ar(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function cr(e,t,n){const r=new Map;R(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Vn(o,a,n[i]))}return r}function ur(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Un(e,s,t))}return r}class lr extends Xn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hr extends Xn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&tr(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=nr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=nr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=xn();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=er(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(fe.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mn())}isEqual(e){return this.batchId===e.batchId&&Q(this.mutations,e.mutations,(e,t)=>ir(e,t))&&Q(this.baseMutations,e.baseMutations,(e,t)=>ir(e,t))}}class fr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){R(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Rn;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new fr(e,t,n,r)}}class pr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gr{constructor(e,t){this.count=e,this.unchangedNames=t}}var mr,yr;function vr(e){if(void 0===e)return A("GRPC error has no .code"),M.UNKNOWN;switch(e){case mr.OK:return M.OK;case mr.CANCELLED:return M.CANCELLED;case mr.UNKNOWN:return M.UNKNOWN;case mr.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case mr.INTERNAL:return M.INTERNAL;case mr.UNAVAILABLE:return M.UNAVAILABLE;case mr.UNAUTHENTICATED:return M.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case mr.NOT_FOUND:return M.NOT_FOUND;case mr.ALREADY_EXISTS:return M.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return M.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case mr.ABORTED:return M.ABORTED;case mr.OUT_OF_RANGE:return M.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return M.UNIMPLEMENTED;case mr.DATA_LOSS:return M.DATA_LOSS;default:return x(39323,{code:e})}}(yr=mr||(mr={}))[yr.OK=0]="OK",yr[yr.CANCELLED=1]="CANCELLED",yr[yr.UNKNOWN=2]="UNKNOWN",yr[yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yr[yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yr[yr.NOT_FOUND=5]="NOT_FOUND",yr[yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",yr[yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",yr[yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",yr[yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yr[yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yr[yr.ABORTED=10]="ABORTED",yr[yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",yr[yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",yr[yr.INTERNAL=13]="INTERNAL",yr[yr.UNAVAILABLE=14]="UNAVAILABLE",yr[yr.DATA_LOSS=15]="DATA_LOSS";const wr=new r([4294967295,4294967295],0);function _r(e){const t=(new TextEncoder).encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function br(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new r([n,i],0),new r([s,o],0)]}class Er{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Tr(`Invalid padding: ${t}`);if(n<0)throw new Tr(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Tr(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Tr(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=r.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(wr)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=_r(e),[n,r]=br(t);for(let e=0;e<this.hashCount;e++){const t=this.ye(n,r,e);if(!this.we(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Er(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=_r(e),[n,r]=br(t);for(let e=0;e<this.hashCount;e++){const t=this.ye(n,r,e);this.be(t)}}be(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Tr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ir.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Sr(fe.min(),r,new $e(W),Sn(),Mn())}}class Ir{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ir(n,t,Mn(),Mn(),Mn())}}class Ar{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Cr{constructor(e,t){this.targetId=e,this.Ce=t}}class kr{constructor(e,t,n=Ge.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class xr{constructor(){this.ve=0,this.Fe=Or(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mn(),t=Mn(),n=Mn();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:x(38017,{changeType:i})}}),new Ir(this.Me,this.xe,e,t,n)}Ke(){this.Oe=!1,this.Fe=Or()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,R(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Nr{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sn(),this.He=Rr(),this.Je=Rr(),this.Ze=new $e(W)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:x(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(an(i))if(0===n){const e=new te(i.path);this.et(t,e,Pt.newNoDocument(e,fe.min()))}else R(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Ze(n).toUint8Array()}catch(e){if(e instanceof Ke)return C("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Er(s,r,i)}catch(e){return C(e instanceof Tr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&an(i.target)){const t=new te(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Pt.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.Ke())}});let n=Mn();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Sr(e,t,this.Ze,this.je,n);return this.je=Sn(),this.He=Rr(),this.Je=Rr(),this.Ze=new $e(W),r}Ye(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,n),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new xr,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new qe(W),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new qe(W),this.He=this.He.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||I("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xr),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Rr(){return new $e(te.comparator)}function Or(){return new $e(te.comparator)}const Mr={asc:"ASCENDING",desc:"DESCENDING"},Pr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dr={and:"AND",or:"OR"};class Lr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jr(e,t){return e.useProto3Json||Ee(t)?t:{value:t}}function Fr(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ur(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Vr(e,t){return Fr(e,t.toTimestamp())}function $r(e){return R(!!e,49232),fe.fromTimestamp(function(e){const t=Ye(e);return new de(t.seconds,t.nanos)}(e))}function Br(e,t){return zr(e,t).canonicalString()}function zr(e,t){const n=function(e){return new Z(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function qr(e){const t=Z.fromString(e);return R(ci(t),10190,{key:t.toString()}),t}function Hr(e,t){return Br(e.databaseId,t.path)}function Wr(e,t){const n=qr(t);if(n.get(1)!==e.databaseId.projectId)throw new P(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new P(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new te(Qr(n))}function Kr(e,t){return Br(e.databaseId,t)}function Gr(e){return new Z(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qr(e){return R(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Yr(e,t,n){return{name:Hr(e,t),fields:n.value.mapValue.fields}}function Jr(e,t){return{documents:[Kr(e,t.path)]}}function Zr(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Kr(e,i);const s=function(e){if(0!==e.length)return oi(Bt.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:ii(e.field),direction:ti(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jr(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Xr(e){let t=function(e){const t=qr(e);return 4===t.length?Z.emptyPath():Qr(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){R(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ei(e);return t instanceof Bt&&qt(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new Ft(si(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ee(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Dt(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Dt(n,t)}(n.endAt)),function(e,t,n,r,i,s,o,a){return new cn(e,t,n,r,i,s,o,a)}(t,i,o,s,a,"F",c,u)}function ei(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=si(e.unaryFilter.field);return $t.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=si(e.unaryFilter.field);return $t.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=si(e.unaryFilter.field);return $t.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=si(e.unaryFilter.field);return $t.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return x(61313);default:return x(60726)}}(e):void 0!==e.fieldFilter?function(e){return $t.create(si(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return x(58110);default:return x(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Bt.create(e.compositeFilter.filters.map(e=>ei(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return x(1026)}}(e.compositeFilter.op))}(e):x(30097,{filter:e})}function ti(e){return Mr[e]}function ni(e){return Pr[e]}function ri(e){return Dr[e]}function ii(e){return{fieldPath:e.canonicalString()}}function si(e){return ee.fromServerFormat(e.fieldPath)}function oi(e){return e instanceof $t?function(e){if("=="===e.op){if(Ct(e.value))return{unaryFilter:{field:ii(e.field),op:"IS_NAN"}};if(At(e.value))return{unaryFilter:{field:ii(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ct(e.value))return{unaryFilter:{field:ii(e.field),op:"IS_NOT_NAN"}};if(At(e.value))return{unaryFilter:{field:ii(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ii(e.field),op:ni(e.op),value:e.value}}}(e):e instanceof Bt?function(e){const t=e.getFilters().map(e=>oi(e));return 1===t.length?t[0]:{compositeFilter:{op:ri(e.op),filters:t}}}(e):x(54877,{filter:e})}function ai(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ci(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ui(e){return!!e&&"function"==typeof e._toProto&&"ProtoValue"===e._protoValueType}class li{constructor(e,t,n,r,i=fe.min(),s=fe.min(),o=Ge.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hi{constructor(e){this.yt=e}}function di(e){const t=Xr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gn(t,t.limit,"L"):t}class fi{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Je(e.integerValue));else if("doubleValue"in e){const n=Je(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Te(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Ye(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ze(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Rt(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):xt(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):x(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const n=e.fields||{};this.Ft(t,55);for(const e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){const n=e.fields||{};this.Ft(t,53);const r=ft,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Je(i)),this.Ot(r,t),this.Ct(n[r],t)}qt(e,t){const n=e.values||[];this.Ft(t,50);for(const e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),te.fromName(e).path.forEach(e=>{this.Ft(t,60),this.$t(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}fi.Wt=new fi;class pi{constructor(){this.Sn=new gi}addToCollectionParentIndex(e,t){return this.Sn.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getIndexType(e,t){return we.resolve(0)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,t){return we.resolve(ge.min())}getMinOffsetFromCollectionGroup(e,t){return we.resolve(ge.min())}updateCollectionGroup(e,t,n){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class gi{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qe(Z.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new qe(Z.comparator)).toArray()}}new Uint8Array(0);const mi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yi=41943040;class vi{static withCacheSize(e){return new vi(e,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}vi.DEFAULT_COLLECTION_PERCENTILE=10,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vi.DEFAULT=new vi(yi,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vi.DISABLED=new vi(-1,0,0);class wi{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wi(0)}static ar(){return new wi(-1)}}const _i="LruGarbageCollector";function bi([e,t],[n,r]){const i=W(e,n);return 0===i?W(t,r):i}class Ei{constructor(e){this.Pr=e,this.buffer=new qe(bi),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();bi(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ti{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Ar(e){I(_i,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){_e(e)?I(_i,"Ignoring IndexedDB error during garbage collection: ",e):await ve(e)}await this.Ar(3e5)})}}class Si{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return we.resolve(be.ce);const n=new Ei(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.mr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(mi)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mi):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let n,r,i,s,o,a,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(I("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),S()<=v.$b.DEBUG&&I("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(c-a)+"ms\n"+`Total Duration: ${c-u}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class Ii{constructor(){this.changes=new En(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?we.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ai{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ci{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&nr(n.mutation,e,We.empty(),de.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Mn()).next(()=>t))}getLocalViewOfDocuments(e,t,n=Mn()){const r=kn();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=An();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=kn();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Mn()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Sn();const s=Nn(),o=Nn();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof or)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),nr(o.mutation,t,o.mutation.getFieldMask(),de.now())):s.set(t.key,We.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>o.set(e,new Ai(t,s.get(e)??null))),o))}recalculateAndSaveOverlays(e,t){const n=Nn();let r=new $e((e,t)=>e-t),i=Mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||We.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Mn()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,u=xn();c.forEach(e=>{if(!i.has(e)){const r=er(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return we.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return te.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):we.resolve(kn());let o=-1,a=i;return s.next(t=>we.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?we.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Mn())).next(e=>({batchId:o,changes:Cn(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new te(t)).next(e=>{let t=An();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=An();return this.indexManager.getCollectionParents(e,i).next(o=>we.forEach(o,o=>{const a=function(e,t){return new cn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Pt.newInvalidDocument(r)))});let n=An();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&nr(s.mutation,r,We.empty(),de.now()),wn(t,r)&&(n=n.insert(e,r))}),n})}}class ki{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return we.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:$r(e.createTime)}}(t)),we.resolve()}getNamedQuery(e,t){return we.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,function(e){return{name:e.name,query:di(e.bundledQuery),readTime:$r(e.readTime)}}(t)),we.resolve()}}class xi{constructor(){this.overlays=new $e(te.comparator),this.Lr=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}getOverlays(e,t){const n=kn();return we.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.bt(e,t,r)}),we.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Lr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Lr.delete(n)),we.resolve()}getOverlaysForCollection(e,t,n){const r=kn(),i=t.length+1,s=new te(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return we.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new $e((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=kn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=kn(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return we.resolve(o)}bt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new pr(t,n));let i=this.Lr.get(t);void 0===i&&(i=Mn(),this.Lr.set(t,i)),this.Lr.set(t,i.add(n.key))}}class Ni{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,we.resolve()}}class Ri{constructor(){this.kr=new qe(Oi.Kr),this.qr=new qe(Oi.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const n=new Oi(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new Oi(e,t))}Qr(e,t){e.forEach(e=>this.removeReference(e,t))}Gr(e){const t=new te(new Z([])),n=new Oi(t,e),r=new Oi(t,e+1),i=[];return this.qr.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new te(new Z([])),n=new Oi(t,e),r=new Oi(t,e+1);let i=Mn();return this.qr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Oi(e,0),n=this.kr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Oi{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return te.comparator(e.key,t.key)||W(e.Hr,t.Hr)}static Ur(e,t){return W(e.Hr,t.Hr)||te.comparator(e.key,t.key)}}class Mi{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new qe(Oi.Kr)}checkEmpty(e){return we.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new dr(i,t,n,r);this.mutationQueue.push(s);for(const t of r)this.Jr=this.Jr.add(new Oi(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return we.resolve(s)}lookupMutationBatch(e,t){return we.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return we.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(0===this.mutationQueue.length?-1:this.Yn-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Oi(t,0),r=new Oi(t,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),we.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new qe(W);return t.forEach(e=>{const t=new Oi(e,0),r=new Oi(e,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),we.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;te.isDocumentKey(i)||(i=i.child(""));const s=new Oi(new te(i),0);let o=new qe(W);return this.Jr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Hr)),!0)},s),we.resolve(this.Yr(o))}Yr(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){R(0===this.ei(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Jr;return we.forEach(t.mutations,r=>{const i=new Oi(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=n})}nr(e){}containsKey(e,t){const n=new Oi(t,0),r=this.Jr.firstAfterOrEqual(n);return we.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Pi{constructor(e){this.ti=e,this.docs=new $e(te.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return we.resolve(n?n.document.mutableCopy():Pt.newInvalidDocument(t))}getEntries(e,t){let n=Sn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Pt.newInvalidDocument(e))}),we.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Sn();const s=t.path,o=new te(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||me(pe(o),n)<=0||(r.has(o.key)||wn(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return we.resolve(i)}getAllFromCollectionGroup(e,t,n,r){x(9500)}ni(e,t){return we.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Di(this)}getSize(e){return we.resolve(this.size)}}class Di extends Ii{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(n)}),we.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class Li{constructor(e){this.persistence=e,this.ri=new En(e=>sn(e),on),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.ii=0,this.si=new Ri,this.targetCount=0,this.oi=wi._r()}forEachTarget(e,t){return this.ri.forEach((e,n)=>t(n)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),we.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new wi(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.lr(t),we.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.ri.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),we.waitFor(i).next(()=>r)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const n=this.ri.get(t)||null;return we.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),we.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),we.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),we.resolve()}getMatchingKeysForTargetId(e,t){const n=this.si.jr(t);return we.resolve(n)}containsKey(e,t){return we.resolve(this.si.containsKey(t))}}class ji{constructor(e,t){this._i={},this.overlays={},this.ai=new be(0),this.ui=!1,this.ui=!0,this.ci=new Ni,this.referenceDelegate=e(this),this.li=new Li(this),this.indexManager=new pi,this.remoteDocumentCache=function(e){return new Pi(e)}(e=>this.referenceDelegate.hi(e)),this.serializer=new hi(t),this.Pi=new ki(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xi,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new Mi(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){I("MemoryPersistence","Starting transaction:",e);const r=new Fi(this.ai.next());return this.referenceDelegate.Ti(),n(r).next(e=>this.referenceDelegate.Ii(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return we.or(Object.values(this._i).map(n=>()=>n.containsKey(e,t)))}}class Fi extends ye{constructor(e){super(),this.currentSequenceNumber=e}}class Ui{constructor(e){this.persistence=e,this.Ri=new Ri,this.Ai=null}static Vi(e){return new Ui(e)}get di(){if(this.Ai)return this.Ai;throw x(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),we.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),we.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(e=>this.di.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.di.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.di,n=>{const r=te.fromPath(n);return this.mi(e,r).next(e=>{e||t.removeEntry(r,fe.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return we.or([()=>we.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Vi{constructor(e,t){this.persistence=e,this.fi=new En(e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ie(t)),t=Se(e.get(n),t);return Ie(t)}(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new Si(e,t)}(this,t)}static Vi(e,t){return new Vi(e,t)}Ti(){}Ii(e){return we.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}mr(e,t){return we.forEach(this.fi,(n,r)=>this.wr(e,n,r).next(e=>e?we.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,r=>this.wr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,fe.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),we.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),we.resolve()}removeReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),we.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Et(e.data.value)),t}wr(e,t,n){return we.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.fi.get(t);return we.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $i{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=r}static Es(e,t){let n=Mn(),r=Mn();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new $i(e,t.fromCache,n,r)}}class Bi{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zi{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(0,a.nr)()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}((0,a.ZQ)())>0?6:4}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.gs(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ps(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Bi;return this.ys(e,t,n).next(r=>{if(i.result=r,this.As)return this.ws(e,t,n,r.size)})}).next(()=>i.result)}ws(e,t,n,r){return n.documentReadCount<this.Vs?(S()<=v.$b.DEBUG&&I("QueryEngine","SDK will not create cache indexes for query:",vn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),we.resolve()):(S()<=v.$b.DEBUG&&I("QueryEngine","Query:",vn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(S()<=v.$b.DEBUG&&I("QueryEngine","The SDK decides to create cache indexes for query:",vn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(t))):we.resolve())}gs(e,t){if(ln(t))return we.resolve(null);let n=fn(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=gn(t,null,"F"),n=fn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Mn(...r);return this.fs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.bs(t,r);return this.Ss(t,s,i,n.readTime)?this.gs(e,gn(t,null,"F")):this.Ds(e,s,t,n)}))})))}ps(e,t,n,r){return ln(t)||r.isEqual(fe.min())?we.resolve(null):this.fs.getDocuments(e,n).next(i=>{const s=this.bs(t,i);return this.Ss(t,s,n,r)?we.resolve(null):(S()<=v.$b.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vn(t)),this.Ds(e,s,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(1e9===r?new de(n+1,0):new de(n,r));return new ge(i,te.empty(),t)}(r,-1)).next(e=>e))})}bs(e,t){let n=new qe(_n(e));return t.forEach((t,r)=>{wn(e,r)&&(n=n.add(r))}),n}Ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,t,n){return S()<=v.$b.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",vn(t)),this.fs.getDocumentsMatchingQuery(e,t,ge.min(),n)}Ds(e,t,n,r){return this.fs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const qi="LocalStore";class Hi{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new $e(W),this.Fs=new En(e=>sn(e),on),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ci(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}}async function Wi(e,t){const n=O(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Os(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=Mn();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ns:e,removedBatchIds:i,addedBatchIds:s}))})})}function Ki(e){const t=O(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.li.getLastRemoteSnapshotVersion(e))}function Gi(e,t){const n=O(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function Qi(e,t,n){const r=O(e),i=r.vs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!_e(e))throw e;I(qi,`Failed to update sequence numbers for target ${t}: ${e}`)}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function Yi(e,t,n){const r=O(e);let i=fe.min(),s=Mn();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=O(e),i=r.Fs.get(n);return void 0!==i?we.resolve(r.vs.get(i)):r.li.getTargetData(t,n)}(r,e,fn(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:fe.min(),n?s:Mn())).next(e=>(function(e,t,n){let r=e.Ms.get(t)||fe.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ms.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,ks:s})))}class Ji{constructor(){this.activeTargetIds=Pn}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zi{constructor(){this.vo=new Ji,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Ji,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xi{Mo(e){}shutdown(){}}const es="ConnectivityMonitor";class ts{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){I(es,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){I(es,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ns=null;function rs(){return null===ns?ns=268435456+Math.round(2147483648*Math.random()):ns++,"0x"+ns.toString(16)}const is="RestConnection",ss={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class os{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.$o=this.databaseId.database===at?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){const s=rs(),o=this.Qo(e,t.toUriEncodedString());I(is,`Sending RPC '${e}' ${s}:`,o,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,r,i);const{host:u}=new URL(o),l=(0,a.zJ)(u);return this.zo(e,o,c,n,l).then(t=>(I(is,`Received RPC '${e}' ${s}: `,t),t),t=>{throw C(is,`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t})}jo(e,t,n,r,i,s){return this.Wo(e,t,n,r,i)}Go(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+E,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Qo(e,t){const n=ss[e];let r=`${this.qo}/v1/${t}:${n}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class as{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const cs="WebChannelConnection",us=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};class ls extends os{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ls.c_){const e=m();us(e,g.STAT_EVENT,e=>{e.stat===p.PROXY?I(cs,"STAT_EVENT: detected buffering proxy"):e.stat===p.NOPROXY&&I(cs,"STAT_EVENT: detected no buffering proxy")}),ls.c_=!0}}zo(e,t,n,r,i){const s=rs();return new Promise((i,o)=>{const a=new l;a.setWithCredentials(!0),a.listenOnce(d.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case f.NO_ERROR:const t=a.getResponseJson();I(cs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case f.TIMEOUT:I(cs,`RPC '${e}' ${s} timed out`),o(new P(M.DEADLINE_EXCEEDED,"Request time out"));break;case f.HTTP_ERROR:const n=a.getStatus();if(I(cs,`RPC '${e}' ${s} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(t)>=0?t:M.UNKNOWN}(t.status);o(new P(e,t.message))}else o(new P(M.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new P(M.UNAVAILABLE,"Connection failed."));break;default:x(9055,{l_:e,streamId:s,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{I(cs,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);I(cs,`RPC '${e}' ${s} sending request:`,r),a.send(t,"POST",c,n,15)})}T_(e,t,n){const r=rs(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;void 0!==a&&(o.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");I(cs,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let l=!1,d=!1;const f=new as({Ho:t=>{d?I(cs,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(l||(I(cs,`Opening RPC '${e}' stream ${r} transport.`),u.open(),l=!0),I(cs,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Jo:()=>u.close()});return us(u,h.EventType.OPEN,()=>{d||(I(cs,`RPC '${e}' stream ${r} transport opened.`),f.i_())}),us(u,h.EventType.CLOSE,()=>{d||(d=!0,I(cs,`RPC '${e}' stream ${r} transport closed`),f.o_(),this.E_(u))}),us(u,h.EventType.ERROR,t=>{d||(d=!0,C(cs,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.o_(new P(M.UNAVAILABLE,"The operation could not be completed")))}),us(u,h.EventType.MESSAGE,t=>{if(!d){const n=t.data[0];R(!!n,16349);const i=n,s=i?.error||i[0]?.error;if(s){I(cs,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=mr[e];if(void 0!==t)return vr(t)}(t),i=s.message;"NOT_FOUND"===t&&i.includes("database")&&i.includes("does not exist")&&i.includes(this.databaseId.database)&&C(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),void 0===n&&(n=M.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.o_(new P(n,i)),u.close()}else I(cs,`RPC '${e}' stream ${r} received:`,n),f.__(n)}}),ls.u_(),setTimeout(()=>{f.s_()},0),f}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return y()}}function hs(){return"undefined"!=typeof document?document:null}function ds(e){return new Lr(e,!0)}ls.c_=!1;class fs{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Ci=e,this.timerId=t,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&I("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const ps="PersistentStream";class gs{constructor(e,t,n,r,i,s,o,a){this.Ci=e,this.b_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fs(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(A(t.toString()),A("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===M.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.D_===t&&this.G_(e,n)},t=>{e(()=>{const e=new P(M.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.Yo(()=>{n(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.H_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return I(ps,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(I(ps,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ms extends gs{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:x(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(R(void 0===t||"string"==typeof t,58123),Ge.fromBase64String(t||"")):(R(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Ge.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?M.UNKNOWN:vr(e.code);return new P(t,e.message||"")}(o);n=new kr(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wr(e,r.document.name),s=$r(r.document.updateTime),o=r.document.createTime?$r(r.document.createTime):fe.min(),a=new Ot({mapValue:{fields:r.document.fields}}),c=Pt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Ar(u,l,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Wr(e,r.document),s=r.readTime?$r(r.readTime):fe.min(),o=Pt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ar([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Wr(e,r.document),s=r.removedTargetIds||[];n=new Ar([],s,i,null)}else{if(!("filter"in t))return x(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new gr(r,i),o=e.targetId;n=new Cr(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return fe.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?fe.min():t.readTime?$r(t.readTime):fe.min()}(e);return this.listener.J_(t,n)}Z_(e){const t={};t.database=Gr(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=an(r)?{documents:Jr(e,r)}:{query:Zr(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ur(e,t.resumeToken);const r=jr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(fe.min())>0){n.readTime=Fr(e,t.snapshotVersion.toTimestamp());const r=jr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return x(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.K_(t)}X_(e){const t={};t.database=Gr(this.serializer),t.removeTarget=e,this.K_(t)}}class ys extends gs{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return R(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,R(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){R(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(R(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?$r(e.updateTime):$r(t);return n.isEqual(fe.min())&&(n=$r(t)),new Yn(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=$r(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Gr(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof sr)n={update:Yr(e,t.key,t.value)};else if(t instanceof lr)n={delete:Hr(e,t.key)};else if(t instanceof or)n={update:Yr(e,t.key,t.data),updateMask:ai(t.fieldMask)};else{if(!(t instanceof hr))return x(16599,{dt:t.type});n={verify:Hr(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Bn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof zn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Hn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Kn)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw x(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Vr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:x(27497)}(e,t.precondition)),n}(this.serializer,e))};this.K_(t)}}class vs{}class ws extends vs{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new P(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Wo(e,zr(t,n),r,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new P(M.UNKNOWN,e.toString())})}jo(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(e,zr(t,n),r,s,o,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new P(M.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class _s{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(A(t),this.aa=!1):I("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const bs="RemoteStore";class Es{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(e=>{n.enqueueAndForget(async()=>{Rs(this)&&(I(bs,"Restarting streams for network reachability change."),await async function(e){const t=O(e);t.Ea.add(4),await Ss(t),t.Va.set("Unknown"),t.Ea.delete(4),await Ts(t)}(this))})}),this.Va=new _s(n,r)}}async function Ts(e){if(Rs(e))for(const t of e.Ra)await t(!0)}async function Ss(e){for(const t of e.Ra)await t(!1)}function Is(e,t){const n=O(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Ns(n)?xs(n):Qs(n).O_()&&Cs(n,t))}function As(e,t){const n=O(e),r=Qs(n);n.Ia.delete(t),r.O_()&&ks(n,t),0===n.Ia.size&&(r.O_()?r.L_():Rs(n)&&n.Va.set("Unknown"))}function Cs(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(fe.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qs(e).Z_(t)}function ks(e,t){e.da.$e(t),Qs(e).X_(t)}function xs(e){e.da=new Nr({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Qs(e).start(),e.Va.ua()}function Ns(e){return Rs(e)&&!Qs(e).x_()&&e.Ia.size>0}function Rs(e){return 0===O(e).Ea.size}function Os(e){e.da=void 0}async function Ms(e){e.Va.set("Online")}async function Ps(e){e.Ia.forEach((t,n)=>{Cs(e,t)})}async function Ds(e,t){Os(e),Ns(e)?(e.Va.ha(t),xs(e)):e.Va.set("Unknown")}async function Ls(e,t,n){if(e.Va.set("Online"),t instanceof kr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.da.removeTarget(r))}(e,t)}catch(n){I(bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await js(e,n)}else if(t instanceof Ar?e.da.Xe(t):t instanceof Cr?e.da.st(t):e.da.tt(t),!n.isEqual(fe.min()))try{const t=await Ki(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.da.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Ge.EMPTY_BYTE_STRING,r.snapshotVersion)),ks(e,t);const i=new li(r.target,t,n,r.sequenceNumber);Cs(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){I(bs,"Failed to raise snapshot:",t),await js(e,t)}}async function js(e,t,n){if(!_e(t))throw t;e.Ea.add(1),await Ss(e),e.Va.set("Offline"),n||(n=()=>Ki(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{I(bs,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Ts(e)})}function Fs(e,t){return t().catch(n=>js(e,n,t))}async function Us(e){const t=O(e),n=Ys(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:-1;for(;Vs(t);)try{const e=await Gi(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,$s(t,e)}catch(e){await js(t,e)}Bs(t)&&zs(t)}function Vs(e){return Rs(e)&&e.Ta.length<10}function $s(e,t){e.Ta.push(t);const n=Ys(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function Bs(e){return Rs(e)&&!Ys(e).x_()&&e.Ta.length>0}function zs(e){Ys(e).start()}async function qs(e){Ys(e).ra()}async function Hs(e){const t=Ys(e);for(const n of e.Ta)t.ea(n.mutations)}async function Ws(e,t,n){const r=e.Ta.shift(),i=fr.from(r,t,n);await Fs(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Us(e)}async function Ks(e,t){t&&Ys(e).Y_&&await async function(e,t){if(function(e){return function(e){switch(e){case M.OK:return x(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return x(15467,{code:e})}}(e)&&e!==M.ABORTED}(t.code)){const n=e.Ta.shift();Ys(e).B_(),await Fs(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Us(e)}}(e,t),Bs(e)&&zs(e)}async function Gs(e,t){const n=O(e);n.asyncQueue.verifyOperationInProgress(),I(bs,"RemoteStore received new credentials");const r=Rs(n);n.Ea.add(3),await Ss(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ts(n)}function Qs(e){return e.ma||(e.ma=function(e,t,n){const r=O(e);return r.sa(),new ms(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Ms.bind(null,e),Yo:Ps.bind(null,e),t_:Ds.bind(null,e),J_:Ls.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),Ns(e)?xs(e):e.Va.set("Unknown")):(await e.ma.stop(),Os(e))})),e.ma}function Ys(e){return e.fa||(e.fa=function(e,t,n){const r=O(e);return r.sa(),new ys(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:qs.bind(null,e),t_:Ks.bind(null,e),ta:Hs.bind(null,e),na:Ws.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await Us(e)):(await e.fa.stop(),e.Ta.length>0&&(I(bs,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class Js{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new D,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Js(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new P(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zs(e,t){if(A("AsyncQueue",`${t}: ${e}`),_e(e))return new P(M.UNAVAILABLE,`${t}: ${e}`);throw e}class Xs{static emptySet(e){return new Xs(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||te.comparator(t.key,n.key):(e,t)=>te.comparator(e.key,t.key),this.keyedMap=An(),this.sortedSet=new $e(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xs))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Xs;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class eo{constructor(){this.ga=new $e(te.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):x(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class to{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new to(e,t,Xs.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class no{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class ro{constructor(){this.queries=io(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=O(e),r=n.queries;n.queries=io(),r.forEach((e,n)=>{for(const e of n.ba)e.onError(t)})}(this,new P(M.ABORTED,"Firestore shutting down"))}}function io(){return new En(e=>yn(e),mn)}async function so(e,t){const n=O(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Sa()&&t.Da()&&(r=2):(s=new no,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Zs(e,`Initialization of query '${vn(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.ba.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&uo(n)}async function oo(e,t){const n=O(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ba.indexOf(t);e>=0&&(s.ba.splice(e,1),0===s.ba.length?i=t.Da()?0:1:!s.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ao(e,t){const n=O(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.ba)t.Fa(e)&&(r=!0);i.wa=e}}r&&uo(n)}function co(e,t,n){const r=O(e),i=r.queries.get(t);if(i)for(const e of i.ba)e.onError(n);r.queries.delete(t)}function uo(e){e.Ca.forEach(e=>{e.next()})}var lo,ho;(ho=lo||(lo={})).Ma="default",ho.Cache="cache";class fo{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new to(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lo.Cache}}class po{constructor(e){this.key=e}}class go{constructor(e){this.key=e}}class mo{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mn(),this.mutatedKeys=Mn(),this.eu=_n(e),this.tu=new Xs(this.eu)}get nu(){return this.Za}ru(e,t){const n=t?t.iu:new eo,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),l=wn(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.su(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.eu(l,a)>0||c&&this.eu(l,c)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Ss:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return x(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const o=t&&!r?this._u():[],a=0===this.Ya.size&&this.current&&!r?1:0,c=a!==this.Xa;return this.Xa=a,0!==s.length||c?{snapshot:new to(this.query,e.tu,i,s,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eo,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Za=this.Za.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Za=this.Za.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Mn(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new go(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new po(n))}),t}cu(e){this.Za=e.ks,this.Ya=Mn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Xa,this.hasCachedResults)}}const yo="SyncEngine";class vo{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wo{constructor(e){this.key=e,this.hu=!1}}class _o{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new En(e=>yn(e),mn),this.Iu=new Map,this.Eu=new Set,this.Ru=new $e(te.comparator),this.Au=new Map,this.Vu=new Ri,this.du={},this.mu=new Map,this.fu=wi.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function bo(e,t,n=!0){const r=$o(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await To(r,t,n,!0),i}async function Eo(e,t){const n=$o(e);await To(n,t,!0,!1)}async function To(e,t,n,r){const i=await function(e,t){const n=O(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.li.getTargetData(e,t).next(i=>i?(r=i,we.resolve(r)):n.li.allocateTargetId(e).next(i=>(r=new li(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.li.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.vs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(e.targetId,e),n.Fs.set(t,e.targetId)),e})}(e.localStore,fn(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await async function(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Ss&&(i=await Yi(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Do(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const s=await Yi(e.localStore,t,!0),o=new mo(t,s.ks),a=o.ru(s.documents),c=Ir.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,c);Do(e,n,u.au);const l=new vo(t,n,o);return e.Tu.set(t,l),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Is(e.remoteStore,i),a}async function So(e,t,n){const r=O(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!mn(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qi(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&As(r.remoteStore,i.targetId),Mo(r,i.targetId)}).catch(ve)):(Mo(r,i.targetId),await Qi(r.localStore,i.targetId,!0))}async function Io(e,t){const n=O(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),As(n.remoteStore,r.targetId))}async function Ao(e,t){const n=O(e);try{const e=await function(e,t){const n=O(e),r=t.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];t.targetChanges.forEach((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.li.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.li.addMatchingKeys(e,s.addedDocuments,a)));let u=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Ge.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,s)&&o.push(n.li.updateTargetData(e,u))});let a=Sn(),c=Mn();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(function(e,t,n){let r=Mn(),i=Mn();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Sn();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(fe.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):I(qi,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{Bs:r,Ls:i}})}(e,s,t.documentUpdates).next(e=>{a=e.Bs,c=e.Ls})),!r.isEqual(fe.min())){const t=n.li.getLastRemoteSnapshotVersion(e).next(t=>n.li.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return we.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,c)).next(()=>a)}).then(e=>(n.vs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(R(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?R(r.hu,14607):e.removedDocuments.size>0&&(R(r.hu,42227),r.hu=!1))}),await Fo(n,e,t)}catch(e){await ve(e)}}function Co(e,t,n){const r=O(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=O(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const e of n.ba)e.va(t)&&(r=!0)}),r&&uo(n)}(r.eventManager,t),e.length&&r.Pu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ko(e,t,n){const r=O(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new $e(te.comparator);e=e.insert(s,Pt.newNoDocument(s,fe.min()));const n=Mn().add(s),i=new Sr(fe.min(),new Map,new $e(W),e,n);await Ao(r,i),r.Ru=r.Ru.remove(s),r.Au.delete(t),jo(r)}else await Qi(r.localStore,t,!1).then(()=>Mo(r,t,n)).catch(ve)}async function xo(e,t){const n=O(e),r=t.batch.batchId;try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=we.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);R(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Mn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Oo(n,r,null),Ro(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fo(n,e)}catch(e){await ve(e)}}async function No(e,t,n){const r=O(e);try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(R(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Oo(r,t,n),Ro(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Fo(r,e)}catch(n){await ve(n)}}function Ro(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Oo(e,t,n){const r=O(e);let i=r.du[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function Mo(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(t=>{e.Vu.containsKey(t)||Po(e,t)})}function Po(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);null!==n&&(As(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),jo(e))}function Do(e,t,n){for(const r of n)r instanceof po?(e.Vu.addReference(r.key,t),Lo(e,r)):r instanceof go?(I(yo,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||Po(e,r.key)):x(19791,{wu:r})}function Lo(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(I(yo,"New document in limbo: "+n),e.Eu.add(r),jo(e))}function jo(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new te(Z.fromString(t)),r=e.fu.next();e.Au.set(r,new wo(n)),e.Ru=e.Ru.insert(n,r),Is(e.remoteStore,new li(fn(un(n.path)),r,"TargetPurposeLimboResolution",be.ce))}}async function Fo(e,t,n){const r=O(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{o.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(a.targetId)?.current;r.sharedClientState.updateQueryState(a.targetId,t?"current":"not-current")}if(e){i.push(e);const t=$i.Es(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Pu.J_(i),await async function(e,t){const n=O(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>we.forEach(t,t=>we.forEach(t.Ts,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>we.forEach(t.Is,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!_e(e))throw e;I(qi,"Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.vs.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.vs=n.vs.insert(t,i)}}}(r.localStore,s))}async function Uo(e,t){const n=O(e);if(!n.currentUser.isEqual(t)){I(yo,"User change. New user:",t.toKey());const e=await Wi(n.localStore,t);n.currentUser=t,function(e){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new P(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.mu.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Fo(n,e.Ns)}}function Vo(e,t){const n=O(e),r=n.Au.get(t);if(r&&r.hu)return Mn().add(r.key);{let e=Mn();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function $o(e){const t=O(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ao.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vo.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ko.bind(null,t),t.Pu.J_=ao.bind(null,t.eventManager),t.Pu.yu=co.bind(null,t.eventManager),t}function Bo(e){const t=O(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=No.bind(null,t),t}class zo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ds(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return function(e,t,n,r){return new Hi(e,t,n,r)}(this.persistence,new zi,e.initialUser,this.serializer)}Cu(e){return new ji(Ui.Vi,this.serializer)}Du(e){return new Zi}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zo.provider={build:()=>new zo};class qo extends zo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){R(this.persistence.referenceDelegate instanceof Vi,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ti(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?vi.withCacheSize(this.cacheSizeBytes):vi.DEFAULT;return new ji(e=>Vi.Vi(e,t),this.serializer)}}class Ho{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Co(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uo.bind(null,this.syncEngine),await async function(e,t){const n=O(e);t?(n.Ea.delete(2),await Ts(n)):t||(n.Ea.add(2),await Ss(n),n.Va.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ro}createDatastore(e){const t=ds(e.databaseInfo.databaseId),n=function(e){return new ls(e)}(e.databaseInfo);return function(e,t,n,r){return new ws(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Es(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Co(this.syncEngine,e,0),ts.v()?new ts:new Xi)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new _o(e,t,n,r,i,s);return o&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=O(e);I(bs,"RemoteStore shutting down."),t.Ea.add(5),await Ss(t),t.Aa.shutdown(),t.Va.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ho.provider={build:()=>new Ho};class Wo{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):A("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Ko="FirestoreClient";class Go{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this._databaseInfo=r,this.user=b.UNAUTHENTICATED,this.clientId=H.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{I(Ko,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(I(Ko,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new D;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Zs(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Qo(e,t){e.asyncQueue.verifyOperationInProgress(),I(Ko,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Wi(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Yo(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){I(Ko,"Using user provided OfflineComponentProvider");try{await Qo(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===M.FAILED_PRECONDITION||e.code===M.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;C("Error using user provided cache. Falling back to memory cache: "+n),await Qo(e,new zo)}}else I(Ko,"Using default OfflineComponentProvider"),await Qo(e,new qo(void 0));return e._offlineComponents}(e);I(Ko,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Gs(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Gs(t.remoteStore,n)),e._onlineComponents=t}async function Jo(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(I(Ko,"Using user provided OnlineComponentProvider"),await Yo(e,e._uninitializedComponentsProvider._online)):(I(Ko,"Using default OnlineComponentProvider"),await Yo(e,new Ho))),e._onlineComponents}async function Zo(e){const t=await Jo(e),n=t.eventManager;return n.onListen=bo.bind(null,t.syncEngine),n.onUnlisten=So.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Eo.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Io.bind(null,t.syncEngine),n}function Xo(e,t){const n=new D;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Bo(e);try{const e=await function(e,t){const n=O(e),r=de.now(),i=t.reduce((e,t)=>e.add(t.key),Mn());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Sn(),c=Mn();return n.xs.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(c=c.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=rr(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new or(e.key,t,Mt(t.value.mapValue),Jn.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Cn(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.du[e.currentUser.toKey()];r||(r=new $e(W)),r=r.insert(t,n),e.du[e.currentUser.toKey()]=r}(r,e.batchId,n),await Fo(r,e.changes),await Us(r.remoteStore)}catch(e){const t=Zs(e,"Failed to persist write");n.reject(t)}}(await function(e){return Jo(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}function ea(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ta=new Map;const na="firestore.googleapis.com",ra=!0;class ia{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new P(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=na,this.ssl=ra}else this.host=e.host,this.ssl=e.ssl??ra;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=yi;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new P(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new P(M.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ea(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new P(M.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new P(M.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new P(M.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sa{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ia({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new P(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new P(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ia(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new j;switch(e.type){case"firstParty":return new $(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new P(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ta.get(e);t&&(I("ComponentProvider","Removing Datastore"),ta.delete(e),t.terminate())}(this),Promise.resolve()}}class oa{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class aa{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new aa(this.firestore,e,this._key)}toJSON(){return{type:aa._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ue(t,aa._jsonSchema))return new aa(e,n||null,new te(Z.fromString(t.referencePath)))}}aa._jsonSchemaVersion="firestore/documentReference/1.0",aa._jsonSchema={type:ce("string",aa._jsonSchemaVersion),referencePath:ce("string")};class ca extends oa{constructor(e,t,n){super(e,t,un(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new aa(this.firestore,null,new te(e))}withConverter(e){return new ca(this.firestore,e,this._path)}}function ua(e,t,...n){if(e=(0,a.Ku)(e),ne("collection","path",t),e instanceof sa){const r=Z.fromString(t,...n);return ie(r),new ca(e,null,r)}{if(!(e instanceof aa||e instanceof ca))throw new P(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Z.fromString(t,...n));return ie(r),new ca(e.firestore,null,r)}}function la(e,t,...n){if(e=(0,a.Ku)(e),1===arguments.length&&(t=H.newId()),ne("doc","path",t),e instanceof sa){const r=Z.fromString(t,...n);return re(r),new aa(e,null,new te(r))}{if(!(e instanceof aa||e instanceof ca))throw new P(M.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Z.fromString(t,...n));return re(r),new aa(e.firestore,e instanceof ca?e.converter:null,new te(r))}}const ha="AsyncQueue";class da{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fs(this,"async_queue_retry"),this._c=()=>{const e=hs();e&&I(ha,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=hs();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hs();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new D;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(0!==this.Yu.length){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_e(e))throw e;I(ha,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,A("INTERNAL UNHANDLED ERROR: ",fa(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Js.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&x(47125,{Pc:fa(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function fa(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class pa extends sa{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new da,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new da(e),this._firestoreClient=void 0,await e}}}function ga(e,t){const n="object"==typeof e?e:(0,s.Sx)(),r="string"==typeof e?e:t||at,i=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,a.yU)("firestore");e&&function(e,t,n,r={}){e=ae(e,sa);const i=(0,a.zJ)(t),s=e._getSettings(),o={...s,emulatorOptions:e._getEmulatorOptions()},c=`${t}:${n}`;i&&((0,a.gE)(`https://${c}`),(0,a.P1)("Firestore",!0)),s.host!==na&&s.host!==c&&C("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:c,ssl:i,emulatorOptions:r};if(!(0,a.bD)(u,o)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=b.MOCK_USER;else{t=(0,a.Fy)(r.mockUserToken,e._app?.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new P(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new b(i)}e._authCredentials=new F(new L(t,n))}}(i,...e)}return i}function ma(e){if(e._terminated)throw new P(M.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){const t=e._freezeSettings(),n=function(e,t,n,r,i){return new ot(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,ea(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Go(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}class ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ya(Ge.fromBase64String(e))}catch(e){throw new P(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ya(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ya._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ue(e,ya._jsonSchema))return ya.fromBase64String(e.bytes)}}ya._jsonSchemaVersion="firestore/bytes/1.0",ya._jsonSchema={type:ce("string",ya._jsonSchemaVersion),bytes:ce("string")};class va{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new P(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ee(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wa{constructor(e){this._methodName=e}}class _a{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new P(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new P(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return W(this._lat,e._lat)||W(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_a._jsonSchemaVersion}}static fromJSON(e){if(ue(e,_a._jsonSchema))return new _a(e.latitude,e.longitude)}}_a._jsonSchemaVersion="firestore/geoPoint/1.0",_a._jsonSchema={type:ce("string",_a._jsonSchemaVersion),latitude:ce("number"),longitude:ce("number")};class ba{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ba._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ue(e,ba._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new ba(e.vectorValues);throw new P(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ba._jsonSchemaVersion="firestore/vectorValue/1.0",ba._jsonSchema={type:ce("string",ba._jsonSchemaVersion),vectorValues:ce("object")};const Ea=/^__.*__$/;class Ta{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new or(e,this.data,this.fieldMask,t,this.fieldTransforms):new sr(e,this.data,t,this.fieldTransforms)}}class Sa{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new or(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ia(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw x(40011,{dataSource:e})}}class Aa{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Aa({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){const t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fa(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(Ia(this.dataSource)&&Ea.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Ca{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ds(e)}createContext(e,t,n,r=!1){return new Aa({dataSource:e,methodName:t,targetDoc:n,path:ee.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ka(e){const t=e._freezeSettings(),n=ds(e._databaseId);return new Ca(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xa(e,t,n,r,i,s={}){const o=e.createContext(s.merge||s.mergeFields?2:0,t,n,i);Pa("Data must be an object, but it was:",o,r);const a=Oa(r,o);let c,u;if(s.merge)c=new We(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Da(t,r,n);if(!o.contains(i))throw new P(M.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Ua(e,i)||e.push(i)}c=new We(e),u=o.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,u=o.fieldTransforms;return new Ta(new Ot(a),c,u)}class Na extends wa{_toFieldTransform(e){if(2!==e.dataSource)throw 1===e.dataSource?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Na}}function Ra(e,t){if(Ma(e=(0,a.Ku)(e)))return Pa("Unsupported field value:",t,e),Oa(e,t);if(e instanceof wa)return function(e,t){if(!Ia(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ra(i,t.childContextForArray(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jn(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=de.fromDate(e);return{timestampValue:Fr(t.serializer,n)}}if(e instanceof de){const n=new de(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fr(t.serializer,n)}}if(e instanceof _a)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ya)return{bytesValue:Ur(t.serializer,e._byteString)};if(e instanceof aa){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Br(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ba)return function(e,t){const n=e instanceof ba?e.toArray():e,r={fields:{[ut]:{stringValue:dt},[ft]:{arrayValue:{values:n.map(e=>{if("number"!=typeof e)throw t.createError("VectorValues must only contain numeric values.");return Dn(t.serializer,e)})}}}};return{mapValue:r}}(e,t);if(ui(e))return e._toProto(t.serializer);throw t.createError(`Unsupported field value: ${oe(e)}`)}(e,t)}function Oa(e,t){const n={};return Ve(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ue(e,(e,r)=>{const i=Ra(r,t.childContextForField(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Ma(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof de||e instanceof _a||e instanceof ya||e instanceof aa||e instanceof wa||e instanceof ba||ui(e))}function Pa(e,t,n){if(!Ma(n)||!se(n)){const r=oe(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Da(e,t,n){if((t=(0,a.Ku)(t))instanceof va)return t._internalPath;if("string"==typeof t)return ja(e,t);throw Fa("Field path arguments must be of type string or ",e,!1,void 0,n)}const La=new RegExp("[~\\*/\\[\\]]");function ja(e,t,n){if(t.search(La)>=0)throw Fa(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new va(...t.split("."))._internalPath}catch(r){throw Fa(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Fa(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new P(M.INVALID_ARGUMENT,a+e+c)}function Ua(e,t){return e.some(e=>e.isEqual(t))}class Va{convertValue(e,t="none"){switch(pt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ze(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw x(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ue(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){const t=e.fields?.[ft].arrayValue?.values?.map(e=>Je(e.doubleValue));return new ba(t)}convertGeoPoint(e){return new _a(Je(e.latitude),Je(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=it(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(st(e));default:return null}}convertTimestamp(e){const t=Ye(e);return new de(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Z.fromString(e);R(ci(n),9688,{name:e});const r=new ct(n.get(1),n.get(3)),i=new te(n.popFirst(5));return r.isEqual(t)||A(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class $a extends Va{constructor(e){super(),this.firestore=e}convertBytes(e){return new ya(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new aa(this.firestore,null,t)}}const Ba="@firebase/firestore",za="4.11.0";function qa(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const e of["next","error","complete"])if(e in t&&"function"==typeof t[e])return!0;return!1}(e)}class Ha{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new aa(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wa(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Da("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wa extends Ha{data(){return super.data()}}function Ka(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new P(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ga{}class Qa extends Ga{}function Ya(e,t,...n){let r=[];t instanceof Ga&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof Xa).length,n=e.filter(e=>e instanceof Ja).length;if(t>1||t>0&&n>0)throw new P(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e}class Ja extends Qa{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ja(e,t,n)}_apply(e){const t=this._parse(e);return ic(e._query,t),new oa(e.firestore,e.converter,pn(e._query,t))}_parse(e){const t=ka(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new P(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){rc(o,s);const t=[];for(const n of o)t.push(nc(r,e,n));a={arrayValue:{values:t}}}else a=nc(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||rc(o,s),a=function(e,t,n,r=!1){return Ra(n,e.createContext(r?4:3,t))}(n,"where",o,"in"===s||"not-in"===s);return $t.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Za(e,t,n){const r=t,i=Da("where",e);return Ja._create(i,r,n)}class Xa extends Ga{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xa(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Bt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)ic(n,e),n=pn(n,e)}(e._query,t),new oa(e.firestore,e.converter,pn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ec extends Qa{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ec(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new P(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new P(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ft(t,n)}(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new cn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function tc(e,t="asc"){const n=t,r=Da("orderBy",e);return ec._create(r,n)}function nc(e,t,n){if("string"==typeof(n=(0,a.Ku)(n))){if(""===n)throw new P(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hn(t)&&-1!==n.indexOf("/"))throw new P(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Z.fromString(n));if(!te.isDocumentKey(r))throw new P(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tt(e,new te(r))}if(n instanceof aa)return Tt(e,n._key);throw new P(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oe(n)}.`)}function rc(e,t){if(!Array.isArray(e)||0===e.length)throw new P(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ic(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new P(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new P(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class sc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oc extends Ha{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Da("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new P(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=oc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}oc._jsonSchemaVersion="firestore/documentSnapshot/1.0",oc._jsonSchema={type:ce("string",oc._jsonSchemaVersion),bundleSource:ce("string","DocumentSnapshot"),bundleName:ce("string"),bundle:ce("string")};class ac extends oc{data(e={}){return super.data(e)}}class cc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ac(this._firestore,this._userDataWriter,n.key,n,new sc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new P(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new ac(e._firestore,e._userDataWriter,n.doc.key,n.doc,new sc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ac(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:uc(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new P(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=H.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return x(61501,{type:e})}}function lc(e){e=ae(e,aa);const t=ae(e.firestore,pa);return function(e,t,n={}){const r=new D;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Wo({next:a=>{s.Nu(),t.enqueueAndForget(()=>oo(e,o));const c=a.docs.has(n);!c&&a.fromCache?i.reject(new P(M.UNAVAILABLE,"Failed to get document because the client is offline.")):c&&a.fromCache&&r&&"server"===r.source?i.reject(new P(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new fo(un(n.path),s,{includeMetadataChanges:!0,Ka:!0});return so(e,o)}(await Zo(e),e.asyncQueue,t,n,r)),r.promise}(ma(t),e._key).then(n=>yc(t,e,n))}function hc(e){e=ae(e,oa);const t=ae(e.firestore,pa),n=ma(t),r=new $a(t);return Ka(e._query),function(e,t,n={}){const r=new D;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Wo({next:n=>{s.Nu(),t.enqueueAndForget(()=>oo(e,o)),n.fromCache&&"server"===r.source?i.reject(new P(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new fo(n,s,{includeMetadataChanges:!0,Ka:!0});return so(e,o)}(await Zo(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new cc(t,r,e,n))}function dc(e,t,n){e=ae(e,aa);const r=ae(e.firestore,pa),i=function(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}(e.converter,t,n);return mc(r,[xa(ka(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Jn.none())])}function fc(e,t,n,...r){e=ae(e,aa);const i=ae(e.firestore,pa),s=ka(i);let o;return o="string"==typeof(t=(0,a.Ku)(t))||t instanceof va?function(e,t,n,r,i,s){const o=e.createContext(1,t,n),c=[Da(t,r,n)],u=[i];if(s.length%2!=0)throw new P(M.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)c.push(Da(t,s[e])),u.push(s[e+1]);const l=[],h=Ot.empty();for(let e=c.length-1;e>=0;--e)if(!Ua(l,c[e])){const t=c[e];let n=u[e];n=(0,a.Ku)(n);const r=o.childContextForFieldPath(t);if(n instanceof Na)l.push(t);else{const e=Ra(n,r);null!=e&&(l.push(t),h.set(t,e))}}const d=new We(l);return new Sa(h,d,o.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.createContext(1,t,n);Pa("Data must be an object, but it was:",i,r);const s=[],o=Ot.empty();Ue(r,(e,r)=>{const c=ja(t,e,n);r=(0,a.Ku)(r);const u=i.childContextForFieldPath(c);if(r instanceof Na)s.push(c);else{const e=Ra(r,u);null!=e&&(s.push(c),o.set(c,e))}});const c=new We(s);return new Sa(o,c,i.fieldTransforms)}(s,"updateDoc",e._key,t),mc(i,[o.toMutation(e._key,Jn.exists(!0))])}function pc(e){return mc(ae(e.firestore,pa),[new lr(e._key,Jn.none())])}function gc(e,...t){e=(0,a.Ku)(e);let n={includeMetadataChanges:!1,source:"default"},r=0;"object"!=typeof t[r]||qa(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(qa(t[r])){const e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let s,o,c;if(e instanceof aa)o=ae(e.firestore,pa),c=un(e._key.path),s={next:n=>{t[r]&&t[r](yc(o,e,n))},error:t[r+1],complete:t[r+2]};else{const n=ae(e,oa);o=ae(n.firestore,pa),c=n._query;const i=new $a(o);s={next:e=>{t[r]&&t[r](new cc(o,i,n,e))},error:t[r+1],complete:t[r+2]},Ka(e._query)}return function(e,t,n,r){const i=new Wo(r),s=new fo(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>so(await Zo(e),s)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>oo(await Zo(e),s))}}(ma(o),c,i,s)}function mc(e,t){return Xo(ma(e),t)}function yc(e,t,n){const r=n.docs.get(t._key),i=new $a(e);return new oc(e,i,t._key,r,new sc(n.hasPendingWrites,n.fromCache),t.converter)}cc._jsonSchemaVersion="firestore/querySnapshot/1.0",cc._jsonSchema={type:ce("string",cc._jsonSchemaVersion),bundleSource:ce("string","QuerySnapshot"),bundleName:ce("string"),bundle:ce("string")},new WeakMap,function(e,t=!0){var n;n=s.MF,E=n,(0,s.om)(new o.uA("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new pa(new U(e.getProvider("auth-internal")),new z(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new P(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ct(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(Ba,za,e),(0,s.KO)(Ba,za,"esm2020")}()},1932(e,t,n){"use strict";n.d(t,{h4:()=>H});var r=Symbol.for("immer-nothing"),i=Symbol.for("immer-draftable"),s=Symbol.for("immer-state");function o(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var a=Object.getPrototypeOf;function c(e){return!!e&&!!e[s]}function u(e){return!!e&&(d(e)||Array.isArray(e)||!!e[i]||!!e.constructor?.[i]||y(e)||v(e))}var l=Object.prototype.constructor.toString(),h=new WeakMap;function d(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!=typeof n)return!1;let r=h.get(n);return void 0===r&&(r=Function.toString.call(n),h.set(n,r)),r===l}function f(e,t,n=!0){0===p(e)?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function p(e){const t=e[s];return t?t.type_:Array.isArray(e)?1:y(e)?2:v(e)?3:0}function g(e,t){return 2===p(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function m(e,t,n){const r=p(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function y(e){return e instanceof Map}function v(e){return e instanceof Set}function w(e){return e.copy_||e.base_}function _(e,t){if(y(e))return new Map(e);if(v(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=d(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[s];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(a(e),t)}{const t=a(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function b(e,t=!1){return T(e)||c(e)||!u(e)||(p(e)>1&&Object.defineProperties(e,{set:E,add:E,clear:E,delete:E}),Object.freeze(e),t&&Object.values(e).forEach(e=>b(e,!0))),e}var E={value:function(){o(2)}};function T(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var S,I={};function A(e){const t=I[e];return t||o(0),t}function C(){return S}function k(e,t){t&&(A("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function x(e){N(e),e.drafts_.forEach(O),e.drafts_=null}function N(e){e===S&&(S=e.parent_)}function R(e){return S={drafts_:[],parent_:S,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function O(e){const t=e[s];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function M(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[s].modified_&&(x(t),o(4)),u(e)&&(e=P(t,e),t.parent_||L(t,e)),t.patches_&&A("Patches").generateReplacementPatches_(n[s].base_,e,t.patches_,t.inversePatches_)):e=P(t,n,[]),x(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r?e:void 0}function P(e,t,n){if(T(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[s];if(!i)return f(t,(r,s)=>D(e,i,t,r,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return L(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let s=t,o=!1;3===i.type_&&(s=new Set(t),t.clear(),o=!0),f(s,(r,s)=>D(e,i,t,r,s,n,o),r),L(e,t,!1),n&&e.patches_&&A("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function D(e,t,n,r,i,s,o){if(null==i)return;if("object"!=typeof i&&!o)return;const a=T(i);if(!a||o){if(c(i)){const o=P(e,i,s&&t&&3!==t.type_&&!g(t.assigned_,r)?s.concat(r):void 0);if(m(n,r,o),!c(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(u(i)&&!a){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===i&&a)return;P(e,i),t&&t.scope_.parent_||"symbol"==typeof r||!(y(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||L(e,i)}}}function L(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&b(t,n)}var j={get(e,t){if(t===s)return e;const n=w(e);if(!g(n,t))return function(e,t,n){const r=V(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!u(r)?r:r===U(e.base_,t)?(B(e),e.copy_[t]=z(r,e)):r},has:(e,t)=>t in w(e),ownKeys:e=>Reflect.ownKeys(w(e)),set(e,t,n){const r=V(w(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=U(w(e),t),a=r?.[s];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(o=r)?0!==i||1/i==1/o:i!=i&&o!=o)&&(void 0!==n||g(e.base_,t)))return!0;B(e),$(e)}var i,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==U(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,B(e),$(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=w(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){o(11)},getPrototypeOf:e=>a(e.base_),setPrototypeOf(){o(12)}},F={};function U(e,t){const n=e[s];return(n?w(n):e)[t]}function V(e,t){if(!(t in e))return;let n=a(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=a(n)}}function $(e){e.modified_||(e.modified_=!0,e.parent_&&$(e.parent_))}function B(e){e.copy_||(e.copy_=_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function z(e,t){const n=y(e)?A("MapSet").proxyMap_(e,t):v(e)?A("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:C(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=j;n&&(i=[r],s=F);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}(e,t);return(t?t.scope_:C()).drafts_.push(n),n}function q(e){if(!u(e)||T(e))return e;const t=e[s];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=_(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=_(e,!0);return f(n,(e,t)=>{m(n,e,q(t))},r),t&&(t.finalized_=!1),n}function H(e){return e}f(j,(e,t)=>{F[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),F.deleteProperty=function(e,t){return F.set.call(this,e,t,void 0)},F.set=function(e,t,n){return j.set.call(this,e[0],t,n,e[0])},(new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}let i;if("function"!=typeof t&&o(6),void 0!==n&&"function"!=typeof n&&o(7),u(e)){const r=R(this),s=z(e,void 0);let o=!0;try{i=t(s),o=!1}finally{o?x(r):N(r)}return k(r,n),M(i,r)}if(!e||"object"!=typeof e){if(i=t(e),void 0===i&&(i=e),i===r&&(i=void 0),this.autoFreeze_&&b(i,!0),n){const t=[],r=[];A("Patches").generateReplacementPatches_(e,i,t,r),n(t,r)}return i}o(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof e?.useStrictIteration&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){var t;u(e)||o(8),c(e)&&(c(t=e)||o(10),e=q(t));const n=R(this),r=z(e,void 0);return r[s].isManual_=!0,N(n),r}finishDraft(e,t){const n=e&&e[s];n&&n.isManual_||o(9);const{scope_:r}=n;return k(r,t),M(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=A("Patches").applyPatches_;return c(e)?r(e,t):this.produce(e,e=>r(e,t))}}).produce},1468(e,t,n){"use strict";n.d(t,{Kq:()=>p,bN:()=>u});var r=n(6540);n(8418);var i={notify(){},get:()=>[]};var s=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),o=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),a=(()=>s||o?r.useLayoutEffect:r.useEffect)();function c(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function u(e,t){if(c(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!c(e[n[r]],t[n[r]]))return!1;return!0}Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var l=Symbol.for("react-redux-context"),h="undefined"!=typeof globalThis?globalThis:{};function d(){if(!r.createContext)return{};const e=h[l]??=new Map;let t=e.get(r.createContext);return t||(t=r.createContext(null),e.set(r.createContext,t)),t}var f=d(),p=function(e){const{children:t,context:n,serverState:s,store:o}=e,c=r.useMemo(()=>{const e=function(e,t){let n,r=i,s=0,o=!1;function a(){l.onStateChange&&l.onStateChange()}function c(){s++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function u(){s--,n&&0===s&&(n(),n=void 0,r.clear(),r=i)}const l={addNestedSub:function(e){c();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),u())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,c())},tryUnsubscribe:function(){o&&(o=!1,u())},getListeners:()=>r};return l}(o);return{store:o,subscription:e,getServerState:s?()=>s:void 0}},[o,s]),u=r.useMemo(()=>o.getState(),[o]);a(()=>{const{subscription:e}=c;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[c,u]);const l=n||f;return r.createElement(l.Provider,{value:c},t)}},5570(e,t,n){"use strict";var r;n.d(t,{BV:()=>me,C5:()=>de,Kd:()=>Ue,N_:()=>$e,Zp:()=>Z,ok:()=>ze,qh:()=>pe,sv:()=>fe,zy:()=>Q});var i=n(6540),s="popstate";function o(e={}){return function(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,d="POP",f=null,p=g();function g(){return(c.state||{idx:null}).idx}function m(){d="POP";let e=g(),t=null==e?null:e-p;p=e,f&&f({action:d,location:v.location,delta:t})}function y(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),a(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:h(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}(e)}null==p&&(p=0,c.replaceState({...c.state,idx:p},""));let v={get action(){return d},get location(){return e(i,c)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(s,m),f=e,()=>{i.removeEventListener(s,m),f=null}},createHref:e=>t(i,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d="PUSH";let r=l(v.location,e,t);n&&n(r,e),p=g()+1;let s=u(r,p),a=v.createHref(r);try{c.pushState(s,"",a)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(a)}o&&f&&f({action:d,location:v.location,delta:1})},replace:function(e,t){d="REPLACE";let r=l(v.location,e,t);n&&n(r,e),p=g();let i=u(r,p),s=v.createHref(r);c.replaceState(i,"",s),o&&f&&f({action:d,location:v.location,delta:0})},go:e=>c.go(e)};return v}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return l("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:h(t)},null,e)}function a(e,t){if(!1===e||null==e)throw new Error(t)}function c(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function h({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n="/"){return function(e,t,n,r){let i=E(("string"==typeof t?d(t):t).pathname||"/",n);if(null==i)return null;let s=p(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let e=0;null==o&&e<s.length;++e){let t=b(i);o=w(s[e],t,r)}return o}(e,t,n,!1)}function p(e,t=[],n=[],r="",i=!1){let s=(e,s,o=i,c)=>{let u={relativePath:void 0===c?e.path||"":c,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&o)return;a(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let l=k([r,u.relativePath]),h=n.concat(u);e.children&&e.children.length>0&&(a(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),p(e.children,t,h,l,o)),(null!=e.path||e.index)&&t.push({path:l,score:v(l,e.index),routesMeta:h})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))s(e,t,!0,n);else s(e,t)}),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=g(r.join("/")),a=[];return a.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}new WeakMap;var m=/^:[\w-]+$/,y=e=>"*"===e;function v(e,t){let n=e.split("/"),r=n.length;return n.some(y)&&(r+=-2),t&&(r+=2),n.filter(e=>!y(e)).reduce((e,t)=>e+(m.test(t)?3:""===t?1:10),r)}function w(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let e=0;e<r.length;++e){let a=r[e],c=e===r.length-1,u="/"===s?t:t.slice(s.length)||"/",l=_({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},u),h=a.route;if(!l&&c&&n&&!r[r.length-1].route.index&&(l=_({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},u)),!l)return null;Object.assign(i,l.params),o.push({params:i,pathname:k([s,l.pathname]),pathnameBase:x(k([s,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(s=k([s,l.pathnameBase]))}return o}function _(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){c("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=a[r]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const i=a[r];return e[t]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function b(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function E(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function S(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function I(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function C(e,t,n,r=!1){let i;"string"==typeof e?i=d(e):(i={...e},a(!i.pathname||!i.pathname.includes("?"),I("?","pathname","search",i)),a(!i.pathname||!i.pathname.includes("#"),I("#","pathname","hash",i)),a(!i.search||!i.search.includes("#"),I("#","search","hash",i)));let s,o=""===e||""===i.pathname,c=o?"/":i.pathname;if(null==c)s=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t="/"){let n,{pathname:r,search:i="",hash:s=""}="string"==typeof e?d(e):e;return r?(r=r.replace(/\/\/+/g,"/"),n=r.startsWith("/")?S(r.substring(1),"/"):S(r,t)):n=t,{pathname:n,search:N(i),hash:R(s)}}(i,s),l=c&&"/"!==c&&c.endsWith("/"),h=(o||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!l&&!h||(u.pathname+="/"),u}var k=e=>e.join("/").replace(/\/\/+/g,"/"),x=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),N=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",R=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",O=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function M(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}function P(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var D="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function L(e,t){let n=e;if("string"!=typeof n||!T.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(D)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=E(r.pathname,t);r.origin===e.origin&&null!=s?n=s+r.search+r.hash:i=!0}catch(e){c(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Symbol("Uninstrumented"),Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var j=["POST","PUT","PATCH","DELETE"],F=(new Set(j),["GET",...j]);new Set(F),Symbol("ResetLoaderData");var U=i.createContext(null);U.displayName="DataRouter";var V=i.createContext(null);V.displayName="DataRouterState";var $=i.createContext(!1);var B=i.createContext({isTransitioning:!1});B.displayName="ViewTransition",i.createContext(new Map).displayName="Fetchers",i.createContext(null).displayName="Await";var z=i.createContext(null);z.displayName="Navigation";var q=i.createContext(null);q.displayName="Location";var H=i.createContext({outlet:null,matches:[],isDataRoute:!1});H.displayName="Route";var W=i.createContext(null);W.displayName="RouteError";var K="REACT_ROUTER_ERROR";function G(){return null!=i.useContext(q)}function Q(){return a(G(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(q).location}var Y="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J(e){i.useContext(z).static||i.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=i.useContext(H);return e?function(){let{router:e}=function(e){let t=i.useContext(U);return a(t,ce(e)),t}("useNavigate"),t=ue("useNavigate"),n=i.useRef(!1);return J(()=>{n.current=!0}),i.useCallback(async(r,i={})=>{c(n.current,Y),n.current&&("number"==typeof r?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}():function(){a(G(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(U),{basename:t,navigator:n}=i.useContext(z),{matches:r}=i.useContext(H),{pathname:s}=Q(),o=JSON.stringify(A(r)),u=i.useRef(!1);return J(()=>{u.current=!0}),i.useCallback((r,i={})=>{if(c(u.current,Y),!u.current)return;if("number"==typeof r)return void n.go(r);let a=C(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:k([t,a.pathname])),(i.replace?n.replace:n.push)(a,i.state,i)},[t,n,o,s,e])}()}var X=i.createContext(null);function ee(e,{relative:t}={}){let{matches:n}=i.useContext(H),{pathname:r}=Q(),s=JSON.stringify(A(n));return i.useMemo(()=>C(e,JSON.parse(s),r,"path"===t),[e,s,r,t])}function te(e,t,n,r,s){a(G(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=i.useContext(z),{matches:u}=i.useContext(H),l=u[u.length-1],h=l?l.params:{},p=l?l.pathname:"/",g=l?l.pathnameBase:"/",m=l&&l.route;{let e=m&&m.path||"";he(p,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let y,v=Q();if(t){let e="string"==typeof t?d(t):t;a("/"===g||e.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${e.pathname}" was given in the \`location\` prop.`),y=e}else y=v;let w=y.pathname||"/",_=w;if("/"!==g){let e=g.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=f(e,{pathname:_});c(m||null!=b,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),c(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=function(e,t=[],n=null,r=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,o=n?.errors;if(null!=o){let e=s.findIndex(e=>e.route.id&&void 0!==o?.[e.route.id]);a(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:P(n.matches),errorInfo:t})}:void 0;return s.reduceRight((e,r,a)=>{let h,d=!1,f=null,p=null;n&&(h=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||re,c&&(u<0&&0===a?(he("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):u===a&&(d=!0,p=r.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,a+1)),m=()=>{let t;return t=h?f:d?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ae,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(ie,{location:n.location,revalidation:n.revalidation,component:f,error:h,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:l}):m()},null)}(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:k([g,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:k([g,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),u,n,r,s);return t&&E?i.createElement(q.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function ne(){let e=function(){let e=i.useContext(W),t=function(e){let t=i.useContext(V);return a(t,ce(e)),t}("useRouteError"),n=ue("useRouteError");return void 0!==e?e:t.errors?.[n]}(),t=M(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=i.createElement(i.Fragment,null,i.createElement("p",null," Hey developer "),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:o},"ErrorBoundary")," or"," ",i.createElement("code",{style:o},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,c)}var re=i.createElement(ne,null),ie=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"==typeof e&&e&&"digest"in e&&"string"==typeof e.digest){const t=function(e){if(e.startsWith(`${K}:ROUTE_ERROR_RESPONSE:{`))try{let t=JSON.parse(e.slice(40));if("object"==typeof t&&t&&"number"==typeof t.status&&"string"==typeof t.statusText)return new O(t.status,t.statusText,t.data)}catch{}}(e.digest);t&&(e=t)}let t=void 0!==e?i.createElement(H.Provider,{value:this.props.routeContext},i.createElement(W.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?i.createElement(oe,{error:e},t):t}};ie.contextType=$;var se=new WeakMap;function oe({children:e,error:t}){let{basename:n}=i.useContext(z);if("object"==typeof t&&t&&"digest"in t&&"string"==typeof t.digest){let e=function(e){if(e.startsWith(`${K}:REDIRECT:{`))try{let t=JSON.parse(e.slice(28));if("object"==typeof t&&t&&"number"==typeof t.status&&"string"==typeof t.statusText&&"string"==typeof t.location&&"boolean"==typeof t.reloadDocument&&"boolean"==typeof t.replace)return t}catch{}}(t.digest);if(e){let r=se.get(t);if(r)throw r;let s=L(e.location,n);if(D&&!se.get(t)){if(!s.isExternal&&!e.reloadDocument){const n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:e.replace}));throw se.set(t,n),n}window.location.href=s.absoluteURL||s.to}return i.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function ae({routeContext:e,match:t,children:n}){let r=i.useContext(U);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),i.createElement(H.Provider,{value:e},n)}function ce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ue(e){let t=function(e){let t=i.useContext(H);return a(t,ce(e)),t}(e),n=t.matches[t.matches.length-1];return a(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var le={};function he(e,t,n){t||le[e]||(le[e]=!0,c(!1,n))}function de({to:e,replace:t,state:n,relative:r}){a(G(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=i.useContext(z);c(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=i.useContext(H),{pathname:u}=Q(),l=Z(),h=C(e,A(o),u,"path"===r),d=JSON.stringify(h);return i.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function fe(e){return function(e){let t=i.useContext(H).outlet;return i.useMemo(()=>t&&i.createElement(X.Provider,{value:e},t),[t,e])}(e.context)}function pe(e){a(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ge({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){a(!G(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:l,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[l,s,o,u]);"string"==typeof n&&(n=d(n));let{pathname:f="/",search:p="",hash:g="",state:m=null,key:y="default"}=n,v=i.useMemo(()=>{let e=E(f,l);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:y},navigationType:r}},[l,f,p,g,m,y,r]);return c(null!=v,`<Router basename="${l}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:i.createElement(z.Provider,{value:h},i.createElement(q.Provider,{children:t,value:v}))}function me({children:e,location:t}){return te(ye(e),t)}function ye(e,t=[]){let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ye(e.props.children,s));a(e.type===pe,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),a(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ye(e.props.children,s)),n.push(o)}),n}(r||(r=n.t(i,2))).useOptimistic,i.memo(function({routes:e,future:t,state:n,onError:r}){return te(e,void 0,n,r,t)}),i.Component;var ve="get",we="application/x-www-form-urlencoded";function _e(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function be(e=""){return new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}var Ee=null,Te=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Se(e){return null==e||Te.has(e)?e:(c(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${we}"`),null)}function Ie(e,t){if(!1===e||null==e)throw new Error(t)}function Ae(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function Ce(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter((e,t)=>o(e,t)||a(e,t)):"data"===s?t.filter((t,s)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function ke(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function xe(){let e=i.useContext(U);return Ie(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ne(){let e=i.useContext(V);return Ie(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0"),"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis,Symbol("SingleFetchRedirect");var Re=i.createContext(void 0);function Oe(){let e=i.useContext(Re);return Ie(e,"You must render this element inside a <HydratedRouter> element"),e}function Me(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Pe({page:e,...t}){let{router:n}=xe(),r=i.useMemo(()=>f(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?i.createElement(Le,{page:e,matches:r,...t}):null}function De(e){let{manifest:t,routeModules:n}=Oe(),[r,s]=i.useState([]);return i.useEffect(()=>{let r=!1;return async function(e,t,n){return function(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&(null==(s=i)||"string"!=typeof s.page)&&"script"===i.as&&i.href&&r.has(i.href))return e;var s;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ae).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),r}function Le({page:e,matches:t,...n}){let r=Q(),{future:s,manifest:o,routeModules:a}=Oe(),{basename:c}=xe(),{loaderData:u,matches:l}=Ne(),h=i.useMemo(()=>Ce(e,t,l,o,r,"data"),[e,t,l,o,r]),d=i.useMemo(()=>Ce(e,t,l,o,r,"assets"),[e,t,l,o,r]),f=i.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,i=!1;if(t.forEach(e=>{let t=o.routes[e.route.id];t&&t.hasLoader&&(!h.some(t=>t.route.id===e.route.id)&&e.route.id in u&&a[e.route.id]?.shouldRevalidate||t.hasClientLoader?i=!0:n.add(e.route.id))}),0===n.size)return[];let l=function(e,t,n,r){let i="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:"/"===i.pathname?i.pathname=`_root.${r}`:t&&"/"===E(i.pathname,t)?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}(e,c,s.unstable_trailingSlashAwareDataRequests,"data");return i&&n.size>0&&l.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[l.pathname+l.search]},[c,s.unstable_trailingSlashAwareDataRequests,u,r,o,h,t,e,a]),p=i.useMemo(()=>ke(d,o),[d,o]),g=De(d);return i.createElement(i.Fragment,null,f.map(e=>i.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),p.map(e=>i.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),g.map(({key:e,link:t})=>i.createElement("link",{key:e,nonce:n.nonce,...t,crossOrigin:t.crossOrigin??n.crossOrigin})))}Re.displayName="FrameworkContext";function je(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}i.Component;var Fe="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Fe&&(window.__reactRouterVersion="7.13.0")}catch(e){}function Ue({basename:e,children:t,unstable_useTransitions:n,window:r}){let s=i.useRef();null==s.current&&(s.current=o({window:r,v5Compat:!0}));let a=s.current,[c,u]=i.useState({action:a.action,location:a.location}),l=i.useCallback(e=>{!1===n?u(e):i.startTransition(()=>u(e))},[n]);return i.useLayoutEffect(()=>a.listen(l),[a,l]),i.createElement(ge,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:a,unstable_useTransitions:n})}var Ve=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=i.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:s,replace:o,state:c,target:u,to:l,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...g},m){let{basename:y,unstable_useTransitions:v}=i.useContext(z),w="string"==typeof l&&Ve.test(l),_=L(l,y),b=function(e,{relative:t}={}){a(G(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(z),{hash:s,pathname:o,search:c}=ee(e,{relative:t}),u=o;return"/"!==n&&(u="/"===o?n:k([n,o])),r.createHref({pathname:u,search:c,hash:s})}(l=_.to,{relative:r}),[E,T,S]=function(e,t){let n=i.useContext(Re),[r,s]=i.useState(!1),[o,a]=i.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:l,onMouseLeave:h,onTouchStart:d}=t,f=i.useRef(null);i.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),i.useEffect(()=>{if(r){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{s(!0)},g=()=>{s(!1),a(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:Me(c,p),onBlur:Me(u,g),onMouseEnter:Me(l,p),onMouseLeave:Me(h,g),onTouchStart:Me(d,p)}]:[!1,f,{}]}(n,g),I=function(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let l=Z(),d=Q(),f=ee(e,{relative:o});return i.useCallback(p=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(p,t)){p.preventDefault();let t=void 0!==n?n:h(d)===h(f),g=()=>l(e,{replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:c});u?i.startTransition(()=>g()):g()}},[d,l,f,n,r,t,e,s,o,a,c,u])}(l,{replace:o,state:c,target:u,preventScrollReset:d,relative:r,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:v}),A=i.createElement("a",{...g,...S,href:_.absoluteURL||b,onClick:_.isExternal||s?e:function(t){e&&e(t),t.defaultPrevented||I(t)},ref:je(m,T),target:u,"data-discover":w||"render"!==t?void 0:"true"});return E&&!w?i.createElement(i.Fragment,null,A,i.createElement(Pe,{page:b})):A});function Be(e){let t=i.useContext(U);return a(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}function ze(e){c("undefined"!=typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=i.useRef(be(e)),n=i.useRef(!1),r=Q(),s=i.useMemo(()=>function(e,t){let n=be(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(r.search,n.current?null:t.current),[r.search]),o=Z(),a=i.useCallback((e,t)=>{const r=be("function"==typeof e?e(new URLSearchParams(s)):e);n.current=!0,o("?"+r,t)},[o,s]);return[s,a]}$e.displayName="Link",i.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:s,to:o,viewTransition:c,children:u,...l},h){let d=ee(o,{relative:l.relative}),f=Q(),p=i.useContext(V),{navigator:g,basename:m}=i.useContext(z),y=null!=p&&function(e,{relative:t}={}){let n=i.useContext(B);a(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Be("useViewTransitionState"),s=ee(e,{relative:t});if(!n.isTransitioning)return!1;let o=E(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=E(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=_(s.pathname,c)||null!=_(s.pathname,o)}(d)&&!0===c,v=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,w=f.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(w=w.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&m&&(b=E(b,m)||b);const T="/"!==v&&v.endsWith("/")?v.length-1:v.length;let S,I=w===v||!r&&w.startsWith(v)&&"/"===w.charAt(T),A=null!=b&&(b===v||!r&&b.startsWith(v)&&"/"===b.charAt(v.length)),C={isActive:I,isPending:A,isTransitioning:y},k=I?e:void 0;S="function"==typeof n?n(C):[n,I?"active":null,A?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let x="function"==typeof s?s(C):s;return i.createElement($e,{...l,"aria-current":k,className:S,ref:h,style:x,to:o,viewTransition:c},"function"==typeof u?u(C):u)}).displayName="NavLink",i.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:o,method:c=ve,action:u,onSubmit:l,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...m},y)=>{let{unstable_useTransitions:v}=i.useContext(z),w=function(){let{router:e}=Be("useSubmit"),{basename:t}=i.useContext(z),n=ue("useRouteId"),r=e.fetch,s=e.navigate;return i.useCallback(async(e,i={})=>{let{action:o,method:a,encType:c,formData:u,body:l}=function(e,t){let n,r,i,s,o;if(_e(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?E(o,t):null,n=e.getAttribute("method")||ve,i=Se(e.getAttribute("enctype"))||we,s=new FormData(e)}else if(function(e){return _e(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return _e(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?E(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||ve,i=Se(e.getAttribute("formenctype"))||Se(o.getAttribute("enctype"))||we,s=new FormData(o,e),!function(){if(null===Ee)try{new FormData(document.createElement("form"),0),Ee=!1}catch(e){Ee=!0}return Ee}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(_e(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ve,r=null,i=we,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}(e,t);if(!1===i.navigate){let e=i.fetcherKey||`__${String(++qe)}__`;await r(e,n,i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:u,body:l,formMethod:i.method||a,formEncType:i.encType||c,flushSync:i.flushSync})}else await s(i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:u,body:l,formMethod:i.method||a,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,s,t,n])}(),_=function(e,{relative:t}={}){let{basename:n}=i.useContext(z),r=i.useContext(H);a(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...ee(e||".",{relative:t})},c=Q();if(null==e){o.search=c.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?`?${n}`:""}}return e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),"/"!==n&&(o.pathname="/"===o.pathname?n:k([n,o.pathname])),h(o)}(u,{relative:d}),b="get"===c.toLowerCase()?"get":"post",T="string"==typeof u&&Ve.test(u);return i.createElement("form",{ref:y,method:b,action:_,onSubmit:r?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,a=r?.getAttribute("formmethod")||c,u=()=>w(r||e.currentTarget,{fetcherKey:t,method:a,navigate:n,replace:s,state:o,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g});v&&!1!==n?i.startTransition(()=>u()):u()},...m,"data-discover":T||"render"!==e?void 0:"true"})}).displayName="Form";var qe=0},4644(e,t,n){"use strict";function r(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}n.d(t,{HY:()=>u,Qd:()=>a,Tw:()=>h,Zz:()=>l,ve:()=>d,y$:()=>c});var i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),s=()=>Math.random().toString(36).substring(7).split("").join("."),o={INIT:`@@redux/INIT${s()}`,REPLACE:`@@redux/REPLACE${s()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${s()}`};function a(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function c(e,t,n){if("function"!=typeof e)throw new Error(r(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(r(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(r(1));return n(c)(e,t)}let s=e,u=t,l=new Map,h=l,d=0,f=!1;function p(){h===l&&(h=new Map,l.forEach((e,t)=>{h.set(t,e)}))}function g(){if(f)throw new Error(r(3));return u}function m(e){if("function"!=typeof e)throw new Error(r(4));if(f)throw new Error(r(5));let t=!0;p();const n=d++;return h.set(n,e),function(){if(t){if(f)throw new Error(r(6));t=!1,p(),h.delete(n),l=null}}}function y(e){if(!a(e))throw new Error(r(7));if(void 0===e.type)throw new Error(r(8));if("string"!=typeof e.type)throw new Error(r(17));if(f)throw new Error(r(9));try{f=!0,u=s(u,e)}finally{f=!1}return(l=h).forEach(e=>{e()}),e}return y({type:o.INIT}),{dispatch:y,subscribe:m,getState:g,replaceReducer:function(e){if("function"!=typeof e)throw new Error(r(10));s=e,y({type:o.REPLACE})},[i]:function(){const e=m;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(r(11));function n(){const e=t;e.next&&e.next(g())}return n(),{unsubscribe:e(n)}},[i](){return this}}}}}function u(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}const i=Object.keys(n);let s;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if(void 0===n(void 0,{type:o.INIT}))throw new Error(r(12));if(void 0===n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))})}(n)}catch(e){s=e}return function(e={},t){if(s)throw s;let o=!1;const a={};for(let s=0;s<i.length;s++){const c=i[s],u=n[c],l=e[c],h=u(l,t);if(void 0===h)throw t&&t.type,new Error(r(14));a[c]=h,o=o||h!==l}return o=o||i.length!==Object.keys(e).length,o?a:e}}function l(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function h(...e){return t=>(n,i)=>{const s=t(n,i);let o=()=>{throw new Error(r(15))};const a={getState:s.getState,dispatch:(e,...t)=>o(e,...t)},c=e.map(e=>e(a));return o=l(...c)(s.dispatch),{...s,dispatch:o}}}function d(e){return a(e)&&"type"in e&&"string"==typeof e.type}},5508(e,t,n){"use strict";n.d(t,{Mz:()=>c});var r=e=>Array.isArray(e)?e:[e];Symbol(),Object.getPrototypeOf({});var i="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function s(){return{s:0,v:void 0,o:null,p:null}}function o(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let o,a=0;function c(){let t=n;const{length:c}=arguments;for(let e=0,n=c;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=s(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=s(),e.set(n,t)):t=r}}const u=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,r){const e=o?.deref?.()??o;null!=e&&r(e,l)&&(l=e,0!==a&&a--),o="object"==typeof l&&null!==l||"function"==typeof l?new i(l):l}return u.s=1,u.v=l,l}return c.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c}function a(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,i=(...e)=>{let t,i=0,s=0,a={},c=e.pop();"object"==typeof c&&(a=c,c=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...a},{memoize:l,memoizeOptions:h=[],argsMemoize:d=o,argsMemoizeOptions:f=[],devModeChecks:p={}}=u,g=r(h),m=r(f),y=function(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const n=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}(e),v=l(function(){return i++,c.apply(null,arguments)},...g),w=d(function(){s++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(y,arguments);return t=v.apply(null,e),t},...m);return Object.assign(w,{resultFunc:c,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>t,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:l,argsMemoize:d})};return Object.assign(i,{withTypes:()=>i}),i}var c=a(o),u=Object.assign((e,t=c)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map(t=>e[t]),(...e)=>e.reduce((e,t,r)=>(e[n[r]]=t,e),{}))},{withTypes:()=>u})},1561(e,t,n){"use strict";n.d(t,{A:()=>r});function r(e,t){if(!e)throw new Error("Invariant failed")}}}]);
//# sourceMappingURL=vendors.b052c0c31cc1e2cee987.js.map