{"version":3,"file":"main.9af4b3e18f3ccc06c7a9.js","mappings":"+KAaIA,GAAM,E,OAAA,IATW,CACjBC,OAAQ,0CACRC,WAAY,yCACZC,UAAW,yBACXC,cAAe,6CACfC,kBAAmB,eACnBC,MAAO,8CAIAC,GAAO,QAAQP,GACfQ,GAAK,QAAaR,GCdlBS,EAAgB,CAEvB,KAAQ,MACR,GAAM,MACN,GAAM,OACN,GAAM,MACN,GAAM,MACN,GAAM,OACN,IAAO,OACP,IAAO,OACP,GAAM,OACN,KAAQ,MACR,MAAS,MACT,GAAM,MACN,IAAO,MACP,IAAO,MACP,MAAS,MACT,IAAO,MACP,KAAQ,OACR,IAAO,OACP,KAAQ,OACR,KAAQ,OACR,GAAM,MACN,KAAQ,MACR,MAAS,OACT,KAAQ,MACR,GAAM,OACN,GAAM,OACN,IAAO,OACP,OAAU,MAEV,GAAM,MACN,KAAQ,OACR,IAAO,MACP,GAAM,MACN,KAAQ,MACR,IAAO,MACP,KAAQ,OACR,KAAQ,MACR,IAAO,MACP,MAAS,OACT,MAAS,MACT,IAAO,MACP,IAAO,MACP,KAAQ,MACR,IAAO,MACP,IAAO,OACP,IAAO,MACP,GAAM,OACN,IAAO,MACP,MAAS,OACT,MAAS,OACT,MAAS,OACT,cAAe,OACf,KAAQ,OACR,MAAS,OACT,KAAQ,OACR,OAAU,OACV,IAAO,MACP,GAAM,MACN,KAAQ,OACR,KAAQ,MACR,MAAS,OACT,KAAQ,OACR,MAAS,OACT,KAAQ,OACR,MAAS,OACT,IAAO,OACP,IAAO,KACP,IAAO,OACP,MAAS,OACT,OAAU,OACV,KAAQ,OACR,GAAM,OACN,MAAS,OAET,GAAM,KACN,IAAO,KACP,IAAO,MAEP,IAAO,MACP,MAAS,MACT,GAAM,MACN,GAAM,MACN,KAAQ,MACR,MAAS,MACT,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,IAAO,OACP,MAAS,OACT,IAAO,OACP,KAAQ,OACR,IAAO,OACP,MAAS,OACT,KAAQ,OACR,KAAQ,OACR,GAAM,MACN,KAAQ,QACR,IAAO,OACP,WAAY,QACZ,IAAO,QACP,MAAS,QACT,YAAa,QAEb,IAAO,MACP,MAAS,OACT,MAAS,MACT,GAAM,OACN,KAAQ,OACR,IAAO,OACP,IAAO,OACP,IAAO,OACP,MAAS,OACT,GAAM,OACN,IAAO,OACP,IAAO,OACP,IAAO,OACP,IAAO,OACP,GAAM,OACN,OAAU,OACV,IAAO,OACP,GAAM,OACN,OAAU,OACV,IAAO,OACP,GAAM,OACN,OAAU,OACV,IAAO,OACP,KAAQ,OACR,GAAM,OACN,GAAM,OACN,YAAa,OACb,IAAO,OACP,IAAO,OACP,IAAO,OACP,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,IAAO,OACP,MAAS,OACT,IAAO,OACP,KAAQ,OACR,OAAU,OACV,IAAO,OACP,MAAS,OACT,MAAS,OACT,GAAM,OACN,MAAS,OACT,MAAS,OACT,GAAM,OACN,GAAM,OAEN,GAAM,MACN,KAAQ,MACR,GAAM,OACN,OAAU,OACV,SAAU,OACV,KAAQ,OACR,IAAO,OACP,GAAM,OACN,KAAQ,OACR,IAAO,OACP,IAAO,OACP,IAAO,OACP,QAAS,OACT,OAAU,OAEV,QAAW,OACX,OAAU,OACV,IAAO,OACP,KAAQ,OACR,IAAO,OACP,GAAM,OACN,GAAM,OACN,IAAO,OACP,IAAO,OACP,IAAO,OACP,IAAO,OACP,GAAM,MACN,KAAQ,OAER,IAAO,OACP,KAAQ,OACR,IAAO,OACP,IAAO,OACP,OAAU,QAGHC,EAAuB,SAAUC,GACxC,OAAOA,EACFC,OACAC,cACAC,QAAQ,OAAQ,IAChBA,QAAQ,gBAAiB,GAClC,EC/LWC,EAAkB,SAAUC,GACnC,OAAOA,EAAMF,QAAQ,QAAS,IAClC,EAMWG,EAAuB,SAAUN,GACxC,IAAKA,EACD,MAAO,KAEX,GAAuB,IAAnBA,EAAQO,QAAgB,aAAaC,KAAKR,EAAQS,eAClD,OAAOT,EAAQS,cAGnB,IAAIC,EAAeV,EAAQS,cAEvBE,EAAiB,CACjB,KAAQ,KACR,GAAM,KACN,MAAS,KACT,gBAAiB,KACjB,IAAO,KACP,GAAM,KACN,MAAS,KACT,GAAM,KACN,MAAS,KACT,GAAM,KACN,iBAAkB,KAClB,GAAM,KACN,GAAM,MAGV,GAAIA,EAAeD,GACf,OAAOC,EAAeD,GAG1B,IAAK,IAAIE,EAAK,EAAGC,EAAKC,OAAOC,QAAQjB,GAAgBc,EAAKC,EAAGN,OAAQK,IAAM,CACvE,IAAII,EAAKH,EAAGD,GAAKK,EAAcD,EAAG,GAAIE,EAAcF,EAAG,GACvD,GAAIC,EAAYR,gBAAkBC,EAQ9B,MANc,CACV,MAAO,KAAM,KAAM,KAAM,MAAO,KAAM,MAAO,KAC7C,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAC9C,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAC9C,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,OAAQ,MAEpCQ,IAAgB,IAEvC,CACA,MAAO,IACX,EAMWC,EAA4B,SAAUd,GAC7C,IAAIQ,EACJ,IAAKR,EACD,MAAO,KACX,IAAIe,EAAwC,QAA9BP,EAAKR,EAAMgB,MAAM,KAAK,UAA4B,IAAZR,OAAqB,EAAIA,EAAGX,cAChF,IAAKkB,EACD,MAAO,KAEX,IAAIE,EAAqB,CAErB,WAAY,KACZ,YAAa,KACb,cAAe,KACf,WAAY,KACZ,YAAa,KACb,YAAa,KACb,eAAgB,KAChB,WAAY,KACZ,cAAe,KAEf,YAAa,KACb,YAAa,KACb,cAAe,KACf,cAAe,KACf,UAAW,KACX,aAAc,KACd,WAAY,KACZ,WAAY,KAEZ,SAAU,KACV,UAAW,KACX,UAAW,KACX,WAAY,KACZ,WAAY,KACZ,cAAe,KACf,cAAe,KACf,cAAe,KACf,cAAe,KACf,SAAU,KACV,SAAU,KACV,YAAa,KACb,cAAe,KACf,WAAY,KACZ,WAAY,KACZ,WAAY,KACZ,WAAY,MAGhB,GAAIA,EAAmBF,GACnB,OAAOE,EAAmBF,GAG9B,IAAIG,EAAmB,CACnB,QAAS,KACT,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,QAAS,KACT,GAAM,KACN,QAAS,KACT,GAAM,KACN,QAAS,KACT,GAAM,KACN,GAAM,KACN,GAAM,KACN,GAAM,KACN,GAAM,KACN,GAAM,KACN,GAAM,KACN,GAAM,MAGV,GAAIA,EAAiBH,GACjB,OAAOG,EAAiBH,GAG5B,IAAK,IAAIR,EAAK,EAAGI,EAAKF,OAAOC,QAAQQ,GAAmBX,EAAKI,EAAGT,OAAQK,IAAM,CAC1E,IAAIY,EAAKR,EAAGJ,GAAKa,EAAUD,EAAG,GAAIE,EAAOF,EAAG,GAC5C,GAAIJ,EAAOO,SAASF,GAChB,OAAOC,CAEf,CACA,MAAO,IACX,EAMWE,EAAwB,SAAUV,GAEzC,MAAO,SAASW,OADLX,GAAe,KAE9B,EC1JWY,EAAY,SAAUzB,GAG7B,MADmB,uBACZA,CACX,ECVI0B,EAAwC,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,UAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,EAAE,SAAUG,GAAWA,EAAQG,EAAQ,IAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,OAClE,EACJ,EACIO,EAA4C,SAAUjB,EAASkB,GAC/D,IAAsGC,EAAGC,EAAGC,EAAxGC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPH,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGI,KAAM,GAAIC,IAAK,IAAeC,EAAI7C,OAAO8C,QAA4B,mBAAbC,SAA0BA,SAAW/C,QAAQgD,WACtL,OAAOH,EAAEjB,KAAOqB,EAAK,GAAIJ,EAAS,MAAII,EAAK,GAAIJ,EAAU,OAAII,EAAK,GAAsB,mBAAXC,SAA0BL,EAAEK,OAAOC,UAAY,WAAa,OAAOC,IAAM,GAAIP,EAC1J,SAASI,EAAKI,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIlB,EAAG,MAAM,IAAImB,UAAU,mCAC3B,KAAOX,IAAMA,EAAI,EAAGU,EAAG,KAAOf,EAAI,IAAKA,OACnC,GAAIH,EAAI,EAAGC,IAAMC,EAAY,EAARgB,EAAG,GAASjB,EAAU,OAAIiB,EAAG,GAAKjB,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEkB,KAAKnB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEkB,KAAKnB,EAAGiB,EAAG,KAAKvB,KAAM,OAAOO,EAE3J,OADID,EAAI,EAAGC,IAAGgB,EAAK,CAAS,EAARA,EAAG,GAAQhB,EAAEb,QACzB6B,EAAG,IACP,KAAK,EAAG,KAAK,EAAGhB,EAAIgB,EAAI,MACxB,KAAK,EAAc,OAAXf,EAAEC,QAAgB,CAAEf,MAAO6B,EAAG,GAAIvB,MAAM,GAChD,KAAK,EAAGQ,EAAEC,QAASH,EAAIiB,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKf,EAAEI,IAAIc,MAAOlB,EAAEG,KAAKe,MAAO,SACxC,QACI,MAAkBnB,GAAZA,EAAIC,EAAEG,MAAYlD,OAAS,GAAK8C,EAAEA,EAAE9C,OAAS,KAAkB,IAAV8D,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEf,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVe,EAAG,MAAchB,GAAMgB,EAAG,GAAKhB,EAAE,IAAMgB,EAAG,GAAKhB,EAAE,IAAM,CAAEC,EAAEC,MAAQc,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYf,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIA,EAAIgB,EAAI,KAAO,CACpE,GAAIhB,GAAKC,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIC,EAAEI,IAAIe,KAAKJ,GAAK,KAAO,CAC9DhB,EAAE,IAAIC,EAAEI,IAAIc,MAChBlB,EAAEG,KAAKe,MAAO,SAEtBH,EAAKnB,EAAKqB,KAAKvC,EAASsB,EAC5B,CAAE,MAAOX,GAAK0B,EAAK,CAAC,EAAG1B,GAAIS,EAAI,CAAG,CAAE,QAAUD,EAAIE,EAAI,CAAG,CACzD,GAAY,EAARgB,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE7B,MAAO6B,EAAG,GAAKA,EAAG,QAAU,EAAGvB,MAAM,EAC9E,CAtBgDL,CAAK,CAAC0B,EAAGC,GAAK,CAAG,CAuBrE,EASIM,EAAqB,SAAUrE,GAAS,OAAO0B,OAAe,OAAQ,OAAQ,EAAG,WACjF,IAAkBnB,EAAI+D,EAAgBzD,EAAa0D,EAAYC,EAASC,EAAUC,EAClF,OAAO9B,EAAYiB,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACDyB,QAAQC,IAAI,gCAAiC5E,GAE7CO,EAAK,EAAG+D,EADO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAEtE9D,EAAG0C,MAAQ,EACf,KAAK,EACD,KAAM3C,EAAK+D,EAAepE,QAAS,MAAO,CAAC,EAAa,GACxDW,EAAcyD,EAAe/D,GAC7BC,EAAG0C,MAAQ,EACf,KAAK,EAGD,OAFA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBG,GAAa,QAAI/E,EAAI,SAASgC,OAAOX,GAAcb,GAC5C,CAAC,GAAa,QAAOuE,IAChC,KAAK,EAED,OADAC,EAAUhE,EAAG2C,QACD0B,UACRJ,EAAWD,EAAQM,OACnBH,QAAQC,IAAI,kBAAuBpD,OAAOX,EAAa,iBAA+D,CAClHb,MAAOyE,EAASzE,MAChB+E,UAAWN,EAASM,UACpBlE,YAAa4D,EAAS5D,YACtBlB,QAAS8E,EAAS9E,QAClBqF,KAAMP,EAASO,OAEZ,CAAC,EAAc,CACdC,IAAKR,EAASQ,IACdjF,MAAOyE,EAASzE,MAChBkF,YAAaT,EAASS,YACtBF,KAAMP,EAASO,KACfD,UAAWN,EAASM,UACpBlE,YAAa4D,EAAS5D,YACtBlB,QAAS8E,EAAS9E,QAClBwF,OAAQV,EAASU,OACjBC,KAAMX,EAASW,KACfC,WAAYZ,EAASY,WACrBC,QAASb,EAASa,WAGvB,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAZ,EAAUlE,EAAG2C,OACbwB,QAAQY,MAAM,kBAAuB/D,OAAOX,EAAa,WAAgC6D,GAClF,CAAC,EAAa,GACzB,KAAK,EAED,OADAnE,IACO,CAAC,EAAa,GACzB,KAAK,EAED,OADAoE,QAAQY,MAAM,kCAAmCvF,GAC1C,CAAC,EAAc,MAElC,EACJ,EAAI,EACAwF,GAAc,IAAAC,oBAAcC,GACrBC,EAAU,WACjB,IAAIC,GAAU,IAAAC,YAAWL,GACzB,QAAgBE,IAAZE,EACA,MAAM,IAAIE,MAAM,+CAEpB,OAAOF,CACX,EACWG,EAAe,SAAUvF,GAChC,IAAIwF,EAAWxF,EAAGwF,SACdrF,GAAK,IAAAsF,UAAS,MAAOC,EAAOvF,EAAG,GAAIwF,EAAUxF,EAAG,GAChDQ,GAAK,IAAA8E,WAAS,GAAOG,EAAUjF,EAAG,GAAIkF,EAAalF,EAAG,GA0H1D,OAzHA,IAAAmF,WAAU,WACN,IAAIC,GAAc,QAAmBhH,EAAM,SAAUiH,GAAgB,OAAO9E,OAAe,OAAQ,OAAQ,EAAG,WAC1G,IAAI1B,EAAOyG,EAAoDC,EAAYC,EAAqBC,EAAgBC,EAChH,OAAOjE,EAAYiB,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EAMD,GALAyB,QAAQC,IAAI,sBAAuB,CAC/BK,IAAKuB,aAAwD,EAAIA,EAAavB,IAC9EjF,MAAOwG,aAAwD,EAAIA,EAAaxG,MAChF8G,WAAW,IAAIC,MAAOC,iBAErBR,EAAc,MAAO,CAAC,EAAa,IACxChG,EAAG0C,MAAQ,EACf,KAAK,EAED,OADA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,KAChBoC,EAAaxG,OAASyB,EAAU+E,EAAaxG,QACnD2E,QAAQC,IAAI,qBAAsB4B,EAAaxG,OAC/CmG,EAAQ,CACJlB,IAAKuB,EAAavB,IAClBjF,MAAOwG,EAAaxG,MACpBkF,YAAasB,EAAatB,YAC1BF,KAAM,OAEVqB,GAAW,GACJ,CAAC,IAT2D,CAAC,EAAa,GAUrF,KAAK,EAED,KADArG,EAAQwG,EAAaxG,OAAS,IAClB,MAAO,CAAC,EAAa,GACjC2E,QAAQC,IAAI,8CAA+C5E,GAC3DQ,EAAG0C,MAAQ,EACf,KAAK,EAED,OADA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACf,CAAC,EAAaC,EAAmBrE,IAC5C,KAAK,EAmCD,OAlCAyG,EAAgBjG,EAAG2C,SAEfwB,QAAQC,IAAI,yCAA0C6B,GACtDN,EAAQ,CACJlB,IAAKuB,EAAavB,IAClBjF,MAAOwG,EAAaxG,MACpBkF,YAAasB,EAAatB,YAC1BF,KAAMyB,EAAczB,MAAQ,QAC5BD,UAAW0B,EAAc1B,UACzBM,WAAYoB,EAAcpB,WAE1B1F,QAAS8G,EAAc9G,SAAW,OAClCkB,YAAa4F,EAAc5F,aAAeZ,EAAqBwG,EAAc9G,SAAW,QACxFwF,OAAQsB,EAActB,QAAU,OAChCC,KAAMqB,EAAcrB,MAAQ,MAC5BE,QAASmB,EAAcnB,SAAWvF,EAAgBC,OAItD2E,QAAQsC,KAAK,2DAA4DjH,GACzE2G,EAAsB7F,EAA0Bd,GAChD4G,EAAyC,OAAxBD,EAA+B,gBAAkB,OAClER,EAAQ,CACJlB,IAAKuB,EAAavB,IAClBjF,MAAOwG,EAAaxG,MACpBkF,YAAasB,EAAatB,YAC1BF,KAAM,KACNrF,QAASiH,EACT/F,YAAa8F,EACbxB,OAAgC,OAAxBwB,EAA+B,OAAS,aAChDvB,KAA8B,OAAxBuB,EAA+B,MAAQ,cAC7CrB,QAASvF,EAAgBC,MAG1B,CAAC,EAAa,GACzB,KAAK,EAgBD,OAfA0G,EAAalG,EAAG2C,OAChBwB,QAAQY,MAAM,gDAAiDmB,GAC/DC,EAAsB7F,EAA0Bd,GAChD4G,EAAyC,OAAxBD,EAA+B,gBAAkB,OAClER,EAAQ,CACJlB,IAAKuB,EAAavB,IAClBjF,MAAOwG,EAAaxG,MACpBkF,YAAasB,EAAatB,YAC1BF,KAAM,KACNrF,QAASiH,EACT/F,YAAa8F,EACbxB,OAAgC,OAAxBwB,EAA+B,OAAS,aAChDvB,KAA8B,OAAxBuB,EAA+B,MAAQ,cAC7CrB,QAASvF,EAAgBC,KAEtB,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAa,GAC7B,KAAK,EACD2E,QAAQsC,KAAK,yCAA0CjH,GAEvDmG,EAAQ,CACJlB,IAAKuB,EAAavB,IAClBjF,MAAOwG,EAAaxG,MACpBkF,YAAasB,EAAatB,YAC1BF,KAAM,OAEVxE,EAAG0C,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,EAAa,IAC7B,KAAK,EAUD,OATA2D,EAAUrG,EAAG2C,OACbwB,QAAQY,MAAM,sBAAuBsB,GAErCV,EAAQ,CACJlB,IAAKuB,EAAavB,IAClBjF,MAAOwG,EAAaxG,MACpBkF,YAAasB,EAAatB,YAC1BF,KAAM,OAEH,CAAC,EAAa,IACzB,KAAK,GAAI,MAAO,CAAC,EAAa,IAC9B,KAAK,GACDmB,EAAQ,MACR3F,EAAG0C,MAAQ,GACf,KAAK,GAED,OADAmD,GAAW,GACJ,CAAC,GAEpB,EACJ,EAAI,GACJ,OAAO,WAAc,OAAOE,GAAe,CAC/C,EAAG,KACK,SAAKf,EAAY0B,SAAU,CAAE/E,MAAO,CAAE+D,KAAMA,EAAME,QAASA,GAAWJ,SAAUA,GAC5F,EC1OImB,EAAsC,WAStC,OARAA,EAAW1G,OAAO2G,QAAU,SAASpE,GACjC,IAAK,IAAIqE,EAAGC,EAAI,EAAGxD,EAAIyD,UAAUrH,OAAQoH,EAAIxD,EAAGwD,IAE5C,IAAK,IAAIE,KADTH,EAAIE,UAAUD,GACO7G,OAAOgD,UAAUgE,eAAevD,KAAKmD,EAAGG,KACzDxE,EAAEwE,GAAKH,EAAEG,IAEjB,OAAOxE,CACX,EACOmE,EAASxE,MAAMkB,KAAM0D,UAChC,EACIG,EAAgD,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBN,UAAUrH,OAAc,IAAK,IAA4B4H,EAAxBR,EAAI,EAAGS,EAAIH,EAAK1H,OAAYoH,EAAIS,EAAGT,KACxEQ,GAAQR,KAAKM,IACRE,IAAIA,EAAKE,MAAMvE,UAAUwE,MAAM/D,KAAK0D,EAAM,EAAGN,IAClDQ,EAAGR,GAAKM,EAAKN,IAGrB,OAAOK,EAAGnG,OAAOsG,GAAME,MAAMvE,UAAUwE,MAAM/D,KAAK0D,GACtD,EAGIM,GAAsB,IAAAzC,oBAAcC,GAQ7ByC,EAAuB,SAAU3H,GACxC,IAAIwF,EAAWxF,EAAGwF,SACdrF,GAAK,IAAAsF,UAAS,IAAKmC,EAAgBzH,EAAG,GAAI0H,EAAmB1H,EAAG,GAYhEwB,EAAQ,CACRiG,cAAeA,EACfE,iBAbkB,IAAAC,aAAY,SAAUC,GACxC,IAAIC,EAAK1B,KAAK2B,MAAMC,WAChBC,EAAkBzB,EAASA,EAAS,CAAC,EAAGqB,GAAe,CAAEC,GAAIA,IACjEJ,EAAiB,SAAUQ,GAAQ,OAAOnB,EAAcA,EAAc,GAAImB,GAAM,GAAO,CAACD,IAAkB,EAAQ,EACtH,EAAG,IAUCE,oBATqB,IAAAP,aAAY,SAAUE,GAC3CJ,EAAiB,SAAUQ,GAAQ,OAAOA,EAAKE,OAAO,SAAUP,GAAgB,OAAOA,EAAaC,KAAOA,CAAI,EAAI,EACvH,EAAG,IAQCO,oBAPqB,IAAAT,aAAY,WACjCF,EAAiB,GACrB,EAAG,KAOH,OAAQ,SAAKH,EAAoBhB,SAAU,CAAE/E,MAAOA,EAAO6D,SAAUA,GACzE,ECjDIiD,GAAiB,IAAAxD,oBAAcC,GACxBwD,EAAa,WACpB,IAAItD,GAAU,IAAAC,YAAWoD,GACzB,IAAKrD,EACD,MAAM,IAAIE,MAAM,oDAEpB,OAAOF,CACX,EACWuD,EAAkB,SAAU3I,GACnC,IAAIwF,EAAWxF,EAAGwF,SACdrF,GAAK,IAAAsF,UAAS,OAAQmD,EAAkBzI,EAAG,GAAI0I,EAAqB1I,EAAG,GAC3E,OAAQ,SAAKsI,EAAe/B,SAAU,CAAE/E,MAAO,CAAEiH,gBAAiBA,EAAiBC,mBAAoBA,GAAsBrD,SAAUA,GAC3I,ECTA,QAHqB,WACjB,OAAQ,SAAK,MAAO,CAAEsD,UAAW,0GAA2GtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,WAAYtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,sFAAuF,SAAK,MAAO,CAAEA,UAAW,qGAAsGC,MAAO,CAAEC,eAAgB,eACnd,ECCO,IAAIC,EAAiB,SAAUjJ,GAClC,IAAIwF,EAAWxF,EAAGwF,SAAU0D,EAAelJ,EAAGkJ,aAC1C/I,EAAKgF,IAAWO,EAAOvF,EAAGuF,KAAME,EAAUzF,EAAGyF,QAC7CuD,GAAW,UACXC,GAAe,UAAkB,GAWrC,GAVAjF,QAAQC,IAAI,wBAAyB,CACjCwB,QAASA,EACTF,KAAMA,EAAO,CACTjB,IAAKiB,EAAKjB,IACVjF,MAAOkG,EAAKlG,MACZgF,KAAMkB,EAAKlB,MACX,KACJ0E,aAAcA,EACdG,KAAMF,EAASG,WAEf1D,EACA,OAAQ,SAAK,MAAO,CAAEkD,UAAW,4DAA6DtD,UAAU,SAAK,EAAgB,CAAC,KAElI,IAAKE,EAED,OADAvB,QAAQC,IAAI,wCACL,SAAK,KAAU,CAAE+C,GAAI,SAAUoC,MAAO,CAAEnC,KAAM+B,GAAY7J,SAAS,IAG9E,IAAK4J,EAGD,OADA/E,QAAQC,IAAI,4CACL,SAAK,WAAW,CAAEoB,SAAUA,IAEvC,GAAIE,EAAKlB,OAAS0E,EAAc,CAC5B/E,QAAQC,IAAI,iBAAkB,CAAEoF,SAAU9D,EAAKlB,KAAM0E,aAAcA,IAEnE,IAAIO,EAAsBL,EAAaM,IAAI,SAC3C,GAAqB,UAAjBR,GAA0C,OAAdxD,EAAKlB,MAAiBiF,EAElD,OADAtF,QAAQC,IAAI,yEACL,SAAK,WAAW,CAAEoB,SAAUA,IAGvC,OAAQE,EAAKlB,MACT,IAAK,KAED,OADAL,QAAQC,IAAI,+DACL,SAAK,KAAU,CAAE+C,GAAI,gBAAiB7H,SAAS,IAC1D,IAAK,QAED,OADA6E,QAAQC,IAAI,2DACL,SAAK,KAAU,CAAE+C,GAAI,UAAW7H,SAAS,IACpD,QAEI,OADA6E,QAAQC,IAAI,wCACJ,SAAK,MAAO,CAAE0E,UAAW,4DAA6DtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,cAAetD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,qCAAsCtD,SAAU,WAAgC,SAAK,IAAK,CAAEsD,UAAW,qBAAsBtD,SAAU,0BAAsG,UAAM,IAAK,CAAEsD,UAAW,wBAAyBtD,SAAU,CAAC,UAA+BE,EAAKlB,MAAQ,KAAM,aAAkC0E,UAE7jB,CAEA,OADA/E,QAAQC,IAAI,uCACL,SAAK,WAAW,CAAEoB,SAAUA,GACvC,ECpDWmE,EAAoB,WAC3B,IAAI3J,EAAKmF,IAAWO,EAAO1F,EAAG0F,KAC9B,GAD8C1F,EAAG4F,QAE7C,OAAQ,SAAK,MAAO,CAAEkD,UAAW,4DAA6DtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,aAActD,SAAU,cAE7J,IAAKE,EAED,OADAvB,QAAQC,IAAI,wCACL,SAAK,KAAU,CAAE+C,GAAI,SAAU7H,SAAS,IAGnD,OAAQoG,EAAKlB,MACT,IAAK,KAED,OADAL,QAAQC,IAAI,oDACL,SAAK,KAAU,CAAE+C,GAAI,gBAAiB7H,SAAS,IAC1D,IAAK,QAED,OADA6E,QAAQC,IAAI,sDACL,SAAK,KAAU,CAAE+C,GAAI,aAAc7H,SAAS,IACvD,QAEI,OADA6E,QAAQC,IAAI,uCACL,SAAK,KAAU,CAAE+C,GAAI,SAAU7H,SAAS,IAE3D,E,sECtBIsK,EAAY,CACZ,CAAE/I,KAAM,MAAOgJ,KAAM,gBAAiBC,QAAS,CAAC,MAAO,OACvD,CAAEjJ,KAAM,KAAMgJ,KAAM,cAAeC,QAAS,CAAC,QAAS,cAAe,OAAQ,OAC7E,CAAEjJ,KAAM,KAAMgJ,KAAM,cAAeC,QAAS,CAAC,cAAe,OAC5D,CAAEjJ,KAAM,KAAMgJ,KAAM,gBAAiBC,QAAS,CAAC,MAAO,UAAW,2BAA4B,OAC7F,CAAEjJ,KAAM,KAAMgJ,KAAM,QAASC,QAAS,CAAC,QAAS,OAChD,CAAEjJ,KAAM,KAAMgJ,KAAM,QAASC,QAAS,CAAC,QAAS,OAChD,CAAEjJ,KAAM,KAAMgJ,KAAM,iBAAkBC,QAAS,CAAC,KAAM,UAAW,UAAW,OAC5E,CAAEjJ,KAAM,KAAMgJ,KAAM,UAAWC,QAAS,CAAC,cAAe,OACxD,CAAEjJ,KAAM,KAAMgJ,KAAM,SAAUC,QAAS,CAAC,SAAU,QAClD,CAAEjJ,KAAM,KAAMgJ,KAAM,QAASC,QAAS,CAAC,QAAS,SAChD,CAAEjJ,KAAM,KAAMgJ,KAAM,QAASC,QAAS,CAAC,QAAS,SAChD,CAAEjJ,KAAM,KAAMgJ,KAAM,cAAeC,QAAS,CAAC,UAAW,YAAa,UAmEzE,QAjEsB,SAAU9J,GAC5B,IAAI2B,EAAQ3B,EAAG2B,MAAOoI,EAAW/J,EAAG+J,SAAU5J,EAAKH,EAAGgK,YAAaA,OAA0B,IAAZ7J,EAAgB,oBAAsBA,EACnHQ,GAAK,IAAA8E,WAAS,GAAQwE,EAAStJ,EAAG,GAAIuJ,EAAYvJ,EAAG,GACrDwJ,GAAK,IAAA1E,UAAS,IAAK2E,EAAaD,EAAG,GAAIE,EAAgBF,EAAG,GAC1DG,GAAK,IAAA7E,UAASmE,GAAYW,EAAoBD,EAAG,GAAIE,EAAuBF,EAAG,GAC/EG,GAAK,IAAAhF,UAAS,MAAOmD,EAAkB6B,EAAG,GAAI5B,EAAqB4B,EAAG,GACtEC,GAAc,IAAAC,QAAO,MAuDzB,OAtDA,IAAA7E,WAAU,WAEN,IAAI8E,EAAUhB,EAAUiB,KAAK,SAAUC,GAAK,OAAOA,EAAEjK,OAASc,CAAO,GACrEkH,EAAmB+B,GAAW,MAC9BP,GAAeO,aAA8C,EAAIA,EAAQf,OAAS,GACtF,EAAG,CAAClI,KACJ,IAAAmE,WAAU,WAEN,GAAKsE,EAGA,CACD,IAAIW,EAAWnB,EAAUrB,OAAO,SAAUpJ,GACtC,IAAIa,EACAgL,EAAcZ,EAAW/K,cACzB4L,EAAY9L,EAAQ0K,KAAKxK,cAAcyB,SAASkK,GAChDE,EAAY/L,EAAQ0B,KAAKxB,cAAcyB,SAASkK,GAChDG,EAAwC,QAA1BnL,EAAKb,EAAQ2K,eAAiC,IAAZ9J,OAAqB,EAAIA,EAAGoL,KAAK,SAAUC,GAC3F,OAAOA,EAAMhM,cAAcyB,SAASkK,EACxC,GACA,OAAOC,GAAaC,GAAaC,CACrC,GACAX,EAAqBO,EACzB,MAdIP,EAAqBZ,EAe7B,EAAG,CAACQ,KACJ,IAAAtE,WAAU,WAEN,IAAIwF,EAAqB,SAAUC,GAC3Bb,EAAYE,UAAYF,EAAYE,QAAQY,SAASD,EAAME,SAC3DvB,GAAU,EAElB,EAEA,OADAwB,SAASC,iBAAiB,QAASL,GAC5B,WAAc,OAAOI,SAASE,oBAAoB,QAASN,EAAqB,CAC3F,EAAG,KAoBK,UAAM,MAAO,CAAExC,UAAW,WAAY+C,IAAKnB,EAAalF,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,WAAYtD,SAAU,EAAC,SAAK,QAAS,CAAEsG,KAAM,OAAQnK,MAAOyI,EAAYL,SAbrJ,SAAUjI,GAC9B,IAAIH,EAAQG,EAAE2J,OAAO9J,MACrB0I,EAAc1I,GACTsI,GACDC,GAAU,EAElB,EAO0M6B,QANnL,WACnB7B,GAAU,EACd,EAIqOF,YAAaA,EAAalB,UAAW,mIAAoI,SAAK,SAAU,CAAEkD,QAH5Y,WACf9B,GAAWD,EACf,EACsbnB,UAAW,wGAAyGtD,UAAU,SAAKyG,EAAA,EAAiB,CAAEnD,UAAW,gCAAgC9H,OAAOiJ,EAAS,aAAe,WAAeA,IAAW,SAAK,MAAO,CAAEnB,UAAW,6GAA8GtD,SAAuC,IAA7B+E,EAAkB7K,QAAgB,SAAK,MAAO,CAAEoJ,UAAW,kCAAmCtD,SAAU,uBAA4B+E,EAAkB2B,IAAI,SAAU/M,GAAW,OAAQ,UAAM,MAAO,CAAE6M,QAAS,WAAc,OAnB3gC,SAAU7M,GACzB0J,EAAmB1J,GACnBkL,EAAclL,EAAQ0K,MACtBE,EAAS5K,EAAQ0B,MACjBqJ,GAAU,EACd,CAcqiCiC,CAAahN,EAAU,EAAG2J,UAAW,sDAAsD9H,QAAQ4H,aAA8D,EAAIA,EAAgB/H,QAAU1B,EAAQ0B,KACttC,+BACA,oDAAqD2E,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,cAAetD,SAAUrG,EAAQ0K,QAAS,SAAK,MAAO,CAAEf,UAAW,wBAAyBtD,SAAUrG,EAAQ0B,SAAY1B,EAAQ0B,KAAQ,OAC7P,EC1EA,IAAIuL,EAAe,CACf,CAAEvC,KAAM,SAAUwC,KAAM,gBAAiBC,KAAMC,EAAA,GAC/C,CAAE1C,KAAM,OAAQwC,KAAM,aAAcC,KAAME,EAAA,GAC1C,CAAE3C,KAAM,MAAOwC,KAAM,UAAWC,KAAMG,EAAA,GACtC,CAAE5C,KAAM,KAAMwC,KAAM,YAAaC,KAAMI,EAAA,IAEhCC,EAAU,SAAU3M,GAC3B,IAAIG,EAAKH,EAAGiK,OAAQA,OAAqB,IAAZ9J,GAAwBA,EAAIyM,EAAU5M,EAAG4M,QAClEzD,GAAW,UACXzD,EAAOP,IAAUO,KACjB/E,EAAK+H,IAAcE,EAAkBjI,EAAGiI,gBAAiBC,EAAqBlI,EAAGkI,mBAEjFsB,GAAK,IAAA1E,UAASoH,OAAOC,YAAc,MAAOC,EAAY5C,EAAG,GAAI6C,EAAe7C,EAAG,IACnF,IAAArE,WAAU,WACN,IAAImH,EAAe,WACfD,EAAaH,OAAOC,YAAc,KACtC,EAEA,OADAD,OAAOlB,iBAAiB,SAAUsB,GAC3B,WAAc,OAAOJ,OAAOjB,oBAAoB,SAAUqB,EAAe,CACpF,EAAG,IACH,IAAIC,EAAaH,GAAa9C,EAK1BkD,EAAsB,WAClBP,GACAA,GAER,EACA,OAAQ,SAAK,WAAW,CAAEpH,UAAU,UAAM,MAAO,CAAEsD,UAAW,cAAc9H,OAAOkM,EAAa,gBAAkB,qBAAsB1H,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,kDAAmDtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,+BAAgCtD,SAAU,cAAkD,SAAK,SAAU,CAAEwG,QAASY,EAAS9D,UAAW,kEAAmEtD,UAAU,SAAK4H,EAAA,EAAW,CAAEtE,UAAW,kBAAqB,SAAK,MAAO,CAAEA,UAAW,iHAAkHtD,UAAU,SAAK,KAAM,CAAEsD,UAAW,+BAAgCtD,SAAU,eAAiH,QAA3DE,aAAwC,EAAIA,EAAKlB,QAAmB,SAAK,MAAO,CAAEsE,UAAW,iBAAkBtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,gCAAiCtD,SAAU,EAAC,SAAK,QAAS,CAAEsD,UAAW,+CAAgDtD,SAAU,WAAgC,SAAK,EAAiB,CAAE7D,MAAOiH,EAAiBmB,SATnmC,SAAU1J,GAChCwI,EAAmBxI,GACnB8D,QAAQC,IAAI,+BAAgC/D,EAChD,EAM4pC2J,YAAa,4BAAgC,SAAK,MAAO,CAAElB,UAAW,YAAatD,UAAU,UAAM,KAAM,CAAE2B,GAAI,SAAU6E,QAASmB,EAAqBrE,UAAW,uGAAuG9H,OAA6B,MAAtBmI,EAASG,SAC35C,0DACA,uDAAwD9D,SAAU,EAAC,SAAK6H,EAAA,EAAU,CAAEvE,UAAW,iBAAmB,YAA6B,SAAK,MAAO,CAAEA,UAAW,OAAQtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,iBAAkBtD,SAAU4G,EAAaF,IAAI,SAAUoB,GAC5Q,IAAIC,EAAOD,EAAKhB,KACZkB,EAAWrE,EAASG,WAAagE,EAAKjB,KAG1C,MAD4E,QAA3D3G,aAAwC,EAAIA,EAAKlB,OAAgC,QAAd8I,EAAKzD,MAAgF,WAA3DnE,aAAwC,EAAIA,EAAKlB,OAAmC,WAAd8I,EAAKzD,KAE9K,MAEH,SAAK,MAAO,CAAErE,UAAU,UAAM,KAAM,CAAE2B,GAAImG,EAAKjB,KAAML,QAASmB,EAAqBrE,UAAW,uGAAuG9H,OAAOwM,EACtM,0DACA,uDAAwDhI,SAAU,EAAC,SAAK+H,EAAM,CAAEzE,UAAW,iBAAmBwE,EAAKzD,SAAYyD,EAAKzD,KACtJ,WACxB,E,oBClDW4D,EAAY,CACnB,IAAK,CACDC,MAAO,IACPpB,KAAMe,EAAA,EACNM,MAAO,gBACPC,YAAa,sBACbC,QAAS,CAAC,SAAU,QAAS,YAEjC,aAAc,CACVH,MAAO,OACPpB,KAAME,EAAA,EACNmB,MAAO,gBACPC,YAAa,gBACbC,QAAS,CAAC,SAAU,QAAS,WAEjC,UAAW,CACPH,MAAO,SACPpB,KAAMG,EAAA,EACNkB,MAAO,kBACPC,YAAa,eACbC,QAAS,CAAC,SAAU,UAAW,WAEnC,YAAa,CACTH,MAAO,KACPpB,KAAMI,EAAA,EACNiB,MAAO,gBACPC,YAAa,oBACbC,QAAS,CAAC,SAAU,SAAU,UAElC,gBAAiB,CACbH,MAAO,YACPpB,KAAMC,EAAA,EACNoB,MAAO,mBACPC,YAAa,iBACbC,QAAS,CAAC,SAAU,QAAS,WC7B1BC,EAAS,SAAU9N,GAC1B,IAAI+N,EAAc/N,EAAG+N,YACjBrI,EAAOP,IAAUO,KACjByD,GAAW,UACXhJ,GAAK,IAAAsF,WAAS,GAAQuI,EAAY7N,EAAG,GAAI8N,EAAe9N,EAAG,GAC3DQ,GAAK,IAAA8E,UAASyI,UAAUC,QAASC,EAAWzN,EAAG,GAAI0N,EAAc1N,EAAG,IAExE,IAAAmF,WAAU,WACN,IAAIwI,EAAe,WAAc,OAAOD,GAAY,EAAO,EACvDE,EAAgB,WAAc,OAAOF,GAAY,EAAQ,EAG7D,OAFAxB,OAAOlB,iBAAiB,SAAU2C,GAClCzB,OAAOlB,iBAAiB,UAAW4C,GAC5B,WACH1B,OAAOjB,oBAAoB,SAAU0C,GACrCzB,OAAOjB,oBAAoB,UAAW2C,EAC1C,CACJ,EAAG,IAEH,IAA4BjF,EAGxBkF,GAHwBlF,EAGDH,EAASG,SAFzBmE,EAAUnE,IAAamE,EAAU,MAGxCF,EAAOiB,EAASlC,KAsBpB,OAhBA,YAAgB,WACZ,IAAIhB,EAAqB,SAAUC,GAC/B,IAAIE,EAASF,EAAME,OACfgD,EAAgBhD,EAAOiD,QAAQ,UAC/BC,EAAelD,EAAOiD,QAAQ,kBAC9BD,IAAkBE,GAClBV,GAAa,EAErB,EACA,GAAID,EAEA,OADAtC,SAASC,iBAAiB,YAAaL,GAChC,WACHI,SAASE,oBAAoB,YAAaN,EAC9C,CAER,EAAG,CAAC0C,KACI,UAAM,WAAW,CAAExI,SAAU,EAAC,SAAK,SAAU,CAAEsD,UAAW,gBAAiBtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,2CAA4CtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,oBAAqBtD,SAAU,EAAC,SAAK,SAAU,CAAEwG,QAAS+B,EAAajF,UAAW,kCAAmC4E,MAAO,KAAgBlI,UAAU,SAAKoJ,EAAA,EAAW,CAAC,MAAO,UAAM,MAAO,CAAE9F,UAAW,yBAA0BtD,SAAU,EAAC,SAAK+H,EAAM,CAAEzE,UAAW,gBAAgB9H,OAAOwN,EAASb,UAAW,SAAK,KAAM,CAAE7E,UAAW,mCAAoCtD,SAAUgJ,EAASd,eAAkB,SAAK,MAAO,CAAE5E,UAAW,8BAA+BtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,8BAA+BtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,aAActD,SAAU,EAAC,SAAK,IAAK,CAAEsD,UAAW,iCAAkCtD,UAAWE,aAAwC,EAAIA,EAAKhB,cAAgB,SAAU,SAAK,IAAK,CAAEoE,UAAW,wBAAyBtD,UAAWE,aAAwC,EAAIA,EAAKlG,QAAU,6BAA+B,SAAK,MAAO,CAAEsJ,UAAW,sEAAuEtD,UAAU,SAAKqJ,EAAA,EAAU,CAAE/F,UAAW,oCAA0C,SAAK,SAAU,CAAEA,UAAW,8EAA+EtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,8CAA+CtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,oBAAqBtD,SAAU,EAAC,SAAK+H,EAAM,CAAEzE,UAAW,kBAAkB9H,OAAOwN,EAASb,UAAW,SAAK,KAAM,CAAE7E,UAAW,oCAAqCtD,SAAUgJ,EAASd,YAAc,SAAK,MAAO,CAAE5E,UAAW,8BAA+BtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,8BAA+BtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,aAActD,SAAU,EAAC,SAAK,IAAK,CAAEsD,UAAW,mCAAoCtD,UAAWE,aAAwC,EAAIA,EAAKhB,cAAgB,SAAU,SAAK,IAAK,CAAEoE,UAAW,wBAAyBtD,UAAWE,aAAwC,EAAIA,EAAKlG,QAAU,6BAA+B,SAAK,MAAO,CAAEsJ,UAAW,sEAAuEtD,UAAU,SAAKqJ,EAAA,EAAU,CAAE/F,UAAW,+BAAmC,SAAK,MAAO,CAAEA,UAAW,iJAAiJ9H,OAAOgN,EAAY,gDAAkD,+CAAgDxI,UAAU,UAAM,MAAO,CAAEsD,UAAW,MAAOtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,YAAatD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,oCAAqCtD,SAAU,YAAiC,SAAK,KAAM,CAAEsD,UAAW,YAAatD,SAAUgJ,EAASX,QAAQ3B,IAAI,SAAU4C,EAAQC,GAAS,OAAQ,UAAM,KAAM,CAAEjG,UAAW,0CAA2CtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,6BAA8BkG,KAAM,OAAQC,OAAQ,eAAgBC,QAAS,YAAa1J,UAAU,SAAK,OAAQ,CAAE2J,cAAe,QAASC,eAAgB,QAASC,YAAa,EAAGC,EAAG,oDAAuDR,IAAWC,EAAS,SAAW,UAAM,MAAO,CAAEjG,UAAW,mCAAoCtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,+DAAgEtD,SAAU,EAAC,SAAK,OAAQ,CAAEA,SAAU,YAAiC,SAAK,OAAQ,CAAEsD,UAAWsF,EAAW,iBAAmB,eAAgB5I,SAAU4I,EAAW,MAAQ,aAAe,UAAM,MAAO,CAAEtF,UAAW,0DAA2DtD,SAAU,EAAC,UAAM,OAAQ,CAAEA,SAAU,CAAC,cAAiD,IAAIe,MAAOgJ,eAAe,aAAc,SAAK,SAAU,CAAEvD,QAAS,WAAc,OAAOiC,GAAa,EAAQ,EAAGnF,UAAW,sDAAuDtD,SAAU,yBACt6H,E,8BCVA,QAtCwB,SAAUxF,GAC9B,IAAIgI,EAAehI,EAAGgI,aAAc4E,EAAU5M,EAAG4M,QAmCjD,OAlCA,IAAA9G,WAAU,WACN,IAAI0J,EAAQC,WAAW,WACnB7C,GACJ,EAAG5E,EAAa0H,UAAY,KAC5B,OAAO,WAAc,OAAOC,aAAaH,EAAQ,CACrD,EAAG,CAACxH,EAAaC,GAAID,EAAa0H,SAAU9C,KA6BpC,SAAK,MAAO,CAAE9D,UAAW,yDAA0DtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,mCAAmC9H,OAdjJ,WACZ,OAAQgH,EAAa8D,MACjB,IAAK,UACD,MAAO,oDACX,IAAK,UACD,MAAO,8CACX,IAAK,QACD,MAAO,wCAGX,QACI,MAAO,2CAEnB,CACwK8D,GAAa,qBAAsBpK,UAAU,UAAM,MAAO,CAAEsD,UAAW,6BAA8BtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,uBAAwBtD,SA5B3T,WACV,OAAQwC,EAAa8D,MACjB,IAAK,UACD,OAAO,SAAK+D,EAAA,EAAiB,CAAE/G,UAAW,6BAC9C,IAAK,UACD,OAAO,SAAKgH,EAAA,EAAyB,CAAEhH,UAAW,2BACtD,IAAK,QACD,OAAO,SAAKgH,EAAA,EAAyB,CAAEhH,UAAW,yBAGtD,QACI,OAAO,SAAKiH,EAAA,EAAuB,CAAEjH,UAAW,0BAE5D,CAemVkH,MAAc,UAAM,MAAO,CAAElH,UAAW,iBAAkBtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,6BAA8BtD,SAAUwC,EAAa0F,SAAU,SAAK,IAAK,CAAE5E,UAAW,qBAAsBtD,SAAUwC,EAAaiI,cAAgB,SAAK,SAAU,CAAEjE,QAASY,EAAS9D,UAAW,kEAAmEtD,UAAU,SAAK4H,EAAA,EAAW,CAAEtE,UAAW,iDAC/tB,EChCA,GAJ4B,WACxB,IAAI9I,EVkBqB,WACzB,IAAIoF,GAAU,IAAAC,YAAWqC,GACzB,IAAKtC,EACD,MAAM,IAAIE,MAAM,8DAEpB,OAAOF,CACX,CUxBa8K,GAAmBtI,EAAgB5H,EAAG4H,cAAeU,EAAqBtI,EAAGsI,mBACtF,OAAQ,SAAK,MAAO,CAAEQ,UAAW,qCAAsCtD,SAAUoC,EAAcsE,IAAI,SAAUlE,GAAgB,OAAQ,SAAK,EAAmB,CAAEA,aAAcA,EAAc4E,QAAS,WAAc,OAAOtE,EAAmBN,EAAaC,GAAK,GAAKD,EAAaC,GAAM,IAC1R,ECDO,IAAIkI,GAAS,SAAUnQ,GAC1B,IAAIwF,EAAWxF,EAAGwF,SACdrF,GAAK,IAAAsF,WAAS,GAAQ2K,EAAcjQ,EAAG,GAAIkQ,EAAiBlQ,EAAG,GACnE,OAAQ,UAAM,MAAO,CAAE2I,UAAW,0EAA2EtD,SAAU,CAAC4K,IAAgB,SAAK,MAAO,CAAEtH,UAAW,qBAAsBkD,QAAS,WAAc,OAAOqE,GAAe,EAAQ,KAAO,SAAK1D,EAAS,CAAE1C,OAAQmG,EAAaxD,QAAS,WAAc,OAAOyD,GAAe,EAAQ,KAAM,UAAM,MAAO,CAAEvH,UAAW,uCAAwCtD,SAAU,EAAC,SAAKsI,EAAQ,CAAEC,YAAa,WAAc,OAAOsC,GAAgBD,EAAc,KAAM,SAAK,OAAQ,CAAEtH,UAAW,6EAA8EtD,SAAUA,IAAY,SAAK,KAAQ,CAAC,MAAO,SAAK,GAAuB,CAAC,QACzqB,E,gECVW8K,GAAkB,CACzBC,OAAQ,CACJC,QAAS,0BACTC,eAAgB,oCAChBC,aAAc,2BACdC,aAAc,kBACdC,aAAc,qBACdC,gBAAiB,oCAErBC,QAAS,CACLN,QAAS,iDACTC,eAAgB,8DAChBC,aAAc,uCACdC,aAAc,kBACdC,aAAc,wBACdC,gBAAiB,+CCAdE,GAA0B,SAAUvR,EAAOwR,GAClD,ODgB0B,SAAUxR,EAAOwR,GAC3C,IAAIC,EAfoB,SAAUzR,EAAOwR,GACzC,IAAIhR,EAEJ,GAAIgR,EACA,MAAwB,SAAhBA,GAA0C,OAAhBA,EAAwB,SAAW,UAGzE,IAAIzQ,EAAwC,QAA9BP,EAAKR,EAAMgB,MAAM,KAAK,UAA4B,IAAZR,OAAqB,EAAIA,EAAGX,cAEhF,MADoB,CAAC,QAAS,KAAM,QAAS,SAC3B+L,KAAK,SAAU8F,GAAW,OAAO3Q,aAA4C,EAAIA,EAAO4Q,SAASD,EAAU,GAClH,SAEJ,SACX,CAEmBE,CAAe5R,EAAOwR,GACrC,OAAOV,GAAgBW,EAC3B,CCnBWI,CAAiB7R,EAAOwR,EACnC,ECjBI,GAAwC,SAAU7P,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,UAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,EAAE,SAAUG,GAAWA,EAAQG,EAAQ,IAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,OAClE,EACJ,EACI,GAA4C,SAAUV,EAASkB,GAC/D,IAAsGC,EAAGC,EAAGC,EAAxGC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPH,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGI,KAAM,GAAIC,IAAK,IAAeC,EAAI7C,OAAO8C,QAA4B,mBAAbC,SAA0BA,SAAW/C,QAAQgD,WACtL,OAAOH,EAAEjB,KAAOqB,EAAK,GAAIJ,EAAS,MAAII,EAAK,GAAIJ,EAAU,OAAII,EAAK,GAAsB,mBAAXC,SAA0BL,EAAEK,OAAOC,UAAY,WAAa,OAAOC,IAAM,GAAIP,EAC1J,SAASI,EAAKI,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIlB,EAAG,MAAM,IAAImB,UAAU,mCAC3B,KAAOX,IAAMA,EAAI,EAAGU,EAAG,KAAOf,EAAI,IAAKA,OACnC,GAAIH,EAAI,EAAGC,IAAMC,EAAY,EAARgB,EAAG,GAASjB,EAAU,OAAIiB,EAAG,GAAKjB,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEkB,KAAKnB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEkB,KAAKnB,EAAGiB,EAAG,KAAKvB,KAAM,OAAOO,EAE3J,OADID,EAAI,EAAGC,IAAGgB,EAAK,CAAS,EAARA,EAAG,GAAQhB,EAAEb,QACzB6B,EAAG,IACP,KAAK,EAAG,KAAK,EAAGhB,EAAIgB,EAAI,MACxB,KAAK,EAAc,OAAXf,EAAEC,QAAgB,CAAEf,MAAO6B,EAAG,GAAIvB,MAAM,GAChD,KAAK,EAAGQ,EAAEC,QAASH,EAAIiB,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKf,EAAEI,IAAIc,MAAOlB,EAAEG,KAAKe,MAAO,SACxC,QACI,MAAkBnB,GAAZA,EAAIC,EAAEG,MAAYlD,OAAS,GAAK8C,EAAEA,EAAE9C,OAAS,KAAkB,IAAV8D,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEf,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVe,EAAG,MAAchB,GAAMgB,EAAG,GAAKhB,EAAE,IAAMgB,EAAG,GAAKhB,EAAE,IAAM,CAAEC,EAAEC,MAAQc,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYf,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIA,EAAIgB,EAAI,KAAO,CACpE,GAAIhB,GAAKC,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIC,EAAEI,IAAIe,KAAKJ,GAAK,KAAO,CAC9DhB,EAAE,IAAIC,EAAEI,IAAIc,MAChBlB,EAAEG,KAAKe,MAAO,SAEtBH,EAAKnB,EAAKqB,KAAKvC,EAASsB,EAC5B,CAAE,MAAOX,GAAK0B,EAAK,CAAC,EAAG1B,GAAIS,EAAI,CAAG,CAAE,QAAUD,EAAIE,EAAI,CAAG,CACzD,GAAY,EAARgB,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE7B,MAAO6B,EAAG,GAAKA,EAAG,QAAU,EAAGvB,MAAM,EAC9E,CAtBgDL,CAAK,CAAC0B,EAAGC,GAAK,CAAG,CAuBrE,EAiQW+N,GAAmB,SAAU9R,EAAO+R,EAAUhN,EAAWiN,EAAarI,EACjFtE,EACA1F,GACI,OAAO,QAAe,OAAQ,EAAGoC,QAAS,WAC1C,SAASkQ,IACL,OAAO,GAAUpO,UAAW,EAAG9B,QAAS,WACpC,IAAImQ,EAAgBvL,EAAqBwL,EAAkBC,EAAiBC,EAAYC,EAAUC,EAAa/P,EAAQ0D,EAAMrF,EAAa2R,EAC1I,OAAO,GAAY3O,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACD,KAAMuP,EAAaC,GAAa,MAAO,CAAC,EAAa,GACrDlS,EAAG0C,MAAQ,EACf,KAAK,EAQD,OAPA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACtB8N,EjB3Ia,SAAUlS,EAAOL,GAElD,GAAIA,EAAS,CACT,IAAIkB,EAAcZ,EAAqBN,GACvC,OAAO4B,EAAsBV,EACjC,CAEA,IAAI8R,EAAe7R,EAA0Bd,GAC7C,OAAOuB,EAAsBoR,EACjC,CiBkIyCC,CAAwB5S,EAAOL,GAChDgF,QAAQC,IAAI,qBAAqBpD,OAAO0Q,EAAgB,gBAAgB1Q,OAAOxB,EAAO,eAAewB,OAAO7B,IAC5GgH,EAAsB7F,EAA0Bd,GAChDmS,EAAmB,SAAS3Q,OAAOmF,GACnChC,QAAQC,IAAI,mDAAmDpD,OAAO2Q,EAAkB,gBAAgB3Q,OAAOxB,IAC/GoS,GAAS,QAAI5S,EAAI2S,EAAkBnS,GAC5B,CAAC,GAAa,QAAOoS,IAChC,KAAK,EAED,OADU5R,EAAG2C,OACD0B,UACRF,QAAQC,IAAI,sCAAsCpD,OAAO2Q,IAClD,CAAC,EAAc,CACdU,SAAS,EACTtN,MAAO,uBAInB+M,EAAW,eADXD,EAAa1I,GAAY,MAIrB0I,EAAa1S,GAAW,OACxB2S,EAAW,WAEfC,EAAcF,EAAWvS,QAAQ,WAAY,IAAIF,OACjD+E,QAAQC,IAAI,eAAgB,CACxBkO,SAAUT,EACVU,QAASR,IAEN,CAAC,GAAa,QAA+BhT,EAAMS,EAAO+R,KACrE,KAAK,EAID,OAHAvP,EAAShC,EAAG2C,OACZ+C,EAAO1D,EAAO0D,KACdrF,EAAcZ,EAAqBN,GAAW,QACvC,CAAC,GAAa,SAAO,QAAIH,EAAI0S,EAAgBlS,GAAQ,CACpDiF,IAAKiB,EAAKjB,IACVjF,MAAOA,EACPqF,WAAYA,EACZN,UAAWA,EACXiN,YAAaA,EACbhN,KAAM,QACNgO,UAAW,IAAIjM,KACfkM,UAAW,IAAIlM,KACfmM,UAAU,EACVZ,SAAUA,EACVnN,OAAQoN,EACR5S,QAASA,GAAW,OACpBkB,YAAaA,EACbqR,eAAgBA,KAE5B,KAAK,EAID,OAHA1R,EAAG2C,OACHwB,QAAQC,IAAI,4CAA4CpD,OAAO0Q,IAExD,CAAC,EAAc,CACdW,SAAS,EACTtN,MAAO,uBAAuG/D,OAAOxB,EAAO,uCAExI,KAAK,EAID,OAHAwS,EAAUhS,EAAG2C,OACbsP,IACA9N,QAAQY,MAAM,WAAyC/D,OAAOiR,EAAY,QAAmBD,GACzFC,GAAcC,EAEP,CAAC,EAAc,CACdG,SAAS,EACTtN,MA4Cb,+BADDA,EA9CkCiN,GA+C1CnR,KACC,mBAEa,uBAAfkE,EAAMlE,KACJ,iCAEa,uBAAfkE,EAAMlE,KACJ,qBAEa,sBAAfkE,EAAMlE,KACJ,yBAEa,uBAAfkE,EAAMlE,KACJ,oCAGA,uCAxDgB,CAAC,EAAa,IAAIU,QAAQ,SAAUC,GAAW,OAAOiO,WAAWjO,EAAS,IAAO,IAC5F,KAAK,EAGD,OADAxB,EAAG2C,OACI,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAa,GAC7B,KAAK,EAEL,MAAO,CAAC,EAAc,CACd0P,SAAS,EACTtN,MAAO,wCA6BnC,IAAsBA,CA1BV,EACJ,EACJ,CACA,IAAIkN,EAAYC,EAAYS,EAC5B,OAAO,GAAYtP,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACDuP,EAAa,EACbC,EAAa,EACblS,EAAG0C,MAAQ,EACf,KAAK,EAED,OADA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACf,CAAC,EAAa6N,KACzB,KAAK,EAAG,MAAO,CAAC,EAAczR,EAAG2C,QACjC,KAAK,EAGD,OAFAgQ,EAAU3S,EAAG2C,OACbwB,QAAQY,MAAM,iBAAkB4N,GACzB,CAAC,EAAc,CACdN,SAAS,EACTtN,MAAO,sCAEnB,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,EAAI,EC5ZA,GAAsC,WAStC,OARA,GAAW9E,OAAO2G,QAAU,SAASpE,GACjC,IAAK,IAAIqE,EAAGC,EAAI,EAAGxD,EAAIyD,UAAUrH,OAAQoH,EAAIxD,EAAGwD,IAE5C,IAAK,IAAIE,KADTH,EAAIE,UAAUD,GACO7G,OAAOgD,UAAUgE,eAAevD,KAAKmD,EAAGG,KACzDxE,EAAEwE,GAAKH,EAAEG,IAEjB,OAAOxE,CACX,EACO,GAASL,MAAMkB,KAAM0D,UAChC,EACI,GAAwC,SAAU5F,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,UAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,EAAE,SAAUG,GAAWA,EAAQG,EAAQ,IAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,OAClE,EACJ,EACI,GAA4C,SAAUV,EAASkB,GAC/D,IAAsGC,EAAGC,EAAGC,EAAxGC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPH,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGI,KAAM,GAAIC,IAAK,IAAeC,EAAI7C,OAAO8C,QAA4B,mBAAbC,SAA0BA,SAAW/C,QAAQgD,WACtL,OAAOH,EAAEjB,KAAOqB,EAAK,GAAIJ,EAAS,MAAII,EAAK,GAAIJ,EAAU,OAAII,EAAK,GAAsB,mBAAXC,SAA0BL,EAAEK,OAAOC,UAAY,WAAa,OAAOC,IAAM,GAAIP,EAC1J,SAASI,EAAKI,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIlB,EAAG,MAAM,IAAImB,UAAU,mCAC3B,KAAOX,IAAMA,EAAI,EAAGU,EAAG,KAAOf,EAAI,IAAKA,OACnC,GAAIH,EAAI,EAAGC,IAAMC,EAAY,EAARgB,EAAG,GAASjB,EAAU,OAAIiB,EAAG,GAAKjB,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEkB,KAAKnB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEkB,KAAKnB,EAAGiB,EAAG,KAAKvB,KAAM,OAAOO,EAE3J,OADID,EAAI,EAAGC,IAAGgB,EAAK,CAAS,EAARA,EAAG,GAAQhB,EAAEb,QACzB6B,EAAG,IACP,KAAK,EAAG,KAAK,EAAGhB,EAAIgB,EAAI,MACxB,KAAK,EAAc,OAAXf,EAAEC,QAAgB,CAAEf,MAAO6B,EAAG,GAAIvB,MAAM,GAChD,KAAK,EAAGQ,EAAEC,QAASH,EAAIiB,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKf,EAAEI,IAAIc,MAAOlB,EAAEG,KAAKe,MAAO,SACxC,QACI,MAAkBnB,GAAZA,EAAIC,EAAEG,MAAYlD,OAAS,GAAK8C,EAAEA,EAAE9C,OAAS,KAAkB,IAAV8D,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEf,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVe,EAAG,MAAchB,GAAMgB,EAAG,GAAKhB,EAAE,IAAMgB,EAAG,GAAKhB,EAAE,IAAM,CAAEC,EAAEC,MAAQc,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYf,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIA,EAAIgB,EAAI,KAAO,CACpE,GAAIhB,GAAKC,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIC,EAAEI,IAAIe,KAAKJ,GAAK,KAAO,CAC9DhB,EAAE,IAAIC,EAAEI,IAAIc,MAChBlB,EAAEG,KAAKe,MAAO,SAEtBH,EAAKnB,EAAKqB,KAAKvC,EAASsB,EAC5B,CAAE,MAAOX,GAAK0B,EAAK,CAAC,EAAG1B,GAAIS,EAAI,CAAG,CAAE,QAAUD,EAAIE,EAAI,CAAG,CACzD,GAAY,EAARgB,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE7B,MAAO6B,EAAG,GAAKA,EAAG,QAAU,EAAGvB,MAAM,EAC9E,CAtBgDL,CAAK,CAAC0B,EAAGC,GAAK,CAAG,CAuBrE,EA8RA,SAxRmB,WACf,IAAIqP,GAAW,UACX5S,GAAK,IAAAyF,WAAS,GAAQoN,EAAY7S,EAAG,GAAI8S,EAAe9S,EAAG,GAC3DG,GAAK,IAAAsF,UAAS,IAAKV,EAAQ5E,EAAG,GAAI4S,EAAW5S,EAAG,GAChDQ,GAAK,IAAA8E,UAAS,IAAK4M,EAAU1R,EAAG,GAAIqS,EAAarS,EAAG,GACpDwJ,GAAK,IAAA1E,WAAS,GAAQwN,EAAe9I,EAAG,GAAI+I,EAAkB/I,EAAG,GACjEG,GAAK,IAAA7E,WAAS,GAAQ0N,EAAsB7I,EAAG,GAAI8I,EAAyB9I,EAAG,GAC/EG,GAAK,IAAAhF,WAAS,GAAQ4N,EAAW5I,EAAG,GAAI6I,EAAc7I,EAAG,GACzD8I,GAAK,IAAA9N,WAAS,GAAQ+N,EAAaD,EAAG,GAAIE,EAAgBF,EAAG,GAC7DG,GAAK,IAAAjO,WAAS,GAAQkO,EAAkBD,EAAG,GAAIE,EAAqBF,EAAG,GACvEG,GAAK,IAAApO,UAAS,IAAKqO,EAAgBD,EAAG,GAAIE,EAAmBF,EAAG,GAChEG,GAAK,IAAAvO,WAAS,GAAQwO,EAAoBD,EAAG,GAAIE,EAAuBF,EAAG,GAC3EG,GAAK,IAAA1O,UAAS,IAAK2O,EAAaD,EAAG,GAAIE,EAAgBF,EAAG,GAuE1DG,GAAK,IAAA7O,UAAS,CACdjG,MAAO,GACP+R,SAAU,GACVgD,gBAAiB,GACjBhQ,UAAW,GACXiN,YAAa,GACbrI,SAAU,GACVhK,QAAS,GACTqV,SAAU,GACV5P,KAAM,KACN6P,EAAWH,EAAG,GAAII,EAAcJ,EAAG,GAEvC,YAAgB,WACZ,IAAIK,EAAaC,aAAaC,QAAQ,mBAClCF,IACAD,EAAY,SAAUrM,GAAQ,OAAQ,GAAS,GAAS,CAAC,EAAGA,GAAO,CAAE7I,MAAOmV,GAAgB,GAC5FlB,GAAc,GAEtB,EAAG,IACH,IAAIqB,EAAoB,SAAUhT,GAC9B,IAAI9B,EAAK8B,EAAE2J,OAAQ5B,EAAO7J,EAAG6J,KAAMlI,EAAQ3B,EAAG2B,MAC9C+S,EAAY,SAAUrM,GAClB,IAAIrI,EACJ,OAAQ,GAAS,GAAS,CAAC,EAAGqI,KAAQrI,EAAK,CAAC,GAAM6J,GAAQlI,EAAO3B,GACrE,EACJ,EAEI+U,EAAe,SAAUvV,GAEzB,MADiB,6BACCG,KAAKH,EAC3B,EACIwV,EAAaP,EAASjV,QAAUuV,EAAaN,EAASjV,OAAS,oBAAsB,GA4IzF,OAAQ,UAAM,MAAO,CAAEsJ,UAAW,iHAAkHtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,kBAAmBtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,mBAAoBtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,8HAA+HtD,UAAU,SAAK+G,EAAA,EAAoB,CAAEzD,UAAW,4BAA8B,SAAK,KAAM,CAAEA,UAAW,qCAAsCtD,SAAU,eAAyC,SAAK,IAAK,CAAEsD,UAAW,gBAAiBtD,SAAU,uBAA2E,UAAM,MAAO,CAAEsD,UAAW,oFAAqFtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,iDAAkDtD,SAAU6N,EAAW,YAAc,SAAU,UAAM,OAAQ,CAAE4B,SA1I/8B,SAAUnT,GAAK,OAAO,QAAe,OAAQ,OAAQ,EAAG,WAC1E,IAAYE,EAAQkT,EACpB,OAAO,GAAY7R,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EAKD,GAJAZ,EAAEqT,iBACFpC,EAAS,IACTC,EAAW,KAEN+B,EAAaN,EAASjV,OAEvB,OADAuT,EAAS,qBACF,CAAC,GAGZ,GAAI0B,EAASlD,SAAS7R,OAAS,EAE3B,OADAqT,EAAS,yBACF,CAAC,GAGZ,GAAIM,GAAYoB,EAASlD,WAAakD,EAASF,gBAE3C,OADAxB,EAAS,mBACF,CAAC,GAGZ,GAAIM,EAAU,CACV,IAAKoB,EAASlQ,UAAUnF,OAEpB,OADA2T,EAAS,gBACF,CAAC,GAEZ,IAAK0B,EAASjD,YAAYpS,OAEtB,OADA2T,EAAS,eACF,CAAC,EAEhB,CACAD,GAAa,GACb9S,EAAG0C,MAAQ,EACf,KAAK,EAED,OADA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,EAAG,IAClByP,EACE,CAAC,EAAa/B,GAAiBmD,EAASjV,MAAOiV,EAASlD,SAAUkD,EAASlQ,UAAWkQ,EAASjD,YAAaiD,EAAStL,cAAUjE,EAClIuP,EAAStV,UAFS,CAAC,EAAa,GAGxC,KAAK,EAuBD,OAtBA6C,EAAShC,EAAG2C,QACD0P,SACPW,EAAWhR,EAAO+C,OAAS,sCAE3B0K,WAAW,WACP6D,GAAY,GACZoB,EAAY,CACRlV,MAAOiV,EAASjV,MAChB+R,SAAU,GACVgD,gBAAiB,GACjBhQ,UAAW,GACXiN,YAAa,GACbrI,SAAU,GACVhK,QAAS,GACTqV,SAAU,GACV5P,KAAM,IAEd,EAAG,MAGHmO,EAAS/Q,EAAO+C,OAAS,mBAEtB,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GD9LOvF,EC8LsBiV,EAASjV,MD9LxB+R,EC8L+BkD,EAASlD,SD9LrB,QAAe,OAAQ,EAAGhQ,QAAS,WAChG,IAAIS,EAAQ0D,EAAMrF,EAAasR,EAAkBC,EAAQwD,EAASpR,EAASqR,EAAiBpR,EAAUC,EAASmC,EAC/G,OAAO,GAAYhD,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EAGD,OAFA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,GAAI,CAAE,KACvBO,QAAQC,IAAI,0BAA2B,CAAE5E,MAAOA,IACzC,CAAC,GAAa,QAA2BT,EAAMS,EAAO+R,IACjE,KAAK,EAKD,GAJAvP,EAAShC,EAAG2C,OACZ+C,EAAO1D,EAAO0D,KACdvB,QAAQC,IAAI,4BAA6B,CAAEK,IAAKiB,EAAKjB,IAAKjF,MAAOkG,EAAKlG,QAElEyB,EAAUzB,GAEV,OADA2E,QAAQC,IAAI,qBAAsB5E,GAC3B,CAAC,EAAc,CACd6S,SAAS,EACT3M,KAAMA,EACNlB,KAAM,OAIlBL,QAAQC,IAAI,iCAAkC5E,GAC9Ca,EAAcC,EAA0Bd,GACxCmS,EAAmB,SAAS3Q,OAAOX,GACnC8D,QAAQC,IAAI,sCAAsCpD,OAAO2Q,EAAkB,gBAAgB3Q,OAAOxB,IAClGQ,EAAG0C,MAAQ,EACf,KAAK,EAGD,OAFA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,GAAI,CAAE,KACvBgO,GAAS,QAAI5S,EAAI2S,EAAkBnS,GAC5B,CAAC,GAAa,QAAOoS,IAChC,KAAK,EAED,OADAwD,EAAUpV,EAAG2C,QACA0B,UACbL,EAAUoR,EACVC,EAAkB1D,EAClBxN,QAAQC,IAAI,uCAAuCpD,OAAOqU,IAC1DpR,EAAWD,EAAQM,OACnBH,QAAQC,IAAI,aAAc,CAAEsO,SAAUzO,aAAgD,EAAIA,EAASyO,SAAUlO,KAAMP,aAAgD,EAAIA,EAASO,QACzKP,aAAgD,EAAIA,EAASyO,UAAkB,CAAC,EAAa,IACpGvO,QAAQC,IAAI,kCACL,CAAC,GAAa,QAAQrF,MARC,CAAC,EAAa,GAShD,KAAK,EAED,OADAiB,EAAG2C,OACI,CAAC,EAAc,CACd0P,SAAS,EACTtN,MAAO,mCAEnB,KAAK,EAEL,MAAO,CAAC,GAAa,SAAO,QAAI/F,EAAIqW,EAAiB7V,GAAQ,CACrDiT,UAAW,IAAIlM,MAChB,CAAE+O,OAAO,KAChB,KAAK,EAID,OAFAtV,EAAG2C,OACHwB,QAAQC,IAAI,mCACL,CAAC,EAAc,CACdiO,SAAS,EACT3M,KAAMA,EACNlB,KAAM,UAElB,KAAK,EAED,OADAL,QAAQC,IAAI,uDACL,CAAC,GAAa,QAAQrF,IACjC,KAAK,EAED,OADAiB,EAAG2C,OACI,CAAC,EAAc,CACd0P,SAAS,EACTtN,MAAO,qBAEnB,KAAK,EAAG,MAAO,CAAC,EAAa,IAC7B,KAAK,GAGD,OAFAb,EAAUlE,EAAG2C,OACbwB,QAAQC,IAAI,8BAA8BpD,OAAO2Q,EAAkB,KAAMzN,GAClE,CAAC,GAAa,QAAQnF,IACjC,KAAK,GAED,OADAiB,EAAG2C,OACI,CAAC,EAAc,CACd0P,SAAS,EACTtN,MAAO,sBAEnB,KAAK,GAAI,MAAO,CAAC,EAAa,IAC9B,KAAK,GAGD,OAFAsB,EAAUrG,EAAG2C,OACbwB,QAAQY,MAAM,UAAWsB,GACJ,wBAAjBA,EAAQxF,KACD,CAAC,EAAc,CACdwR,SAAS,EACTtN,MAAO,oBAGO,wBAAjBsB,EAAQxF,KACN,CAAC,EAAc,CACdwR,SAAS,EACTtN,MAAO,qBAGO,uBAAjBsB,EAAQxF,KACN,CAAC,EAAc,CACdwR,SAAS,EACTtN,MAAO,uBAGO,2BAAjBsB,EAAQxF,KACN,CAAC,EAAc,CACdwR,SAAS,EACTtN,MAAO,yCAIR,CAAC,EAAc,CACdsN,SAAS,EACTtN,MAAO,sBAIvB,KAAK,GAAI,MAAO,CAAC,GAEzB,EACJ,KCuEgB,KAAK,GACD/C,EAAShC,EAAG2C,QACD0P,SACPW,EAAW,WAEPQ,EACAoB,aAAaW,QAAQ,kBAAmBd,EAASjV,OAGjDoV,aAAaY,WAAW,mBAG5B/F,WAAW,WACPmD,EAAS,YACb,EAAG,MAGHG,EAAS/Q,EAAO+C,OAAS,oBAE7B/E,EAAG0C,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,EAAa,GAC7B,KAAK,EAID,OAHAwS,EAAQlV,EAAG2C,OACXwB,QAAQY,MAAM,SAAUmQ,GACxBnC,EAAS,8BACF,CAAC,EAAa,GACzB,KAAK,EAED,OADAD,GAAa,GACN,CAAC,GACZ,KAAK,EAAG,MAAO,CAAC,GD5NH,IAAUtT,EAAO+R,CC8NtC,EACJ,EAAI,EAwC4/BzI,UAAW,YAAatD,SAAU,EAAC,UAAM,MAAO,CAAEA,SAAU,EAAC,SAAK,QAAS,CAAEsD,UAAW,+CAAgDtD,SAAU,YAAsC,UAAM,MAAO,CAAEsD,UAAW,WAAYtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,uEAAwEtD,UAAU,SAAKiQ,GAAA,EAAc,CAAE3M,UAAW,6BAA+B,SAAK,QAAS,CAAEgD,KAAM,QAASjC,KAAM,QAASlI,MAAO8S,EAASjV,MAAOuK,SAAU+K,EAAmBY,UAAU,EAAMC,aAAc,WAAY7M,UAAW,0KAA0K9H,OAAO+T,EAAaN,EAASjV,QAAUiV,EAASjV,MAC1sD,qEACAiV,EAASjV,QAAUuV,EAAaN,EAASjV,OACrC,kEACA,sEAAuEwK,YAAa,qBAA+EgL,IAAe,SAAK,IAAK,CAAElM,UAAW,4BAA6BtD,SAAUwP,QAAoB,UAAM,MAAO,CAAExP,SAAU,EAAC,SAAK,QAAS,CAAEsD,UAAW,+CAAgDtD,SAAU,UAA+B,UAAM,MAAO,CAAEsD,UAAW,WAAYtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,uEAAwEtD,UAAU,SAAKqJ,EAAA,EAAU,CAAE/F,UAAW,6BAA+B,SAAK,QAAS,CAAEgD,KAAMmH,EAAe,OAAS,WAAYpJ,KAAM,WAAYlI,MAAO8S,EAASlD,SAAUxH,SAAU+K,EAAmBY,UAAU,EAAME,UAAW,EAAGD,aAActC,EAAW,eAAiB,mBAAoBvK,UAAW,6OAA8OkB,YAAa,iBAAoE,SAAK,SAAU,CAAE8B,KAAM,SAAUE,QAAS,WAAc,OAAOkH,GAAiBD,EAAe,EAAGnK,UAAW,oDAAqDtD,SAAUyN,GAAgB,SAAK4C,GAAA,EAAc,CAAE/M,UAAW,+CAAmD,SAAKgN,GAAA,EAAS,CAAEhN,UAAW,sDAA4DuK,IAAa,UAAM,WAAW,CAAE7N,SAAU,EAAC,UAAM,MAAO,CAAEA,SAAU,EAAC,SAAK,QAAS,CAAEsD,UAAW,+CAAgDtD,SAAU,aAA4C,UAAM,MAAO,CAAEsD,UAAW,WAAYtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,uEAAwEtD,UAAU,SAAKqJ,EAAA,EAAU,CAAE/F,UAAW,6BAA+B,SAAK,QAAS,CAAEgD,KAAMqH,EAAsB,OAAS,WAAYtJ,KAAM,kBAAmBlI,MAAO8S,EAASF,gBAAiBxK,SAAU+K,EAAmBY,UAAU,EAAME,UAAW,EAAGD,aAAc,eAAgB7M,UAAW,6OAA8OkB,YAAa,oBAAiF,SAAK,SAAU,CAAE8B,KAAM,SAAUE,QAAS,WAAc,OAAOoH,GAAwBD,EAAsB,EAAGrK,UAAW,oDAAqDtD,SAAU2N,GAAuB,SAAK0C,GAAA,EAAc,CAAE/M,UAAW,+CAAmD,SAAKgN,GAAA,EAAS,CAAEhN,UAAW,uDAA4D,UAAM,MAAO,CAAEtD,SAAU,EAAC,SAAK,QAAS,CAAEsD,UAAW,+CAAgDtD,SAAU,WAAgC,SAAK,QAAS,CAAEsG,KAAM,OAAQjC,KAAM,YAAalI,MAAO8S,EAASlQ,UAAWwF,SAAU+K,EAAmBY,UAAU,EAAM5M,UAAW,sOAAuOkB,YAAa,qBAAyE,UAAM,MAAO,CAAExE,SAAU,EAAC,SAAK,QAAS,CAAEsD,UAAW,+CAAgDtD,SAAU,UAA+B,SAAK,QAAS,CAAEsG,KAAM,MAAOjC,KAAM,cAAelI,MAAO8S,EAASjD,YAAazH,SAAU+K,EAAmBY,UAAU,EAAM5M,UAAW,sOAAuOkB,YAAa,oBAAwE,UAAM,MAAO,CAAExE,SAAU,EAAC,SAAK,QAAS,CAAEsD,UAAW,+CAAgDtD,SAAU,WAAgC,UAAM,MAAO,CAAEsD,UAAW,iBAAkBtD,SAAU,EAAC,SAAK,QAAS,CAAEsG,KAAM,OAAQjC,KAAM,WAAYlI,MAAO8S,EAAStL,SAAUY,SAAU+K,EAAmBhM,UAAW,sOAAuOkB,YAAa,QAA6B+L,UAAU,KAAS,SAAK,SAAU,CAAEjK,KAAM,SAAUE,QApP9nJ,WAAc,OAAO,QAAe,OAAQ,OAAQ,EAAG,WAC5E,OAAO,GAAY3I,KAAM,SAAUrD,GAG/B,OAFA4T,GAAmB,GACnBG,EAAiB,IACZ7F,UAAU8H,aAKf9H,UAAU8H,YAAYC,mBAAmB,SAAUC,GAAY,OAAO,QAAe,OAAQ,OAAQ,EAAG,WACpG,IAAIlW,EAAImW,EAAUC,EAAqB9R,EAAM+R,EAASC,EAAWC,EAAYC,EAAQC,EACrF,OAAO,GAAYpT,KAAM,SAAUlD,GAC/B,OAAQA,EAAGuC,OACP,KAAK,EACD1C,EAAKkW,EAASQ,OAAQP,EAAWnW,EAAGmW,SAAUC,EAAYpW,EAAGoW,UAC7DjW,EAAGuC,MAAQ,EACf,KAAK,EAED,OADAvC,EAAGyC,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACf,CAAC,EAAa+S,MAAM,+DAA+D3V,OAAOmV,EAAU,SAASnV,OAAOoV,EAAW,mDAC1I,KAAK,EAED,MAAO,CAAC,EADGjW,EAAGwC,OACgBiU,QAClC,KAAK,EAaD,OAZAtS,EAAOnE,EAAGwC,SACE2B,EAAK+R,SACbA,EAAU/R,EAAK+R,QACfC,EAAYD,EAAQlX,SAAW,GAC/BoX,EAAaF,EAAQ9M,OAAS8M,EAAQ7B,UAAY,GAClDgC,EAASH,EAAQzR,MAAQyR,EAAQQ,MAAQR,EAAQS,SAAW,GAE5DpC,EAAY,SAAUrM,GAAQ,OAAQ,GAAS,GAAS,CAAC,EAAGA,GAAO,CAAElJ,QAASmX,EAAW9B,SAAU+B,EAAY3R,KAAM4R,EAAQrN,SAAU,GAAGnI,OAAOsV,EAAW,KAAKtV,OAAOuV,EAAY,KAAKvV,OAAOwV,GAAQpX,QAAY,IAGpNsV,EAAY,SAAUrM,GAAQ,OAAQ,GAAS,GAAS,CAAC,EAAGA,GAAO,CAAEc,SAAU,iBAAqB,GAEjG,CAAC,EAAa,GACzB,KAAK,EAID,OAHAsN,EAAQtW,EAAGwC,OACXwB,QAAQY,MAAM,YAAa0R,GAC3B/B,EAAY,SAAUrM,GAAQ,OAAQ,GAAS,GAAS,CAAC,EAAGA,GAAO,CAAEc,SAAU,YAAgB,GACxF,CAAC,EAAa,GACzB,KAAK,EAED,OADAyK,GAAmB,GACZ,CAAC,GAEpB,EACJ,EAAI,EAAG,SAAU7O,GAEb,OADA6O,GAAmB,GACX7O,EAAMlE,MACV,KAAKkE,EAAMgS,kBACPhD,EAAiB,gBACjB,MACJ,KAAKhP,EAAMiS,qBACPjD,EAAiB,qBACjB,MACJ,KAAKhP,EAAMkS,QACPlD,EAAiB,wBACjB,MACJ,QACIA,EAAiB,uBAE7B,EAAG,CACCmD,oBAAoB,EACpBC,QAAS,IACTC,WAAY,IAET,CAAC,KA7DJrD,EAAiB,4BACjBH,GAAmB,GACZ,CAAC,GA4DhB,EACJ,EAAI,EAgLgrJyD,SAAU1D,EAAiB7K,UAAW,wHAAyHtD,SAAUmO,GAAmB,SAAK2D,GAAAC,EAAe,CAAEzO,UAAW,0BAA8B,SAAK0O,GAAA,EAAY,CAAE1O,UAAW,iBAAsBgL,IAAkB,SAAK,IAAK,CAAEhL,UAAW,4BAA6BtD,SAAUsO,WAA6BT,IAAa,UAAM,MAAO,CAAEvK,UAAW,oCAAqCtD,SAAU,EAAC,UAAM,QAAS,CAAEsD,UAAW,6CAA8CtD,SAAU,EAAC,SAAK,QAAS,CAAEsG,KAAM,WAAY2L,QAASjE,EAAYzJ,SAAU,SAAUjI,GAAK,OAAO2R,EAAc3R,EAAE2J,OAAOgM,QAAU,EAAG3O,UAAW,uIAAwI,SAAK,OAAQ,CAAEA,UAAW,wBAAyBtD,SAAU,aAAmC,SAAK,SAAU,CAAEsG,KAAM,SAAUE,QAAS,WAAc,OAAOkI,GAAqB,EAAO,EAAGpL,UAAW,2EAA4EtD,SAAU,uBAAsF,SAAK,SAAU,CAAEsG,KAAM,SAAUuL,SAAUxE,EAAW/J,UAAW,oTAAqTtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,6CAA8CtD,SAAU,EAAC,SAAK,OAAQ,CAAEA,SAAUqN,EAAaQ,EAAW,UAAY,WAAeA,EAAW,OAAS,SAAYR,IAAa,SAAK6E,GAAA,EAAkB,CAAE5O,UAAW,qBAAyB,SAAK,MAAO,CAAEA,UAAW,mBAAoBtD,UAAU,SAAK,SAAU,CAAEsG,KAAM,SAAUE,QAAS,WACrkNsH,GAAaD,GACbN,EAAS,IACTC,EAAW,IACX0B,EAAY,CACRlV,MAAO,GACP+R,SAAU,GACVgD,gBAAiB,GACjBhQ,UAAW,GACXiN,YAAa,GACbrI,SAAU,GACVhK,QAAS,GACTqV,SAAU,GACV5P,KAAM,IAEd,EAAGkE,UAAW,2EAA4EtD,SAAU6N,EAAW,oBAAsB,yBAA6BtO,IAAU,SAAK,MAAO,CAAE+D,UAAW,yGAA0GtD,UAAU,SAAK,IAAK,CAAEsD,UAAW,cAAetD,SAAUT,MAAcsN,IAAY,SAAK,MAAO,CAAEvJ,UAAW,qHAAsHtD,UAAU,SAAK,IAAK,CAAEsD,UAAW,cAAetD,SAAU6M,SAAoB4B,IAAsB,SAAK,MAAO,CAAEnL,UAAW,mFAAoFtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,mFAAoFtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,oCAAqCtD,SAAU,cAAkD,SAAK,IAAK,CAAEsD,UAAW,6BAA8BtD,SAAU,+CAAgN,UAAM,MAAO,CAAEsD,UAAW,YAAatD,SAAU,EAAC,UAAM,MAAO,CAAEA,SAAU,EAAC,SAAK,QAAS,CAAEsD,UAAW,+CAAgDtD,SAAU,YAAsC,SAAK,QAAS,CAAEsG,KAAM,QAASnK,MAAOyS,EAAYrK,SAAU,SAAUjI,GAAK,OAAOuS,EAAcvS,EAAE2J,OAAO9J,MAAQ,EAAGgU,aAAc,WAAY7M,UAAW,qNAAsNkB,YAAa,sBAA+E,UAAM,MAAO,CAAElB,UAAW,iBAAkBtD,SAAU,EAAC,SAAK,SAAU,CAAEwG,QAAS,WACr8DkI,GAAqB,GACrBG,EAAc,IACdtB,EAAS,IACTC,EAAW,GACf,EAAGlK,UAAW,wGAAyGtD,SAAU,QAAmB,SAAK,SAAU,CAAEwG,QA9DnL,WAAc,OAAO,QAAe,OAAQ,OAAQ,EAAG,WAC7E,IAAIhK,EAAQ2V,EACZ,OAAO,GAAYtU,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACD,IAAK0R,EAAWhV,SAAW2V,EAAaX,GAEpC,OADArB,EAAS,qBACF,CAAC,GAEZD,GAAa,GACbC,EAAS,IACT/S,EAAG0C,MAAQ,EACf,KAAK,EAED,OADA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,EAAG,IAChB,CAAC,GDzESpE,ECyEkB4U,EDzEF,QAAe,OAAQ,EAAG7S,QAAS,WACpF,IAAIyP,EAAa3Q,EAAauX,EAAqB7X,EAAI8X,EAAuBnG,EAAgB1N,EAASC,EAA6B6T,EAASC,EAC7I,OAAO,GAAY1U,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACD1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBO,QAAQC,IAAI,mCAAoC5E,GAChDwR,OAAmB,EACnB3Q,EAAcC,EAA0Bd,GACxCoY,EAAsB,CAClB,SAAS5W,OAAOX,GAChB,WAAY,WAAY,WAAY,WAAY,WAChD,WAAY,WAAY,WAAY,WAAY,YAEpDN,EAAK,EAAG8X,EAAwBD,EAChC5X,EAAG0C,MAAQ,EACf,KAAK,EACD,KAAM3C,EAAK8X,EAAsBnY,QAAS,MAAO,CAAC,EAAa,GAC/DgS,EAAiBmG,EAAsB9X,GACvCC,EAAG0C,MAAQ,EACf,KAAK,EAED,OADA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACf,CAAC,GAAa,SAAO,QAAI5E,EAAI0S,EAAgBlS,KACxD,KAAK,EAED,OADAwE,EAAUhE,EAAG2C,QACD0B,UACRJ,EAAWD,EAAQM,OACnB0M,EAAc/M,aAAgD,EAAIA,EAAS9E,QAC3EgF,QAAQC,IAAI,6BAA6BpD,OAAO0Q,EAAgB,eAAe1Q,OAAOgQ,IAC/E,CAAC,EAAa,IAElB,CAAC,EAAa,GACzB,KAAK,EAED,OADUhR,EAAG2C,OACN,CAAC,EAAa,GACzB,KAAK,EAED,OADA5C,IACO,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAgY,EAAWhH,GAAwBvR,EAAOwR,GAEnC,CAAC,GAAa,QAAuBjS,EAAMS,IACtD,KAAK,EAGD,OADAQ,EAAG2C,OACI,CAAC,EAAc,CACd0P,SAAS,EACTtN,MAAOgT,EAAStH,iBAE5B,KAAK,EAID,OAHAqH,EAAU9X,EAAG2C,OACbwB,QAAQY,MAAM,eAAgB+S,GAC9BC,EAAWhH,GAAwBvR,GACd,wBAAjBsY,EAAQjX,KACD,CAAC,EAAc,CACdwR,SAAS,EACTtN,MAAOgT,EAASpH,eAGF,uBAAjBmH,EAAQjX,KACN,CAAC,EAAc,CACdwR,SAAS,EACTtN,MAAOgT,EAASnH,eAGF,2BAAjBkH,EAAQjX,KACN,CAAC,EAAc,CACdwR,SAAS,EACTtN,MAAOgT,EAASlH,kBAIjB,CAAC,EAAc,CACdwB,SAAS,EACTtN,MAAOgT,EAASrH,eAIhC,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,KCPgB,KAAK,EAUD,OATA1O,EAAShC,EAAG2C,QACD0P,SACPW,EAAWhR,EAAO+C,OAAS,yBAC3BmP,GAAqB,GACrBG,EAAc,KAGdtB,EAAS/Q,EAAO+C,OAAS,yBAEtB,CAAC,EAAa,GACzB,KAAK,EAID,OAHA4S,EAAQ3X,EAAG2C,OACXwB,QAAQY,MAAM,eAAgB4S,GAC9B5E,EAAS,oCACF,CAAC,EAAa,GACzB,KAAK,EAED,OADAD,GAAa,GACN,CAAC,GACZ,KAAK,EAAG,MAAO,CAAC,GD7FL,IAAUtT,CC+F7B,EACJ,EAAI,EAyBuO6X,SAAUxE,EAAW/J,UAAW,wMAAyMtD,SAAUqN,EAAY,UAAY,uBAC1f,E,eCnUA,SAJqB,WACjB,IAAID,GAAW,UACf,OAAQ,UAAM,MAAO,CAAE9J,UAAW,+GAAgHtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,mCAAoCtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,gIAAiI,SAAK,MAAO,CAAEA,UAAW,gIAAiI,SAAK,MAAO,CAAEA,UAAW,4KAA8K,UAAM,MAAO,CAAEA,UAAW,8CAA+CtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,QAAStD,SAAU,EAAC,UAAM,KAAM,CAAEsD,UAAW,iEAAkEtD,SAAU,CAAC,SAAkC,SAAK,OAAQ,CAAEsD,UAAW,mFAAoFtD,SAAU,kBAAuD,SAAK,IAAK,CAAEsD,UAAW,+DAAgEtD,SAAU,qCAAqJ,UAAM,MAAO,CAAEsD,UAAW,kCAAmCtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,2HAA4HtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,gHAAiHtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,qBAAsBkG,KAAM,OAAQC,OAAQ,eAAgBC,QAAS,YAAa1J,UAAU,SAAK,OAAQ,CAAE2J,cAAe,QAASC,eAAgB,QAASC,YAAa,EAAGC,EAAG,8MAAiN,SAAK,KAAM,CAAExG,UAAW,wCAAyCtD,SAAU,YAAsC,SAAK,IAAK,CAAEsD,UAAW,wBAAyBtD,SAAU,wCAAuK,UAAM,MAAO,CAAEsD,UAAW,2HAA4HtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,kHAAmHtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,qBAAsBkG,KAAM,OAAQC,OAAQ,eAAgBC,QAAS,YAAa1J,UAAU,SAAK,OAAQ,CAAE2J,cAAe,QAASC,eAAgB,QAASC,YAAa,EAAGC,EAAG,gRAAmR,SAAK,KAAM,CAAExG,UAAW,wCAAyCtD,SAAU,WAAgC,SAAK,IAAK,CAAEsD,UAAW,wBAAyBtD,SAAU,uCAAiK,UAAM,MAAO,CAAEsD,UAAW,2HAA4HtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,iHAAkHtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,qBAAsBkG,KAAM,OAAQC,OAAQ,eAAgBC,QAAS,YAAa1J,UAAU,SAAK,OAAQ,CAAE2J,cAAe,QAASC,eAAgB,QAASC,YAAa,EAAGC,EAAG,qLAAwL,SAAK,KAAM,CAAExG,UAAW,wCAAyCtD,SAAU,WAAgC,SAAK,IAAK,CAAEsD,UAAW,wBAAyBtD,SAAU,uCAAwJ,UAAM,MAAO,CAAEsD,UAAW,8DAA+DtD,SAAU,EAAC,UAAM,SAAU,CAAEwG,QAAS,WAAc,OAAO4G,EAAS,SAAW,EAAG9J,UAAW,4OAA6OtD,SAAU,CAAC,WAAyC,SAAKwS,GAAAT,EAAgB,CAAEzO,UAAW,+DAAiE,SAAK,MAAO,CAAEA,UAAW,wBAAyBtD,SAAU,wBAAiF,UAAM,MAAO,CAAEsD,UAAW,8BAA+BtD,SAAU,EAAC,SAAK,IAAK,CAAEA,SAAU,kDAAoH,SAAK,IAAK,CAAEsD,UAAW,OAAQtD,SAAU,uCAAoD,SAAK,QAAS,CAAEA,SAAU,sxBACnlL,ECPA,IAAI,GAAwC,SAAUrE,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,UAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,EAAE,SAAUG,GAAWA,EAAQG,EAAQ,IAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,OAClE,EACJ,EACI,GAA4C,SAAUV,EAASkB,GAC/D,IAAsGC,EAAGC,EAAGC,EAAxGC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPH,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGI,KAAM,GAAIC,IAAK,IAAeC,EAAI7C,OAAO8C,QAA4B,mBAAbC,SAA0BA,SAAW/C,QAAQgD,WACtL,OAAOH,EAAEjB,KAAOqB,EAAK,GAAIJ,EAAS,MAAII,EAAK,GAAIJ,EAAU,OAAII,EAAK,GAAsB,mBAAXC,SAA0BL,EAAEK,OAAOC,UAAY,WAAa,OAAOC,IAAM,GAAIP,EAC1J,SAASI,EAAKI,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIlB,EAAG,MAAM,IAAImB,UAAU,mCAC3B,KAAOX,IAAMA,EAAI,EAAGU,EAAG,KAAOf,EAAI,IAAKA,OACnC,GAAIH,EAAI,EAAGC,IAAMC,EAAY,EAARgB,EAAG,GAASjB,EAAU,OAAIiB,EAAG,GAAKjB,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEkB,KAAKnB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEkB,KAAKnB,EAAGiB,EAAG,KAAKvB,KAAM,OAAOO,EAE3J,OADID,EAAI,EAAGC,IAAGgB,EAAK,CAAS,EAARA,EAAG,GAAQhB,EAAEb,QACzB6B,EAAG,IACP,KAAK,EAAG,KAAK,EAAGhB,EAAIgB,EAAI,MACxB,KAAK,EAAc,OAAXf,EAAEC,QAAgB,CAAEf,MAAO6B,EAAG,GAAIvB,MAAM,GAChD,KAAK,EAAGQ,EAAEC,QAASH,EAAIiB,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKf,EAAEI,IAAIc,MAAOlB,EAAEG,KAAKe,MAAO,SACxC,QACI,MAAkBnB,GAAZA,EAAIC,EAAEG,MAAYlD,OAAS,GAAK8C,EAAEA,EAAE9C,OAAS,KAAkB,IAAV8D,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEf,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVe,EAAG,MAAchB,GAAMgB,EAAG,GAAKhB,EAAE,IAAMgB,EAAG,GAAKhB,EAAE,IAAM,CAAEC,EAAEC,MAAQc,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYf,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIA,EAAIgB,EAAI,KAAO,CACpE,GAAIhB,GAAKC,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIC,EAAEI,IAAIe,KAAKJ,GAAK,KAAO,CAC9DhB,EAAE,IAAIC,EAAEI,IAAIc,MAChBlB,EAAEG,KAAKe,MAAO,SAEtBH,EAAKnB,EAAKqB,KAAKvC,EAASsB,EAC5B,CAAE,MAAOX,GAAK0B,EAAK,CAAC,EAAG1B,GAAIS,EAAI,CAAG,CAAE,QAAUD,EAAIE,EAAI,CAAG,CACzD,GAAY,EAARgB,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE7B,MAAO6B,EAAG,GAAKA,EAAG,QAAU,EAAGvB,MAAM,EAC9E,CAtBgDL,CAAK,CAAC0B,EAAGC,GAAK,CAAG,CAuBrE,EAUI0U,GAAkB,SAAUjY,GAC5B,IAAIsE,EAAOtE,EAAGsE,KACVnE,GAAK,IAAAsF,UAAS,MAAOyS,EAAc/X,EAAG,GAAIgY,EAAiBhY,EAAG,GAC9DQ,GAAK,IAAA8E,WAAS,GAAOG,EAAUjF,EAAG,GAAIkF,EAAalF,EAAG,GA0B1D,IAzBA,IAAAmF,WAAU,WAC+B,QAAe,OAAQ,OAAQ,EAAG,WACnE,IAAIsS,EAAQlU,EACZ,OAAO,GAAYb,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EAED,OADA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,EAAG,IAChB,CAAC,EAAa,sDACzB,KAAK,EAGD,OAFAwU,EAASpY,EAAG2C,OACZwV,EAAeC,GACR,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAlU,EAAUlE,EAAG2C,OACbwB,QAAQY,MAAM,+BAAgCb,GACvC,CAAC,EAAa,GACzB,KAAK,EAED,OADA2B,GAAW,GACJ,CAAC,GACZ,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,EAEJ,EAAG,IACCD,IAAYsS,EACZ,OAAQ,SAAK,MAAO,CAAEpP,UAAW,wCAAyCtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,mEAEjH,IAAIuP,EAAWH,EAAYG,SAAUC,EAAMJ,EAAYI,IAAKC,EAAgBL,EAAYK,cAAeC,EAAQN,EAAYM,MAAOC,EAAQP,EAAYO,MAAOC,EAAUR,EAAYQ,QAASC,EAAsBT,EAAYS,oBAC9N,OAAQ,SAAK,MAAO,CAAE7P,UAAW,gBAAiBtD,UAAU,SAAKmT,EAAqB,CAAEC,MAAO,OAAQC,OAAQ,OAAQrT,UAAU,UAAM6S,EAAU,CAAE/T,KAAMA,EAAMwU,OAAQ,CAAEC,IAAK,GAAIC,MAAO,GAAIC,KAAM,GAAIC,OAAQ,IAAM1T,SAAU,EAAC,SAAK+S,EAAe,CAAEY,gBAAiB,MAAOlK,OAAQ,aAAc,SAAKuJ,EAAO,CAAEY,QAAS,SAAUnK,OAAQ,UAAWoK,KAAM,CAAErK,KAAM,UAAWsK,SAAU,IAAMC,OAAQ,GAAIC,WAAY,MAAOX,OAAQ,MAAO,SAAKJ,EAAO,CAAExJ,OAAQ,UAAWoK,KAAM,CAAErK,KAAM,UAAWsK,SAAU,IAAMG,cAAe,SAAU9X,GAAS,MAAO,IAASX,QAAQW,EAAQ,KAAM+X,QAAQ,GAAI,IAAM,KAAM,SAAKhB,EAAS,CAAEiB,aAAc,CAC/lBC,gBAAiB,UACjBC,OAAQ,oBACRC,aAAc,OACfC,WAAY,CAAEpM,MAAO,WAAaqM,UAAW,SAAUrY,GAAS,MAAO,CAAC,IAASX,OAAOW,EAAM4N,kBAAmB,KAAO,KAAM,SAAK+I,EAAK,CAAEc,QAAS,UAAWpK,KAAM,UAAWiL,OAAQ,CAAC,EAAG,EAAG,EAAG,WAC5N,EAkMI,GAAqB,SAAUza,GAAS,OAAO,QAAe,OAAQ,OAAQ,EAAG,WACjF,IAAkBO,EAAIma,EAAgB7Z,EAAa0D,EAAYC,EAASC,EAAUkW,EAClF,OAAO,GAAY9W,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACDyB,QAAQC,IAAI,8BAA+B5E,GAE3CO,EAAK,EAAGma,EADO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAEtEla,EAAG0C,MAAQ,EACf,KAAK,EACD,KAAM3C,EAAKma,EAAexa,QAAS,MAAO,CAAC,EAAa,GACxDW,EAAc6Z,EAAena,GAC7BC,EAAG0C,MAAQ,EACf,KAAK,EAGD,OAFA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBG,GAAa,QAAI/E,EAAI,SAASgC,OAAOX,GAAcb,GAC5C,CAAC,GAAa,QAAOuE,IAChC,KAAK,EAED,OADAC,EAAUhE,EAAG2C,QACD0B,UACRJ,EAAWD,EAAQM,OACnBH,QAAQC,IAAI,gBAAqBpD,OAAOX,EAAa,iBAA+D,CAChHb,MAAOyE,EAASzE,MAChB+E,UAAWN,EAASM,UACpBlE,YAAa4D,EAAS5D,YACtBlB,QAAS8E,EAAS9E,QAClBqF,KAAMP,EAASO,OAEZ,CAAC,EAAc,CACdC,IAAKR,EAASQ,IACdjF,MAAOyE,EAASzE,MAChBkF,YAAaT,EAASS,YACtBF,KAAMP,EAASO,KACfD,UAAWN,EAASM,UACpBlE,YAAa4D,EAAS5D,YACtBlB,QAAS8E,EAAS9E,QAClBwF,OAAQV,EAASU,OACjBC,KAAMX,EAASW,KACfC,WAAYZ,EAASY,WACrBC,QAASb,EAASa,WAGvB,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAqV,EAAUna,EAAG2C,OACbwB,QAAQY,MAAM,gBAAqB/D,OAAOX,EAAa,WAAgC8Z,GAChF,CAAC,EAAa,GACzB,KAAK,EAED,OADApa,IACO,CAAC,EAAa,GACzB,KAAK,EAED,OADAoE,QAAQY,MAAM,gCAAiCvF,GACxC,CAAC,EAAc,MAElC,EACJ,EAAI,EAwbJ,SAvbgB,WACZ,IAAIkG,EAAOP,IAAUO,KACjBkD,EAAkBF,IAAaE,gBAC/BQ,GAAe,UAAkB,GACjCgR,EAAchR,EAAaM,IAAI,SAC/B2Q,EAAgBjR,EAAaM,IAAI,WACjC1J,GAAK,IAAAyF,UAAS,SAAU6U,EAAata,EAAG,GAAIua,EAAgBva,EAAG,GAC/DG,GAAK,IAAAsF,UAAS,IAAIc,MAASiU,EAAera,EAAG,GAAIsa,EAAkBta,EAAG,GACtEQ,GAAK,IAAA8E,UAAS,IAAKiV,EAAc/Z,EAAG,GAAIga,EAAiBha,EAAG,GAC5DwJ,GAAK,IAAA1E,WAAS,GAAOG,EAAUuE,EAAG,GAAItE,EAAasE,EAAG,GACtDG,GAAK,IAAA7E,UAAS,GAAImV,EAAetQ,EAAG,GAAIuQ,EAAkBvQ,EAAG,GAC7DG,GAAK,IAAAhF,UAAS,GAAIqV,EAAoBrQ,EAAG,GAAIsQ,EAAuBtQ,EAAG,GACvE8I,GAAK,IAAA9N,UAAS,MAAOuV,EAAkBzH,EAAG,GAAI0H,EAAqB1H,EAAG,GAEtEG,GAAK,IAAAjO,UAAS,OAAQyV,EAAWxH,EAAG,GAAIyH,EAAczH,EAAG,GACzDG,GAAK,IAAApO,UAAS,MAAO2V,EAAkBvH,EAAG,GAAIwH,EAAqBxH,EAAG,GAEtEG,GAAK,IAAAvO,UAAS,IAAK6V,EAAStH,EAAG,GAAIuH,EAAYvH,EAAG,GAClDG,GAAK,IAAA1O,WAAS,GAAO+V,EAAgBrH,EAAG,GAAIsH,EAAmBtH,EAAG,GAClEG,GAAK,IAAA7O,WAAS,GAAQiW,EAAgBpH,EAAG,GAAIqH,EAAmBrH,EAAG,GAEnEsH,EAA6E,WAA3DlW,aAAwC,EAAIA,EAAKlB,MACnEM,EAAU8W,GAAkBlW,EAAKlG,MAAQD,EAAgBmG,EAAKlG,OAAS,KAEvEiK,EAAsB2Q,GAAeC,EAEzC,YAAgB,WACZ,IAAIwB,EAAY,IAAIC,gBAAgBjP,OAAO1D,SAAS4S,QAChDC,EAAOH,EAAUnS,IAAI,QACrB5E,EAAU+W,EAAUnS,IAAI,WACf,UAATsS,GAAoBlX,GACpBqW,EAAY,SACZE,EAAmBvW,KAGnBqW,EAAY,OACZE,EAAmB,MAE3B,EAAG,IAEH,IAuTmCY,EAI/BC,EAAiB,SAAUC,GAC3B,MAAO,IAASnb,OAAOmb,EAAO5M,iBAClC,EAoDA,OAnDA,IAAAzJ,WAAU,WACFJ,GAjToC,QAAe,OAAQ,OAAQ,EAAG,WAC1E,IAAI0W,EAAmBC,EAA8Bhc,EAAaic,EAAkBrW,EAAesW,EAAuBC,EAAgBC,EAAWC,EAASC,EAAGC,EAAeC,EAAeC,EAAqBC,EAAgBC,EAAOC,EAAOnF,EAClP,OAAO,GAAYzU,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EAiBD,OAhBAyB,QAAQC,IAAI,qCACZD,QAAQC,IAAI,aAAc,CACtB5E,MAAOkG,aAAwC,EAAIA,EAAKlG,MACxDgF,KAAMkB,aAAwC,EAAIA,EAAKlB,KACvDnE,YAAaqF,aAAwC,EAAIA,EAAKrF,YAC9DkE,UAAWmB,aAAwC,EAAIA,EAAKnB,YAEhEJ,QAAQC,IAAI,eAAgB8W,EAAU,mBAAoBE,GAC1DjX,QAAQC,IAAI,aAAcwE,GAC1BwT,EAAoB1W,aAAwC,EAAIA,EAAKrF,YACrEgc,EAAgB,KAEgD,QAA3D3W,aAAwC,EAAIA,EAAKlB,OAAkBoE,GAAuC,QAApBA,IACvFzE,QAAQC,IAAI,sBAAuBwE,GACnCwT,EAAoBxT,GAEL,UAAbsS,GAAwBE,GAE9BjX,QAAQC,IAAI,4CAA6CgX,GACzDiB,EAAgBjB,EACT,CAAC,EAAa,IAJkC,CAAC,EAAa,GAKzE,KAAK,EACD,OAAM3R,GAAuB2Q,GAE7BjW,QAAQC,IAAI,4CAA6CgW,GAClD,CAAC,EAAa,GAAmBA,KAHU,CAAC,EAAa,GAIpE,KAAK,EAED,OADAnU,EAAgBjG,EAAG2C,SAEfsY,EAAmBhV,GACnBmW,EAAoBnW,EAAc5F,YAClCgc,EAAgBpW,EAAcnB,SAAWvF,EAAgB6a,GACzDjW,QAAQC,IAAI,sBAAuB,CAAEG,UAAW0B,EAAc1B,UAAWlE,YAAa+b,EAAmBtX,QAASuX,IAO/G,CAAC,EAAa,KAJjBlY,QAAQY,MAAM,4BAA6BqV,GAC3CvU,GAAW,GACJ,CAAC,IAGhB,KAAK,EAED1B,QAAQC,IAAI,0BACZpE,EAAG0C,MAAQ,EACf,KAAK,EAKD,OAJArC,EAAc+b,EACdE,EAAmBD,GAAiBvX,EACpCX,QAAQC,IAAI,kBAAmB/D,EAAa,WAAYuI,EAAiB,KAET,WAA3DlD,aAAwC,EAAIA,EAAKlB,OAAqB4V,GAAeA,IAAgB1U,EAAKlG,OAC3G2E,QAAQsC,KAAK,uCACbZ,GAAW,GACJ,CAAC,IAELxF,KAAgBqF,aAAwC,EAAIA,EAAKlG,OAAgB,CAAC,EAAa,IACtG2E,QAAQC,IAAI,8CACS,uBAAfsB,EAAKlG,OAAgD,OAAdkG,EAAKlB,KAAuB,CAAC,EAAa,IACvFL,QAAQC,IAAI,0DACZ/D,EAAc,KACP,CAAC,EAAa,KACzB,KAAK,EAAG,MAAO,CAAC,EAAa,GAAmBqF,EAAKlG,QACrD,KAAK,GAEGyG,OADJA,EAAgBjG,EAAG2C,aAC2C,EAAIsD,EAAc5F,eAC5EA,EAAc4F,EAAc5F,YAC5B8D,QAAQC,IAAI,wCAAyC/D,IAEzDL,EAAG0C,MAAQ,EACf,KAAK,EACD,IAAKrC,EASD,OARA8D,QAAQY,MAAM,6CACdc,GAAW,GAEX1B,QAAQsC,KAAK,uCACbkU,EAAe,IACfE,EAAgB,GAChBE,EAAqB,GACrB5W,QAAQC,IAAI,uBACL,CAAC,GAEZD,QAAQC,IAAI,yCAA0C/D,EAAa,WAAYic,GAC/EzW,GAAW,GACX7F,EAAG0C,MAAQ,EACf,KAAK,EAgCD,OA/BA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,GAAI,GAAI,KACzB2Y,EAvGK,CACb,KAAQ,KACR,GAAM,KACN,MAAS,KACT,cAAe,KACf,gBAAiB,KACjB,IAAO,KACP,GAAM,KACN,QAAW,MATkBpd,EAwGwBkB,IA7F3BlB,EA8FlBqd,GAAiB,QAAWxd,EAAI,eAAegC,OAAOub,IACtDpY,QAAQC,IAAI,aAAc,eAAepD,OAAOub,IAChDE,EAAY,IAAIlW,KAAKiU,GACrBkC,EAAU,IAAInW,KAAKiU,GACA,UAAfF,GACAmC,EAAUS,SAAS,EAAG,EAAG,EAAG,GAC5BR,EAAQQ,SAAS,GAAI,GAAI,GAAI,MAET,YAAf5C,GACLmC,EAAUU,QAAQ,GAClBV,EAAUS,SAAS,EAAG,EAAG,EAAG,GAC5BR,EAAQU,SAASV,EAAQW,WAAa,GACtCX,EAAQS,QAAQ,GAChBT,EAAQQ,SAAS,GAAI,GAAI,GAAI,MAET,WAAf5C,IACLmC,EAAUW,SAAS,EAAG,GACtBX,EAAUS,SAAS,EAAG,EAAG,EAAG,GAC5BR,EAAQU,SAAS,GAAI,IACrBV,EAAQQ,SAAS,GAAI,GAAI,GAAI,MAEjC/Y,QAAQC,IAAI,YAAa,CACrBqY,UAAWA,EAAUjW,cACrBkW,QAASA,EAAQlW,cACjB8T,WAAYA,IAEhBqC,GAAI,OAAMH,GAAgB,QAAM,YAAa,KAAMC,IAAY,QAAM,YAAa,KAAMC,IAExF,QAAQ,YAAa,QACd,CAAC,GAAa,QAAQC,IACjC,KAAK,EAQD,OAPAC,EAAgB5c,EAAG2C,OACnBka,EAAgB,GAChB1Y,QAAQC,IAAI,YAAa,CACrBkZ,UAAWV,EAAcW,KAAK7d,OAC9B8d,UAAWZ,EAAca,KACzBC,QAASd,EAAcW,KAAK7d,OAAS,IAEP,IAA9Bkd,EAAcW,KAAK7d,QACnByE,QAAQsC,KAAK,wBAEbkU,EAAe,IACfE,EAAgB,GAChBE,EAAqB,GACrB5W,QAAQC,IAAI,uBACZyB,GAAW,GACJ,CAAC,KAEZ+W,EAAce,QAAQ,SAAUC,GAC5B,IAAI5d,EAAIG,EAAIQ,EACR2D,EAAOsZ,EAAItZ,OACfH,QAAQC,IAAI,aAAc,CACtB6D,GAAI2V,EAAI3V,GACR4V,SAAUvZ,EAAKuZ,SACftZ,UAAWD,EAAKC,UAChBO,QAASR,EAAKQ,QACd0N,UAAWlO,EAAKkO,YAGpB,IAAIA,GAAuC,QAAzBxS,EAAKsE,EAAKkO,iBAAmC,IAAZxS,OAAqB,EAAIA,EAAG8d,QAC3ExZ,EAAKkO,UAAUsL,SACdxZ,EAAKkO,qBAAqBjM,KAAOjC,EAAKkO,UAAY,IAAIjM,KAAKjC,EAAKkO,WACjEuL,GAAuC,QAAzB5d,EAAKmE,EAAKyZ,iBAAmC,IAAZ5d,OAAqB,EAAIA,EAAG2d,QAC3ExZ,EAAKyZ,UAAUD,UACPxZ,EAAKyZ,UAAyB,IAAIxX,KAAKjC,EAAKyZ,YACpDC,GAAmC,QAAvBrd,EAAK2D,EAAK0Z,eAAiC,IAAZrd,OAAqB,EAAIA,EAAGmd,QACvExZ,EAAK0Z,QAAQF,UACLxZ,EAAK0Z,QAAuB,IAAIzX,KAAKjC,EAAK0Z,UACtDnB,EAAcjZ,KAAK,CACfia,SAAUvZ,EAAKuZ,UAAY,EAC3BrL,UAAWA,EACXuL,UAAWA,EACXC,QAASA,EACTzZ,UAAWD,EAAKC,WAAa,GAC7B0Z,SAAU3Z,EAAK2Z,UAAY,GAC3BnZ,QAASR,EAAKQ,SAEtB,GACAgY,EAAsBD,EAClBP,IACAQ,EAAsBD,EAActU,OAAO,SAAU1B,GAAK,OAAOA,EAAE/B,UAAYwX,CAAkB,GACjGnY,QAAQC,IAAI,gBAAiB,CACzB8Z,iBAAkBrB,EAAcnd,OAChCod,oBAAqBA,EAAoBpd,OACzC4c,iBAAkBA,EAClBpB,SAAUA,EACVE,gBAAiBA,EACjBY,KAAmB,UAAbd,EAAuB,UAAazR,EAAsB,YAAc,YAGtFsT,EAiDW,SAAUoB,EAAarS,EAAMmQ,GACpD,IAAI3X,EAAO,GACX,GAAa,UAATwH,EAeA,IAdA,IAAIsS,EAAU,SAAUC,GACpB,IAAIC,EAAkBH,EAAY5V,OAAO,SAAU1B,GAE/C,OADqBA,EAAE2L,UAAU+L,aACPF,CAC9B,GACIG,EAAUF,EAAgBG,OAAO,SAAUC,EAAK7X,GAAK,OAAO6X,EAAM7X,EAAEgX,QAAU,EAAG,GACrFvZ,EAAKV,KAAK,CACN+a,OAAQ,GAAG3d,OAAOqd,EAAKlW,WAAWyW,SAAS,EAAG,KAAM,OACpDJ,QAASA,EACTvB,MAAOqB,EAAgB5e,OACvBuc,KAAM,IAAI1V,KAAK0V,EAAKiB,SAASmB,EAAM,EAAG,EAAG,KAEjD,EAESA,EAAO,EAAGA,EAAO,GAAIA,IAC1BD,EAAQC,QAGX,GAAa,YAATvS,EAgBL,IAdA,IAAI+S,EAAc,IAAItY,KAAK0V,EAAK6C,cAAe7C,EAAKoB,WAAa,EAAG,GAAG0B,UACnEC,EAAU,SAAUC,GACpB,IAAIC,EAAiBf,EAAY5V,OAAO,SAAU1B,GAE9C,OADoBA,EAAE2L,UAAUuM,YACPE,CAC7B,GACIT,EAAUU,EAAeT,OAAO,SAAUC,EAAK7X,GAAK,OAAO6X,EAAM7X,EAAEgX,QAAU,EAAG,GACpFvZ,EAAKV,KAAK,CACN+a,OAAQ,GAAG3d,OAAOie,EAAK,KACvBT,QAASA,EACTvB,MAAOiC,EAAexf,OACtBuc,KAAM,IAAI1V,KAAK0V,EAAK6C,cAAe7C,EAAKoB,WAAY4B,IAE5D,EACSA,EAAM,EAAGA,GAAOJ,EAAaI,IAClCD,EAAQC,QAGX,GAAa,WAATnT,EAeL,IAdA,IAAIqT,EAAU,SAAUC,GACpB,IAAIC,EAAmBlB,EAAY5V,OAAO,SAAU1B,GAEhD,OADsBA,EAAE2L,UAAU6K,aACP+B,CAC/B,GACIZ,EAAUa,EAAiBZ,OAAO,SAAUC,EAAK7X,GAAK,OAAO6X,EAAM7X,EAAEgX,QAAU,EAAG,GACtFvZ,EAAKV,KAAK,CACN+a,OAAQ,GAAG3d,OAAOoe,EAAQ,EAAG,KAC7BZ,QAASA,EACTvB,MAAOoC,EAAiB3f,OACxBuc,KAAM,IAAI1V,KAAK0V,EAAK6C,cAAeM,EAAO,IAElD,EAESA,EAAQ,EAAGA,EAAQ,GAAIA,IAC5BD,EAAQC,GAGhB,OAAO9a,CACX,CA9GiCgb,CAAqBxC,EAAqBxC,EAAYE,GACvErW,QAAQC,IAAI,gBAAiB,CACzBmb,gBAAiB1C,EAAcnd,OAC/B8f,eAAgB1C,EAAoBpd,OACpC+f,gBAAiB1C,EAAerd,OAChCkb,aAAcmC,EAAe0B,OAAO,SAAUC,EAAKpR,GAAQ,OAAOoR,EAAMpR,EAAKkR,OAAS,EAAG,GACzFkB,WAAY3C,EAAe,KAED,IAA1BA,EAAerd,QACfyE,QAAQsC,KAAK,iBAEbkU,EAAe,IACfE,EAAgB,GAChBE,EAAqB,GACrB5W,QAAQC,IAAI,yBAGZuW,EAAeoC,GACfC,EAAQD,EAAe0B,OAAO,SAAUC,EAAKpR,GAAQ,OAAOoR,EAAMpR,EAAKkR,OAAS,EAAG,GACnFvB,EAAQF,EAAe0B,OAAO,SAAUC,EAAKpR,GAAQ,OAAOoR,EAAMpR,EAAK2P,KAAO,EAAG,GACjFpC,EAAgBmC,GAChBjC,EAAqBkC,GACrB9Y,QAAQC,IAAI,kBAAmB,CAAE4Y,MAAOA,EAAOC,MAAOA,EAAO0C,UAAW5C,EAAerd,UAEpF,CAAC,EAAa,KACzB,KAAK,GAeD,OAdAoY,EAAU9X,EAAG2C,OACbwB,QAAQY,MAAM,2BAA4B+S,GAC1C3T,QAAQY,MAAM,8BAA+B1E,GAC7C8D,QAAQY,MAAM,qBAAsB,CAChCvF,MAAOkG,aAAwC,EAAIA,EAAKlG,MACxDa,YAAaqF,aAAwC,EAAIA,EAAKrF,YAC9DmE,KAAMkB,aAAwC,EAAIA,EAAKlB,OAG3DL,QAAQsC,KAAK,8BACbkU,EAAe,IACfE,EAAgB,GAChBE,EAAqB,GACrB5W,QAAQC,IAAI,mBACL,CAAC,EAAa,IACzB,KAAK,GAED,OADAyB,GAAW,GACJ,CAAC,GACZ,KAAK,GAAI,MAAO,CAAC,GA/OF,IAAU1G,CAiPjC,EACJ,EAgFA,EAAG,CAACmb,EAAYE,EAAc9U,aAAwC,EAAIA,EAAKlG,MAAO0b,EAAUE,EAAiBxS,KAEjH,IAAA9C,WAAU,WAC0D,QAA3DJ,aAAwC,EAAIA,EAAKlB,OAAmBkX,EAwBJ,QAA3DhW,aAAwC,EAAIA,EAAKlB,QACvDL,QAAQC,IAAI,uCACZmX,EAAU,IACVE,GAAiB,GACjBE,GAAiB,KA3BjBxX,QAAQC,IAAI,6BACZqX,GAAiB,GAvmBX,SAAUpb,EAAauf,EAAahX,GAAmB,OAAO,QAAe,OAAQ,EAAGrH,QAAS,WAC/G,IAAIse,EAAUlD,EAAGC,EAAekD,EAAUzZ,EAA0B0Z,EAAShgB,EAAIigB,EAAmCC,EAAS9Z,EAAmC+Z,EAASlgB,EAAI8D,EAAgBqc,EAAgBC,EAC7M,OAAO,GAAY/c,KAAM,SAAUlD,GAC/B,OAAQA,EAAGuC,OACP,KAAK,EAED,GADAyB,QAAQC,IAAI,6BAA8B,CAAE/D,YAAaA,EAAaqF,KAAMka,aAAsD,EAAIA,EAAYpgB,MAAOoJ,gBAAiBA,KACpKA,GAAuC,QAApBA,EAA4B,MAAO,CAAC,EAAa,GAC1EzE,QAAQC,IAAI,gBAAiBwE,GAC7BzI,EAAGuC,MAAQ,EACf,KAAK,EAID,OAHAvC,EAAGyC,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBic,GAAW,QAAW7gB,EAAI,SAASgC,OAAO4H,IAC1C+T,GAAI,OAAMkD,GAAU,QAAM,OAAQ,KAAM,UACjC,CAAC,GAAa,QAAQlD,IACjC,KAAK,EAmBD,OAlBAC,EAAgBzc,EAAGwC,OACnBwB,QAAQC,IAAI,MAAgBpD,OAAO4H,EAAiB,YAAsCgU,EAAca,KAAM,WAC9GqC,EAAW,GACXlD,EAAce,QAAQ,SAAUC,GAC5B,IAAItZ,EAAOsZ,EAAItZ,OACf,GAAIA,EAAKC,UAAW,CAChB,IAAIA,EAAYD,EAAKC,UAAUnF,OAC3BmF,GACAub,EAASlc,KAAK,CACVqE,GAAI3D,EAAK9E,MACTqK,KAAMtF,EACN/E,MAAO8E,EAAK9E,MACZa,YAAauI,GAGzB,CACJ,GACAzE,QAAQC,IAAI,wBAAyB0b,EAASpgB,OAAQ,QAC/C,CAAC,EAAcogB,GAC1B,KAAK,EAGD,OAFAzZ,EAAUlG,EAAGwC,OACbwB,QAAQY,MAAM,KAAU/D,OAAO4H,EAAiB,qBAA6EvC,GACtH,CAAC,EAAc,IAC1B,KAAK,EACD,GAAuF,QAAhFuZ,aAAsD,EAAIA,EAAYpb,MAAiB,MAAO,CAAC,EAAa,GACnHL,QAAQC,IAAI,gCAEZ2b,EAAU,SAAUI,GAChB,IAAIN,EAAUlD,EAAGC,EAAeyD,EAAUC,EAC1C,OAAO,GAAYjd,KAAM,SAAU1C,GAC/B,OAAQA,EAAG+B,OACP,KAAK,EAKD,OAJA/B,EAAGiC,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBO,QAAQC,IAAI,cAAsDpD,OAAOmf,EAAgB,2BACzFN,GAAW,QAAW7gB,EAAI,SAASgC,OAAOmf,IAC1CxD,GAAI,OAAMkD,GAAU,QAAM,OAAQ,KAAM,UACjC,CAAC,GAAa,QAAQlD,IACjC,KAAK,EAkBD,OAjBAC,EAAgBjc,EAAGgC,OACnBwB,QAAQC,IAAI,MAAgBpD,OAAOmf,EAAgB,WAAgCvD,EAAca,KAAM,WACvG4C,EAAW,GACXzD,EAAce,QAAQ,SAAUC,GAC5B,IAAItZ,EAAOsZ,EAAItZ,OAEXC,EAAYD,EAAKC,WAAaD,EAAKI,aAAeJ,EAAK9E,MACvD8E,EAAK9E,OAAS+E,GACd8b,EAASzc,KAAK,CACVqE,GAAI3D,EAAK9E,MACTqK,KAAMtF,EACN/E,MAAO8E,EAAK9E,MACZa,YAAa8f,GAGzB,GAEIE,EAAS3gB,OAAS,GAClByE,QAAQC,IAAI,aAAgDpD,OAAOmf,EAAgB,mBAAsEE,EAAS3gB,OAAQ,QACnK,CAAC,EAAc,CAAEiC,MAAO0e,KAE5B,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAC,EAAU3f,EAAGgC,OACbwB,QAAQY,MAAM,aAAgD/D,OAAOmf,EAAgB,iBAA0DG,GACxI,CAAC,EAAc,YAC1B,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,EACAvgB,EAAK,EAAGigB,EA1CU,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MA2CzE7f,EAAGuC,MAAQ,EACf,KAAK,EACD,OAAM3C,EAAKigB,EAAkBtgB,QAC7BygB,EAAiBH,EAAkBjgB,GAC5B,CAAC,EAAcggB,EAAQI,KAFe,CAAC,EAAa,GAG/D,KAAK,EAED,GAAuB,iBADvBF,EAAU9f,EAAGwC,QAET,MAAO,CAAC,EAAcsd,EAAQte,OAClCxB,EAAGuC,MAAQ,EACf,KAAK,EAED,OADA3C,IACO,CAAC,EAAa,GACzB,KAAK,EAGD,OADAoE,QAAQsC,KAAK,gCACN,CAAC,EAAc,IAC1B,KAAK,EACDN,EAAsB9F,GAmEf,SAAUb,GAC7B,IAAIQ,EACJ,IAAKR,EACD,MAAO,GAWX,IAVA,IAAIe,EAAwC,QAA9BP,EAAKR,EAAMgB,MAAM,KAAK,UAA4B,IAAZR,OAAqB,EAAIA,EAAGX,cAUvEU,EAAK,EAAGI,EAAKF,OAAOC,QATb,CACZ,MAAO,KACP,SAAU,KACV,YAAa,KACb,WAAY,KACZ,YAAa,KACb,YAAa,KACb,cAAe,OAE8BH,EAAKI,EAAGT,OAAQK,IAAM,CACnE,IAAIY,EAAKR,EAAGJ,GAAKwgB,EAAM5f,EAAG,GAAIgB,EAAQhB,EAAG,GACzC,GAAIJ,aAA4C,EAAIA,EAAOO,SAASyf,GAChE,OAAO5e,CAEf,CACA,MAAO,EACX,CAxFqD6e,EAAkBZ,aAAsD,EAAIA,EAAYpgB,QAAU,IACvI2E,QAAQC,IAAI,eAAgB+B,GAE5B+Z,EAAU,SAAUC,GAChB,IAAIN,EAAUlD,EAAGC,EAAe6D,EAAUC,EAC1C,OAAO,GAAYrd,KAAM,SAAU8G,GAC/B,OAAQA,EAAGzH,OACP,KAAK,EAKD,OAJAyH,EAAGvH,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBO,QAAQC,IAAI,MAAgBpD,OAAOmf,EAAgB,2BACnDN,GAAW,QAAW7gB,EAAI,SAASgC,OAAOmf,IAC1CxD,GAAI,OAAMkD,GAAU,QAAM,OAAQ,KAAM,UACjC,CAAC,GAAa,QAAQlD,IACjC,KAAK,EAkBD,OAjBAC,EAAgBzS,EAAGxH,OACnBwB,QAAQC,IAAI,MAAgBpD,OAAOmf,EAAgB,WAAgCvD,EAAca,KAAM,WACvGgD,EAAW,GACX7D,EAAce,QAAQ,SAAUC,GAC5B,IAAItZ,EAAOsZ,EAAItZ,OAEXC,EAAYD,EAAKC,WAAaD,EAAKI,aAAeJ,EAAK9E,MACvD8E,EAAK9E,OAAS+E,GACdkc,EAAS7c,KAAK,CACVqE,GAAI3D,EAAK9E,MACTqK,KAAMtF,EACN/E,MAAO8E,EAAK9E,MACZa,YAAa8f,GAGzB,GAEIM,EAAS/gB,OAAS,GAClByE,QAAQC,IAAI,KAAUpD,OAAOmf,EAAgB,mBAAsEM,EAAS/gB,OAAQ,QACpIyE,QAAQC,IAAI,eAAgBqc,GACrB,CAAC,EAAc,CAAE9e,MAAO8e,KAE5B,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAC,EAAUvW,EAAGxH,OACbwB,QAAQY,MAAM,KAAU/D,OAAOmf,EAAgB,iBAA0DO,GAClG,CAAC,EAAc,YAC1B,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,EACA1gB,EAAK,EAAG8D,EA3COqC,EAAsB,CAACA,GAAuB,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MA4CpHhG,EAAGuC,MAAQ,GACf,KAAK,GACD,OAAM1C,EAAK8D,EAAepE,QAC1BygB,EAAiBrc,EAAe9D,GACzB,CAAC,EAAckgB,EAAQC,KAFY,CAAC,EAAa,IAG5D,KAAK,GAED,GAAuB,iBADvBC,EAAUjgB,EAAGwC,QAET,MAAO,CAAC,EAAcyd,EAAQze,OAClCxB,EAAGuC,MAAQ,GACf,KAAK,GAED,OADA1C,IACO,CAAC,EAAa,IACzB,KAAK,GAGD,OADAmE,QAAQsC,KAAK,wCACN,CAAC,EAAc,IAElC,EACJ,EAAI,CAkcQka,EAAajb,aAAwC,EAAIA,EAAKrF,cAAgB,GAAIqF,EAAMkD,GAAiB1G,KAAK,SAAU0e,GAEpHrF,EAAUqF,GACVnF,GAAiB,GACjBtX,QAAQC,IAAI,gCAAiCwc,EAAclhB,QAC9B,IAAzBkhB,EAAclhB,OACdyE,QAAQsC,KAAK,mBAGbtC,QAAQC,IAAI,qBAAsBwc,EAAclhB,OAAQ,OAEhE,GAAGmhB,MAAM,SAAU9b,GACfZ,QAAQY,MAAM,sBAAuBA,GAErCwW,EAAU,IACVE,GAAiB,GACjBE,GAAiB,GACjBxX,QAAQC,IAAI,wBAChB,GAQR,EAAG,CAACsB,aAAwC,EAAIA,EAAKlB,KAAMkX,EAAehW,aAAwC,EAAIA,EAAKrF,YAAauI,KAExI,IAAA9C,WAAU,WACN,GAAgE,WAA3DJ,aAAwC,EAAIA,EAAKlB,OAAqBkB,EAAKlG,QAAU4b,EAAiB,CACvG,IAAI0F,EAAcvhB,EAAgBmG,EAAKlG,OACvC6b,EAAmByF,GACnB3F,EAAY,SACZhX,QAAQC,IAAI,yBAA0B,CAAE5E,MAAOkG,EAAKlG,MAAOsF,QAASgc,GACxE,CACJ,EAAG,CAACpb,aAAwC,EAAIA,EAAKlB,KAAMkB,EAAKlG,MAAO4b,IAKnEM,GAA6E,QAA3DhW,aAAwC,EAAIA,EAAKlB,OAC3D,SAAK,MAAO,CAAEsE,UAAW,YAAatD,UAAU,SAAK,MAAO,CAAEsD,UAAW,eAAgBtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,oBAAqBtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,OAAQtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,qFAAsFtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,uBAAwBkG,KAAM,OAAQC,OAAQ,eAAgBC,QAAS,YAAa1J,UAAU,SAAK,OAAQ,CAAE2J,cAAe,QAASC,eAAgB,QAASC,YAAa,EAAGC,EAAG,2DAA8D,SAAK,KAAM,CAAExG,UAAW,wCAAyCtD,SAAU,uBAAyF,SAAK,IAAK,CAAEsD,UAAW,qBAAsBtD,SAAU,gCAAqI,SAAK,MAAO,CAAEsD,UAAW,YAAatD,UAAU,SAAK,SAAU,CAAEwG,QAAS,WAC39B2P,GAAiB,GACjB9O,OAAO1D,SAAS4X,QACpB,EAAGjY,UAAW,6FAA8FtD,SAAU,qBAIlJI,GACQ,UAAM,MAAO,CAAEkD,UAAW,wCAAyCtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,oEAAqE,SAAK,IAAK,CAAEA,UAAW,qBAAsBtD,SAAU,0BAEvO,UAAM,MAAO,CAAEsD,UAAW,YAAatD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,eAAgBtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,OAAQtD,UAAU,SAAK,KAAM,CAAEsD,UAAW,UAAWtD,SAAUiE,GAAuBuR,EAChM,GAAGha,OAAOga,EAAgBzW,UAAW,OACpCqX,EAAiB,UAAY,aAAgB,UAAM,MAAO,CAAE9S,UAAW,gDAAiDtD,SAAU,CAA6D,QAA3DE,aAAwC,EAAIA,EAAKlB,QAAmB,UAAM,WAAW,CAAEgB,SAAU,EAAC,SAAK,SAAU,CAAEwG,QAAS,WACvPmP,EAAY,OACZE,EAAmB,KACvB,EAAGvS,UAAW,gEAAgE9H,OAAoB,QAAbka,EAAqB,wBAA0B,kCAAmCnS,MAAO,CAAE6P,MAAO,OAAQC,OAAQ,QAAUrT,SAAU,QAAmB,SAAK,SAAU,CAAEwG,QAAS,WAAc,OAAOmP,EAAY,QAAU,EAAGrS,UAAW,gEAAgE9H,OAAoB,UAAbka,EAAuB,wBAA0B,kCAAmCnS,MAAO,CAAE6P,MAAO,OAAQC,OAAQ,QAAUrT,SAAU,WAAwB,SAAK,MAAO,CAAEsD,UAAW,eAAgB,SAAK,SAAU,CAAEkD,QAAS,WAAc,OAAOuO,EAAc,QAAU,EAAGzR,UAAW,6EAA6E9H,OAAsB,UAAfsZ,EAAyB,wBAA0B,kCAAmCvR,MAAO,CAAE6P,MAAO,OAAQC,OAAQ,QAAUrT,SAAU,QAAmB,SAAK,SAAU,CAAEwG,QAAS,WAAc,OAAOuO,EAAc,UAAY,EAAGzR,UAAW,6EAA6E9H,OAAsB,YAAfsZ,EAA2B,wBAA0B,kCAAmCvR,MAAO,CAAE6P,MAAO,OAAQC,OAAQ,QAAUrT,SAAU,QAAmB,SAAK,SAAU,CAAEwG,QAAS,WAAc,OAAOuO,EAAc,SAAW,EAAGzR,UAAW,6EAA6E9H,OAAsB,WAAfsZ,EAA0B,wBAA0B,kCAAmCvR,MAAO,CAAE6P,MAAO,OAAQC,OAAQ,QAAUrT,SAAU,QAAmB,SAAK,QAAS,CAAEsG,KAAM,OAAQnK,OA1ExkDsa,EA0EkmDzB,EAzE1nDyB,EAAKzV,cAAchG,MAAM,KAAK,IAyE2mDuJ,SA9E7nD,SAAUjI,GAC7B2Y,EAAgB,IAAIlU,KAAKzE,EAAE2J,OAAO9J,OACtC,EA4EgrDmH,UAAW,4FAA6FC,MAAO,CAAE6P,MAAO,QAASC,OAAQ,iBAAqB,UAAM,MAAO,CAAE/P,UAAW,yBAA0BtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,iBAAkBtD,SAAU,EAAC,SAAK,IAAK,CAAEsD,UAAW,eAAgBtD,SAAU,UAA0B,SAAK,IAAK,CAAEsD,UAAW,iEAAkEtD,SAAU0W,EAAetB,SAAsB,UAAM,MAAO,CAAE9R,UAAW,iBAAkBtD,SAAU,EAAC,SAAK,IAAK,CAAEsD,UAAW,eAAgBtD,SAAU,UAA0B,UAAM,IAAK,CAAEsD,UAAW,mEAAoEtD,SAAU,CAACsV,EAAkBvL,iBAAkB,aAAkF,QAA3D7J,aAAwC,EAAIA,EAAKlB,OAA+B,UAAb0W,IAAyB,SAAK,MAAO,CAAEpS,UAAW,eAAgBtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,OAAQtD,SAAU,EAAC,SAAK,QAAS,CAAEsD,UAAW,+CAAgDtD,SAAU,UAAgCgW,GAAiB,UAAM,MAAO,CAAE1S,UAAW,wCAAyCtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,uEAAwE,SAAK,IAAK,CAAEA,UAAW,gBAAiBtD,SAAU,wBAAiG,IAAlB8V,EAAO5b,QAAgB,UAAM,MAAO,CAAEoJ,UAAW,mBAAoBtD,SAAU,EAAC,SAAK,IAAK,CAAEsD,UAAW,qBAAsBtD,SAAU,wBAA0F,UAAM,IAAK,CAAEsD,UAAW,kCAAmCtD,SAAU,CAAC,QAAwBE,aAAwC,EAAIA,EAAKlG,MAAO,UAAqBkG,aAAwC,EAAIA,EAAKrF,gBAAiB,SAAK,SAAU,CAAE2L,QAAS,WAAc,OAAOa,OAAO1D,SAAS4X,QAAU,EAAGjY,UAAW,6FAA8FtD,SAAU,cAAuC,SAAK,WAAW,CAAEA,UAAU,UAAM,SAAU,CAAE7D,MAAOyZ,GAAmB,GAAIrR,SAAU,SAAUjI,GAAK,OAAOuZ,EAAmBvZ,EAAE2J,OAAO9J,OAAS,KAAO,EAAGmH,UAAW,oBAAqBtD,SAAU,CAAc,QAAb0V,IAAsB,SAAK,SAAU,CAAEvZ,MAAO,GAAI6D,SAAU,UAAgC8V,EAAOpP,IAAI,SAAU8U,GAAS,OAAQ,SAAK,SAAU,CAAErf,MAAOqf,EAAM/Y,GAAIzC,SAAUwb,EAAMnX,MAAQmX,EAAM/Y,GAAM,cAAoB,UAAM,MAAO,CAAEa,UAAW,eAAgBtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,eAAgBtD,SAAU,WAAgC,SAAK,MAAO,CAAEsD,UAAW,+BAAgCC,MAAO,CAAE6P,MAAO,OAAQC,OAAQ,SAAWrT,SAAiC,IAAvBkV,EAAYhb,QAAgB,SAAK,MAAO,CAAEoJ,UAAW,mBAAoBtD,UAAU,SAAK,IAAK,CAAEsD,UAAW,0BAA2BtD,SAAuB,UAAb0V,GAAwBE,EAC7/I,uBACA,4BAAiC,SAAKnD,GAAiB,CAAE3T,KAAMoW,UAAwB,UAAM,MAAO,CAAE5R,UAAW,eAAgBtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,eAAgBtD,SAAU,UAAuD,IAAvBkV,EAAYhb,QAAgB,SAAK,MAAO,CAAEoJ,UAAW,mBAAoBtD,UAAU,SAAK,IAAK,CAAEsD,UAAW,0BAA2BtD,SAAuB,UAAb0V,GAAwBE,EACzY,uBACA,4BAAiC,UAAM,WAAW,CAAE5V,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,kCAAmCtD,UAAU,UAAM,QAAS,CAAEsD,UAAW,iBAAkBtD,SAAU,EAAC,SAAK,QAAS,CAAEA,UAAU,UAAM,KAAM,CAAEsD,UAAW,8BAA+BtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,gDAAiDtD,SAAU,QAAmB,SAAK,KAAM,CAAEsD,UAAW,iDAAkDtD,SAAU,QAAmB,SAAK,KAAM,CAAEsD,UAAW,iDAAkDtD,SAAU,SAAyB,SAAK,KAAM,CAAEsD,UAAW,iDAAkDtD,SAAU,cAAgC,SAAK,QAAS,CAAEA,SAAUkV,EACptBnS,OAAO,SAAU+E,GAAQ,OAAOA,EAAKkR,QAAU,CAAG,GAClDyC,KAAK,SAAUC,EAAGC,GAAK,OAAOA,EAAElF,KAAKmF,UAAYF,EAAEjF,KAAKmF,SAAW,GACnElV,IAAI,SAAUoB,EAAMyB,GAAS,OAAQ,UAAM,KAAM,CAAEjG,UAAW,qEAAsEtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,uBAAwBtD,SAAU8H,EAAKqR,UAAW,SAAK,KAAM,CAAE7V,UAAW,gDAAiDtD,SAAU0W,EAAe5O,EAAKkR,YAAa,UAAM,KAAM,CAAE1V,UAAW,sCAAuCtD,SAAU,CAAC8H,EAAK2P,MAAO,QAAc,SAAK,KAAM,CAAEnU,UAAW,oCAAqCtD,SAAU8H,EAAK2P,MAAQ,EAAIf,EAAemF,KAAKC,MAAMhU,EAAKkR,QAAUlR,EAAK2P,QAAU,QAAWlO,EAAS,WAAc,SAAK,MAAO,CAAEjG,UAAW,sBAAuBtD,SAAUkV,EAC1qBnS,OAAO,SAAU+E,GAAQ,OAAOA,EAAKkR,QAAU,CAAG,GAClDyC,KAAK,SAAUC,EAAGC,GAAK,OAAOA,EAAElF,KAAKmF,UAAYF,EAAEjF,KAAKmF,SAAW,GACnElV,IAAI,SAAUoB,EAAMyB,GAAS,OAAQ,UAAM,MAAO,CAAEjG,UAAW,cAAetD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,wCAAyCtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,qCAAsCtD,SAAU8H,EAAKqR,UAAW,SAAK,OAAQ,CAAE7V,UAAW,iCAAkCtD,SAAU0W,EAAe5O,EAAKkR,eAAiB,UAAM,MAAO,CAAE1V,UAAW,iCAAkCtD,SAAU,EAAC,UAAM,MAAO,CAAEA,SAAU,EAAC,SAAK,IAAK,CAAEsD,UAAW,qBAAsBtD,SAAU,SAAyB,UAAM,IAAK,CAAEsD,UAAW,yBAA0BtD,SAAU,CAAC8H,EAAK2P,MAAO,WAAkB,UAAM,MAAO,CAAEzX,SAAU,EAAC,SAAK,IAAK,CAAEsD,UAAW,qBAAsBtD,SAAU,SAAyB,SAAK,IAAK,CAAEsD,UAAW,2BAA4BtD,SAAU8H,EAAK2P,MAAQ,EAAIf,EAAemF,KAAKC,MAAMhU,EAAKkR,QAAUlR,EAAK2P,QAAU,cAAmBlO,EAAS,KAAmF,IAA5E2L,EAAYnS,OAAO,SAAU+E,GAAQ,OAAOA,EAAKkR,QAAU,CAAG,GAAG9e,SAAiB,UAAM,MAAO,CAAEoJ,UAAW,mBAAoBtD,SAAU,EAAC,SAAK,IAAK,CAAEsD,UAAW,YAAatD,SAAuB,UAAb0V,GAAwBE,EACjlC,uBACA,yBAAwC,UAAbF,GAAwBE,IAAoB,UAAM,IAAK,CAAEtS,UAAW,kCAAmCtD,SAAU,CAAC,UAAqB4V,gBAChN,E,gDClwBWmG,GAA+B,SAAU/P,EAAarS,GAE7D,IAAKqS,EACD,MAAO,IAGX,GAAIA,EAAYgQ,WAAW,KACvB,OAAOhQ,EAGX,IAAInR,EtB6LoB,SAAUlB,GAGlC,IAFA,IAAIsiB,EAAaviB,EAAqBC,GAE7BY,EAAK,EAAGC,EAAKC,OAAOC,QAAQjB,GAAgBc,EAAKC,EAAGN,OAAQK,IAAM,CACvE,IAAII,EAAKH,EAAGD,GAAKK,EAAcD,EAAG,GAAIE,EAAcF,EAAG,GACvD,GAAIjB,EAAqBkB,KAAiBqhB,EACtC,OAAOphB,CAEf,CACA,MAAO,KACX,CsBvMsBqhB,CAAeviB,GAAW,IAE5C,MAAO,IAAI6B,OAAOX,EAAa,MAAMW,OAAOwQ,EAChD,ECdI,GAAsC,WAStC,OARA,GAAWvR,OAAO2G,QAAU,SAASpE,GACjC,IAAK,IAAIqE,EAAGC,EAAI,EAAGxD,EAAIyD,UAAUrH,OAAQoH,EAAIxD,EAAGwD,IAE5C,IAAK,IAAIE,KADTH,EAAIE,UAAUD,GACO7G,OAAOgD,UAAUgE,eAAevD,KAAKmD,EAAGG,KACzDxE,EAAEwE,GAAKH,EAAEG,IAEjB,OAAOxE,CACX,EACO,GAASL,MAAMkB,KAAM0D,UAChC,EACI,GAAwC,SAAU5F,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,UAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,EAAE,SAAUG,GAAWA,EAAQG,EAAQ,IAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,OAClE,EACJ,EACI,GAA4C,SAAUV,EAASkB,GAC/D,IAAsGC,EAAGC,EAAGC,EAAxGC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPH,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGI,KAAM,GAAIC,IAAK,IAAeC,EAAI7C,OAAO8C,QAA4B,mBAAbC,SAA0BA,SAAW/C,QAAQgD,WACtL,OAAOH,EAAEjB,KAAOqB,EAAK,GAAIJ,EAAS,MAAII,EAAK,GAAIJ,EAAU,OAAII,EAAK,GAAsB,mBAAXC,SAA0BL,EAAEK,OAAOC,UAAY,WAAa,OAAOC,IAAM,GAAIP,EAC1J,SAASI,EAAKI,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIlB,EAAG,MAAM,IAAImB,UAAU,mCAC3B,KAAOX,IAAMA,EAAI,EAAGU,EAAG,KAAOf,EAAI,IAAKA,OACnC,GAAIH,EAAI,EAAGC,IAAMC,EAAY,EAARgB,EAAG,GAASjB,EAAU,OAAIiB,EAAG,GAAKjB,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEkB,KAAKnB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEkB,KAAKnB,EAAGiB,EAAG,KAAKvB,KAAM,OAAOO,EAE3J,OADID,EAAI,EAAGC,IAAGgB,EAAK,CAAS,EAARA,EAAG,GAAQhB,EAAEb,QACzB6B,EAAG,IACP,KAAK,EAAG,KAAK,EAAGhB,EAAIgB,EAAI,MACxB,KAAK,EAAc,OAAXf,EAAEC,QAAgB,CAAEf,MAAO6B,EAAG,GAAIvB,MAAM,GAChD,KAAK,EAAGQ,EAAEC,QAASH,EAAIiB,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKf,EAAEI,IAAIc,MAAOlB,EAAEG,KAAKe,MAAO,SACxC,QACI,MAAkBnB,GAAZA,EAAIC,EAAEG,MAAYlD,OAAS,GAAK8C,EAAEA,EAAE9C,OAAS,KAAkB,IAAV8D,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEf,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVe,EAAG,MAAchB,GAAMgB,EAAG,GAAKhB,EAAE,IAAMgB,EAAG,GAAKhB,EAAE,IAAM,CAAEC,EAAEC,MAAQc,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYf,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIA,EAAIgB,EAAI,KAAO,CACpE,GAAIhB,GAAKC,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIC,EAAEI,IAAIe,KAAKJ,GAAK,KAAO,CAC9DhB,EAAE,IAAIC,EAAEI,IAAIc,MAChBlB,EAAEG,KAAKe,MAAO,SAEtBH,EAAKnB,EAAKqB,KAAKvC,EAASsB,EAC5B,CAAE,MAAOX,GAAK0B,EAAK,CAAC,EAAG1B,GAAIS,EAAI,CAAG,CAAE,QAAUD,EAAIE,EAAI,CAAG,CACzD,GAAY,EAARgB,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE7B,MAAO6B,EAAG,GAAKA,EAAG,QAAU,EAAGvB,MAAM,EAC9E,CAtBgDL,CAAK,CAAC0B,EAAGC,GAAK,CAAG,CAuBrE,EAuRA,SA5QmB,WACf,IAAImC,EAAOP,IAAUO,KACjBkD,EAAkBF,IAAaE,gBAE/B5I,IADW,WACN,IAAAyF,UAAS,KAAKkc,EAAW3hB,EAAG,GAAI4hB,EAAc5hB,EAAG,GACtDG,GAAK,IAAAsF,UAAS,IAAKoc,EAAmB1hB,EAAG,GAAI2hB,EAAsB3hB,EAAG,GACtEQ,GAAK,IAAA8E,WAAS,GAAOG,EAAUjF,EAAG,GAAIkF,EAAalF,EAAG,GACtDwJ,GAAK,IAAA1E,UAAS,IAAKV,EAAQoF,EAAG,GAAI4I,EAAW5I,EAAG,GAChDG,GAAK,IAAA7E,UAAS,MAAOsc,EAAmBzX,EAAG,GAAI0X,EAAsB1X,EAAG,GACxEG,GAAK,IAAAhF,WAAS,GAAQwc,EAAcxX,EAAG,GAAIyX,EAAiBzX,EAAG,GAC/D0X,GAAe,IAAAxX,QAAO,MAEtByX,EAAwE,QAA3D1c,aAAwC,EAAIA,EAAKlB,OAelE,IAAAsB,WAAU,WACNuc,GACJ,EAAG,KACH,IAAAvc,WAAU,WAGFgc,EADoB,QAApBlZ,EACoB+Y,EAGAA,EAASpZ,OAAO,SAAU+Z,GAAW,OAAOA,EAAQjiB,cAAgBuI,CAAiB,GAEjH,EAAG,CAACA,EAAiB+Y,KACrB,IAAA7b,WAAU,WAEkB,OAApB8C,EACAoZ,EAAoB,MAEf,CAAC,KAAM,KAAM,KAAM,KAAM,MAAMlhB,SAAS8H,GAC7CoZ,EAAoB,MAGpBA,EAAoB,KAE5B,EAAG,CAACpZ,KAEJ,IAAA9C,WAAU,WACN,IAAIyc,EAAW,IAAIC,eAAe,SAAUtiB,GACxC,IAAIuiB,EAAQviB,EAAQ,GAChBwiB,EAAeD,EAAMhX,OAAOkX,cAAc,SAC9C,GAAID,EAAc,CACd,IAAIE,EAAcF,EAAaG,YAAcJ,EAAMhX,OAAOqX,YAC1DZ,EAAeU,EACnB,CACJ,GAIA,OAHIT,EAAavX,UAAYhF,GAAWic,EAAiBniB,OAAS,GAC9D6iB,EAASQ,QAAQZ,EAAavX,SAE3B,WACH2X,EAASS,YACb,CACJ,EAAG,CAACnB,EAAkBjc,IAEtB,IAwCIpD,EAxCQ,CACRygB,GAAI,CACAC,iBAAkB,QAClBC,YAAa,QACbC,OAAQ,MACRjkB,QAAS,KACTwF,OAAQ,KACRJ,UAAW,MACX+d,QAAS,MACTe,MAAO,OACP7Q,UAAW,MACX8Q,OAAQ,KACRC,SAAU,KACVC,OAAQ,KACRC,OAAQ,MACRC,QAAS,OACT9d,QAAS,mBACTb,MAAO,uBACP4e,aAAc,SAElBC,GAAI,CACAV,iBAAkB,oBAClBC,YAAa,aACbC,OAAQ,SACRjkB,QAAS,UACTwF,OAAQ,SACRJ,UAAW,aACX+d,QAAS,UACTe,MAAO,QACP7Q,UAAW,SACX8Q,OAAQ,SACRC,SAAU,WACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,UACT9d,QAAS,wBACTb,MAAO,6BACP4e,aAAc,WAGR5B,GACVM,EAAgB,WAAc,OAAO,QAAe,OAAQ,OAAQ,EAAG,WACvE,IAAIwB,EAAeC,EAAcC,EAAmBtN,EACpD,OAAO,GAAYpT,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EAgDD,OA/CA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,EAAG,IACvBiC,GAAW,GACXge,EAAgB,GAChBC,EAAe,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACtE3f,QAAQC,IAAI,2BACZ2f,EAAWD,EAAa5X,IAAI,SAAU7L,GAAe,OAAO,QAAe,OAAQ,OAAQ,EAAG,WAC1F,IAAIwf,EAAUjD,EAAeoH,EAAY9f,EACzC,OAAO,GAAYb,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EAGD,OAFA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBic,GAAW,QAAW7gB,EAAI,SAASgC,OAAOX,IACnC,CAAC,GAAa,QAAQwf,IACjC,KAAK,EAyBD,OAxBAjD,EAAgB5c,EAAG2C,OACnBqhB,EAAa,GACbpH,EAAce,QAAQ,SAAUC,GAC5B,IAAItZ,EAAOsZ,EAAItZ,OACG,UAAdA,EAAKE,MACLwf,EAAWpgB,KAAK,CACZa,IAAKH,EAAKG,IACVjF,MAAO8E,EAAK9E,MACZqF,WAAYP,EAAKO,WACjBN,UAAWD,EAAKC,UAChBiN,YAAalN,EAAKkN,YAClBhN,KAAMF,EAAKE,KACXgO,UAAWlO,EAAKkO,UAChBC,UAAWnO,EAAKmO,UAChBC,SAAUpO,EAAKoO,SACfvT,QAASmF,EAAKnF,SAAW,SACzBkB,YAAaA,EACbsE,OAAQL,EAAKK,QAAU,SACvBC,KAAMN,EAAKM,MAAQ,SACnBkN,SAAUxN,EAAKwN,UAG3B,GACA3N,QAAQC,IAAI,IAAIpD,OAAOX,EAAa,MAAMW,OAAOgjB,EAAWtkB,OAAQ,mBAC7D,CAAC,EAAcskB,GAC1B,KAAK,EAGD,OAFA9f,EAAUlE,EAAG2C,OACbwB,QAAQY,MAAM,IAAI/D,OAAOX,EAAa,WAAgC6D,GAC/D,CAAC,EAAc,IAC1B,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,EAAI,GACG,CAAC,EAAa3C,QAAQ0iB,IAAIF,IACrC,KAAK,EAQD,OAPU/jB,EAAG2C,OAELgb,QAAQ,SAAUgE,GACtBkC,EAAcjgB,KAAKzB,MAAM0hB,EAAelC,EAC5C,GACAxd,QAAQC,IAAI,qBAA4EpD,OAAO6iB,EAAcnkB,OAAQ,MACrHkiB,EAAYiC,GACL,CAAC,EAAa,GACzB,KAAK,EAID,OAHApN,EAAQzW,EAAG2C,OACXwB,QAAQY,MAAM,mBAAoB0R,GAClC1D,EAAS,wBACF,CAAC,EAAa,GACzB,KAAK,EAED,OADAlN,GAAW,GACJ,CAAC,GACZ,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,EAAI,EACAqe,EAAiB,SAAUzf,EAAKiO,GAAY,OAAO,QAAe,OAAQ,OAAQ,EAAG,WACrF,IAAI4P,EAASpN,EACb,OAAO,GAAY7R,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EAGD,OAFA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,KACtB0e,EAAUX,EAAS9W,KAAK,SAAUsZ,GAAK,OAAOA,EAAE1f,MAAQA,CAAK,IAGtD,CAAC,GAAa,SAAU,QAAIzF,EAAI,QAASsjB,EAAQ9iB,OAAQ,CACxDkT,SAAUA,EACVD,UAAW,IAAIlM,QAHZ,CAAC,GAKhB,KAAK,EAKD,OAJAvG,EAAG2C,OACHif,EAAYD,EAASzV,IAAI,SAAUiY,GAC/B,OAAOA,EAAE1f,MAAQA,EAAM,GAAS,GAAS,CAAC,EAAG0f,GAAI,CAAEzR,SAAUA,IAAcyR,CAC/E,IACO,CAAC,EAAa,GACzB,KAAK,EAID,OAHAjP,EAAQlV,EAAG2C,OACXwB,QAAQY,MAAM,eAAgBmQ,GAC9BnC,EAAS,qBACF,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,EAAI,EACAqR,EAAgB,SAAU3f,GAAO,OAAO,QAAe,OAAQ,OAAQ,EAAG,WAC1E,IAAI6d,EAAS3K,EACb,OAAO,GAAYtU,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACD,IAAK2hB,QAAQ,2BACT,MAAO,CAAC,GACZrkB,EAAG0C,MAAQ,EACf,KAAK,EAGD,OAFA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,KACtB0e,EAAUX,EAAS9W,KAAK,SAAUsZ,GAAK,OAAOA,EAAE1f,MAAQA,CAAK,IAGtD,CAAC,GAAa,SAAU,QAAIzF,EAAI,QAASsjB,EAAQ9iB,SAD7C,CAAC,GAEhB,KAAK,EAGD,OAFAQ,EAAG2C,OACHif,EAAYD,EAASpZ,OAAO,SAAU4b,GAAK,OAAOA,EAAE1f,MAAQA,CAAK,IAC1D,CAAC,EAAa,GACzB,KAAK,EAID,OAHAkT,EAAQ3X,EAAG2C,OACXwB,QAAQY,MAAM,gBAAiB4S,GAC/B5E,EAAS,sBACF,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,EAAI,EACAuR,EAAa,SAAUhe,GACvB,OAAKA,GAEMA,EAAUwX,OAASxX,EAAUwX,SAAW,IAAIvX,KAAKD,IAChDie,mBAAmB,SAFpB,GAGf,EACIC,EAAmB,SAAU/R,GAC7B,IAAKA,EACD,OAAO,EACX,IAAIgS,EAAgBhS,EAAUqL,OAASrL,EAAUqL,SAAW,IAAIvX,KAAKkM,GAGrE,QAFU,IAAIlM,MACW6a,UAAYqD,EAAcrD,WAAa,KACxC,CAC5B,EAKA,OAAIxb,GACQ,SAAK,MAAO,CAAEkD,UAAW,0CAA2CtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,cAAetD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,4EAA6E,SAAK,IAAK,CAAEA,UAAW,qBAAsBtD,SAAUhD,EAAEoD,gBAErS,UAAM,MAAO,CAAEkD,UAAW,YAAatD,SAAU,CAACT,IAAU,SAAK,MAAO,CAAE+D,UAAW,sFAAuFtD,SAAUT,KAAW,UAAM,MAAO,CAAE+D,UAAW,mGAAoGtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,wCAAyCtD,UAAU,SAAK,KAAM,CAAEsD,UAAW,mCAAoCtD,SAAUhD,EAAE2gB,iBAAmB,SAAK,MAAO,CAAEtX,IAAKsW,EAAcrZ,UAAW,+DAAgEtD,SAAUyc,GAE3lB,SAAK,MAAO,CAAEnZ,UAAW,MAAOtD,UART,SAAK,MAAO,CAAEsD,UAAW,mBAAoBtD,SAAUqc,EAAiB3V,IAAI,SAAUoW,GAAW,OAAQ,UAAM,MAAO,CAAExZ,UAAW,cAAetD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,uEAAwEtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,mCAAoCtD,SAAU8c,EAAQ/d,aAAc,SAAK,MAAO,CAAEuE,UAAW,8BAA+BtD,SAAUgf,EAAiBlC,EAAQ7P,YAAc,UAAM,WAAW,CAAEjN,SAAU,EAAC,SAAKkf,GAAA,EAAU,CAAE5b,UAAW,4BAA6B,SAAK,OAAQ,CAAEA,UAAW,yBAA0BtD,SAAUhD,EAAEihB,aAAkB,UAAM,WAAW,CAAEje,SAAU,EAAC,SAAKmf,GAAA,EAAiB,CAAE7b,UAAW,0BAA2B,SAAK,OAAQ,CAAEA,UAAW,uBAAwBtD,SAAUhD,EAAEkhB,mBAAwB,UAAM,MAAO,CAAE5a,UAAW,iBAAkBtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,oCAAqCtD,SAAU,EAAC,UAAM,OAAQ,CAAEsD,UAAW,wBAAyBtD,SAAU,CAAChD,EAAE8f,QAAS,QAAS,SAAK,OAAQ,CAAExZ,UAAW,iCAAkCtD,SAAU8c,EAAQ9iB,YAAc,UAAM,MAAO,CAAEsJ,UAAW,oCAAqCtD,SAAU,EAAC,UAAM,OAAQ,CAAEsD,UAAW,wBAAyBtD,SAAU,CAAChD,EAAE6gB,MAAO,QAAS,SAAK,OAAQ,CAAEva,UAAW,wBAAyBtD,SAAU+b,GAA6Be,EAAQ9Q,YAAa8Q,EAAQnjB,eAAiB,UAAM,MAAO,CAAE2J,UAAW,oCAAqCtD,SAAU,EAAC,UAAM,OAAQ,CAAEsD,UAAW,wBAAyBtD,SAAU,CAAChD,EAAErD,QAAS,QAAS,SAAK,OAAQ,CAAE2J,UAAW,wBAAyBtD,SAAU8c,EAAQnjB,SAAW,UAAY,UAAM,MAAO,CAAE2J,UAAW,oCAAqCtD,SAAU,EAAC,UAAM,OAAQ,CAAEsD,UAAW,wBAAyBtD,SAAU,CAAChD,EAAEmC,OAAQ,QAAS,SAAK,OAAQ,CAAEmE,UAAW,wBAAyBtD,SAAU8c,EAAQ3d,aAAe,UAAM,MAAO,CAAEmE,UAAW,oCAAqCtD,SAAU,EAAC,UAAM,OAAQ,CAAEsD,UAAW,wBAAyBtD,SAAU,CAAChD,EAAEgQ,UAAW,QAAS,SAAK,OAAQ,CAAE1J,UAAW,wBAAyBtD,SAAU8e,EAAWhC,EAAQ9P,oBAAuB,UAAM,MAAO,CAAE1J,UAAW,oEAAqEtD,SAAU,EAAC,UAAM,KAAM,CAAE2B,GAAI,iCAAiCnG,OAAOzB,EAAgB+iB,EAAQ9iB,QAASsJ,UAAW,oIAAqItD,SAAU,EAAC,SAAKgH,EAAA,EAAc,CAAE1D,UAAW,aAAc,SAAK,OAAQ,CAAEtD,SAAU,aAAmC,UAAM,KAAM,CAAE2B,GAAI,iBAAiBnG,OAAOshB,EAAQ9iB,OAAQsJ,UAAW,iIAAkItD,SAAU,EAAC,SAAKiH,EAAA,EAAqB,CAAE3D,UAAW,aAAc,SAAK,OAAQ,CAAEtD,SAAUhD,EAAE4gB,YAAehB,IAAc,UAAM,WAAW,CAAE5c,SAAU,EAAC,SAAK,SAAU,CAAEwG,QAAS,WAAc,OAAOkY,EAAe5B,EAAQ7d,KAAM6d,EAAQ5P,SAAW,EAAG5J,UAAW,gFAAgF9H,OAAOshB,EAAQ5P,SACpmG,6DACA,2DAA4DlN,SAAU8c,EAAQ5P,SAAiC,OAArBqP,EAA4B,MAAQ,WAAoC,OAArBA,EAA4B,KAAO,aAAe,UAAM,SAAU,CAAE/V,QAAS,WAAc,OAAOoY,EAAc9B,EAAQ7d,IAAM,EAAGqE,UAAW,8HAA+H4E,MAAOlL,EAAEghB,OAAQhe,SAAU,EAAC,SAAKof,GAAA,EAAW,CAAE9b,UAAW,aAAc,SAAK,OAAQ,CAAEtD,SAAUhD,EAAEghB,oBAA2BlB,EAAQ7d,IAAO,QAQtjB,SAAK,MAAO,CAAEqE,UAAW,kBAAmBtD,UAAU,UAAM,QAAS,CAAEsD,UAAW,yCAA0CtD,SAAU,EAAC,SAAK,QAAS,CAAEsD,UAAW,iBAAkBtD,UAAU,UAAM,KAAM,CAAEA,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,mFAAoFtD,SAAU,UAA+B,SAAK,KAAM,CAAEsD,UAAW,mFAAoFtD,SAAUhD,EAAE4gB,UAAW,SAAK,KAAM,CAAEta,UAAW,mFAAoFtD,SAAUhD,EAAErD,WAAY,SAAK,KAAM,CAAE2J,UAAW,mFAAoFtD,SAAUhD,EAAEmC,UAAW,SAAK,KAAM,CAAEmE,UAAW,mFAAoFtD,SAAUhD,EAAE+B,aAAc,SAAK,KAAM,CAAEuE,UAAW,mFAAoFtD,SAAUhD,EAAE8f,WAAY,SAAK,KAAM,CAAExZ,UAAW,mFAAoFtD,SAAUhD,EAAE6gB,SAAU,SAAK,KAAM,CAAEva,UAAW,mFAAoFtD,SAAUhD,EAAEgQ,aAAc,SAAK,KAAM,CAAE1J,UAAW,mFAAoFtD,SAAUhD,EAAE8gB,SAAWlB,IAAc,SAAK,KAAM,CAAEtZ,UAAW,mFAAoFtD,SAAUhD,EAAE+gB,WAAcnB,IAAc,SAAK,KAAM,CAAEtZ,UAAW,mFAAoFtD,SAAUhD,EAAEghB,eAAmB,SAAK,QAAS,CAAE1a,UAAW,6CAA8CtD,SAAUqc,EAAiB3V,IAAI,SAAUoW,GAAW,OAAQ,UAAM,KAAM,CAAExZ,UAAW,yCAA0CtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,0CAA2CtD,UAAU,SAAK,KAAM,CAAE2B,GAAI,iCAAiCnG,OAAOzB,EAAgB+iB,EAAQ9iB,QAASsJ,UAAW,qEAAsE4E,MAAO,QAA6BlI,UAAU,SAAKgH,EAAA,EAAc,CAAE1D,UAAW,gCAAmC,SAAK,KAAM,CAAEA,UAAW,0CAA2CtD,UAAU,SAAK,KAAM,CAAE2B,GAAI,iBAAiBnG,OAAOshB,EAAQ9iB,OAAQsJ,UAAW,qEAAsE4E,MAAO,SAAmClI,UAAU,SAAKiH,EAAA,EAAqB,CAAE3D,UAAW,+BAAkC,SAAK,KAAM,CAAEA,UAAW,0CAA2CtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,0BAA2BtD,SAAU8c,EAAQnjB,SAAW,SAAW,SAAK,KAAM,CAAE2J,UAAW,0CAA2CtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,0BAA2BtD,SAAU8c,EAAQ3d,YAAc,SAAK,KAAM,CAAEmE,UAAW,0CAA2CtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,0BAA2BtD,SAAU8c,EAAQ/d,eAAiB,SAAK,KAAM,CAAEuE,UAAW,0CAA2CtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,mCAAoCtD,SAAU8c,EAAQ9iB,WAAa,SAAK,KAAM,CAAEsJ,UAAW,0CAA2CtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,0BAA2BtD,SAAU+b,GAA6Be,EAAQ9Q,YAAa8Q,EAAQnjB,cAAgB,SAAK,KAAM,CAAE2J,UAAW,0CAA2CtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,0BAA2BtD,SAAU8e,EAAWhC,EAAQ9P,gBAAkB,SAAK,KAAM,CAAE1J,UAAW,0CAA2CtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,6CAA8CtD,SAAUgf,EAAiBlC,EAAQ7P,YAAc,UAAM,WAAW,CAAEjN,SAAU,EAAC,SAAKkf,GAAA,EAAU,CAAE5b,UAAW,4BAA6B,SAAK,OAAQ,CAAEA,UAAW,yBAA0BtD,SAAUhD,EAAEihB,aAAkB,UAAM,WAAW,CAAEje,SAAU,EAAC,SAAKmf,GAAA,EAAiB,CAAE7b,UAAW,0BAA2B,SAAK,OAAQ,CAAEA,UAAW,uBAAwBtD,SAAUhD,EAAEkhB,iBAAuBtB,IAAc,SAAK,KAAM,CAAEtZ,UAAW,0CAA2CtD,UAAU,SAAK,SAAU,CAAEwG,QAAS,WAAc,OAAOkY,EAAe5B,EAAQ7d,KAAM6d,EAAQ5P,SAAW,EAAG5J,UAAW,8DAA8D9H,OAAOshB,EAAQ5P,SACl3I,6DACA,2DAA4DlN,SAAU8c,EAAQ5P,SAAiC,OAArBqP,EAA4B,MAAQ,WAAoC,OAArBA,EAA4B,KAAO,cAAmBK,IAAc,SAAK,KAAM,CAAEtZ,UAAW,0CAA2CtD,UAAU,SAAK,SAAU,CAAEwG,QAAS,WAAc,OAAOoY,EAAc9B,EAAQ7d,IAAM,EAAGqE,UAAW,kFAAmF4E,MAAOlL,EAAEghB,OAAQhe,UAAU,SAAKof,GAAA,EAAW,CAAE9b,UAAW,kBAAwBwZ,EAAQ7d,IAAO,YAA8C,IAA5Bod,EAAiBniB,SAAiB,UAAM,MAAO,CAAEoJ,UAAW,mBAAoBtD,SAAU,EAAC,SAAKqf,GAAA,EAAe,CAAE/b,UAAW,0CAA2C,SAAK,IAAK,CAAEA,UAAW,gBAAiBtD,SAA+B,OAArBuc,EAA4B,gBAAkB,wCACh4B,ECpUA,IAAI,GAAsC,WAStC,OARA,GAAW9hB,OAAO2G,QAAU,SAASpE,GACjC,IAAK,IAAIqE,EAAGC,EAAI,EAAGxD,EAAIyD,UAAUrH,OAAQoH,EAAIxD,EAAGwD,IAE5C,IAAK,IAAIE,KADTH,EAAIE,UAAUD,GACO7G,OAAOgD,UAAUgE,eAAevD,KAAKmD,EAAGG,KACzDxE,EAAEwE,GAAKH,EAAEG,IAEjB,OAAOxE,CACX,EACO,GAASL,MAAMkB,KAAM0D,UAChC,EACI,GAAwC,SAAU5F,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,UAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,EAAE,SAAUG,GAAWA,EAAQG,EAAQ,IAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,OAClE,EACJ,EACI,GAA4C,SAAUV,EAASkB,GAC/D,IAAsGC,EAAGC,EAAGC,EAAxGC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPH,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGI,KAAM,GAAIC,IAAK,IAAeC,EAAI7C,OAAO8C,QAA4B,mBAAbC,SAA0BA,SAAW/C,QAAQgD,WACtL,OAAOH,EAAEjB,KAAOqB,EAAK,GAAIJ,EAAS,MAAII,EAAK,GAAIJ,EAAU,OAAII,EAAK,GAAsB,mBAAXC,SAA0BL,EAAEK,OAAOC,UAAY,WAAa,OAAOC,IAAM,GAAIP,EAC1J,SAASI,EAAKI,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIlB,EAAG,MAAM,IAAImB,UAAU,mCAC3B,KAAOX,IAAMA,EAAI,EAAGU,EAAG,KAAOf,EAAI,IAAKA,OACnC,GAAIH,EAAI,EAAGC,IAAMC,EAAY,EAARgB,EAAG,GAASjB,EAAU,OAAIiB,EAAG,GAAKjB,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEkB,KAAKnB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEkB,KAAKnB,EAAGiB,EAAG,KAAKvB,KAAM,OAAOO,EAE3J,OADID,EAAI,EAAGC,IAAGgB,EAAK,CAAS,EAARA,EAAG,GAAQhB,EAAEb,QACzB6B,EAAG,IACP,KAAK,EAAG,KAAK,EAAGhB,EAAIgB,EAAI,MACxB,KAAK,EAAc,OAAXf,EAAEC,QAAgB,CAAEf,MAAO6B,EAAG,GAAIvB,MAAM,GAChD,KAAK,EAAGQ,EAAEC,QAASH,EAAIiB,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKf,EAAEI,IAAIc,MAAOlB,EAAEG,KAAKe,MAAO,SACxC,QACI,MAAkBnB,GAAZA,EAAIC,EAAEG,MAAYlD,OAAS,GAAK8C,EAAEA,EAAE9C,OAAS,KAAkB,IAAV8D,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEf,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVe,EAAG,MAAchB,GAAMgB,EAAG,GAAKhB,EAAE,IAAMgB,EAAG,GAAKhB,EAAE,IAAM,CAAEC,EAAEC,MAAQc,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYf,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIA,EAAIgB,EAAI,KAAO,CACpE,GAAIhB,GAAKC,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIC,EAAEI,IAAIe,KAAKJ,GAAK,KAAO,CAC9DhB,EAAE,IAAIC,EAAEI,IAAIc,MAChBlB,EAAEG,KAAKe,MAAO,SAEtBH,EAAKnB,EAAKqB,KAAKvC,EAASsB,EAC5B,CAAE,MAAOX,GAAK0B,EAAK,CAAC,EAAG1B,GAAIS,EAAI,CAAG,CAAE,QAAUD,EAAIE,EAAI,CAAG,CACzD,GAAY,EAARgB,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE7B,MAAO6B,EAAG,GAAKA,EAAG,QAAU,EAAGvB,MAAM,EAC9E,CAtBgDL,CAAK,CAAC0B,EAAGC,GAAK,CAAG,CAuBrE,EA8BIuhB,GAAyB,SAAUxe,GACnC,OAAKA,EAGDA,GAAyC,mBAArBA,EAAUwX,OACvBxX,EAAUwX,SAGI,iBAAdxX,EACA,IAAIC,KAAKD,GAGhBA,aAAqBC,KACdD,EAGc,iBAAdA,EACA,IAAIC,KAAKD,GAEb,IAAIC,KAjBA,IAAIA,IAkBnB,EAqwBA,SApwBoB,WAChB,IAAIvG,EACA0F,EAAOP,IAAUO,KACjBkN,GAAW,UAEXmS,GADe,UAAkB,GACDrb,IAAI,SAExCvF,QAAQC,IAAI,kCAAmC,CAC3CsB,KAAMA,EAAO,CACTlG,MAAOkG,EAAKlG,MACZgF,KAAMkB,EAAKlB,KACXD,UAAWmB,EAAKnB,WAChB,OACJwgB,iBAAkBA,EAClBze,WAAW,IAAIC,MAAOC,gBAE1B,IAAIrG,GAAK,IAAAsF,WAAS,GAAOG,EAAUzF,EAAG,GAAI0F,EAAa1F,EAAG,GACtDQ,GAAK,IAAA8E,UAAS,MAAOV,EAAQpE,EAAG,GAAIoS,EAAWpS,EAAG,GAClDwJ,GAAK,IAAA1E,UAAS,IAAKuf,EAAe7a,EAAG,GAAI8a,EAAkB9a,EAAG,GAC9DG,GAAK,IAAA7E,UAAS,CACdwE,QAAQ,EACRib,KAAM,KACNnH,UAAW,GACXC,QAAS,GACTmH,UAAW,GACXtH,SAAU,IACVuH,EAAkB9a,EAAG,GAAI+a,EAAqB/a,EAAG,GA2DjDG,GAAK,IAAAhF,UAAS,MAAO6f,EAAa7a,EAAG,GAAI8a,EAAgB9a,EAAG,IAChE,IAAA3E,WAAU,WACN3B,QAAQC,IAAI,kCAAmC,CAC3CsB,KAAMA,EAAO,CACTlG,MAAOkG,EAAKlG,MACZgF,KAAMkB,EAAKlB,KACXD,UAAWmB,EAAKnB,WAChB,OACJwgB,iBAAkBA,EAClBze,WAAW,IAAIC,MAAOC,gBAE1BrC,QAAQC,IAAI,kCAAmC,CAC3C2gB,iBAAkBA,EAClBrf,KAAMA,EACN8f,kBAAkB,IAEoB,QAAe,OAAQ,OAAQ,EAAG,WACxE,IAAIvf,EACJ,OAAO,GAAY5C,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EASD,OARAyB,QAAQC,IAAI,sCAAuC,CAC/C2gB,iBAAkBA,EAClBrf,KAAMA,EAAO,CACTlG,MAAOkG,EAAKlG,MACZgF,KAAMkB,EAAKlB,KACXD,UAAWmB,EAAKnB,WAChB,OAEHwgB,GACL5gB,QAAQC,IAAI,yBAA0B2gB,GAC/B,CAAC,GAxFOvlB,EAwFyBulB,EAxFT,QAAe,OAAQ,OAAQ,EAAG,WACjF,IAAkBhlB,EAAI+D,EAAgBzD,EAAa0D,EAAYC,EAASC,EAAUC,EAC9ElE,EACJ,OAAO,GAAYqD,KAAM,SAAUlD,GAC/B,OAAQA,EAAGuC,OACP,KAAK,EACDyB,QAAQC,IAAI,mBAAoB5E,GAEhCO,EAAK,EAAG+D,EADO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAEtE3D,EAAGuC,MAAQ,EACf,KAAK,EACD,KAAM3C,EAAK+D,EAAepE,QAAS,MAAO,CAAC,EAAa,GACxDW,EAAcyD,EAAe/D,GAC7BI,EAAGuC,MAAQ,EACf,KAAK,EAGD,OAFAvC,EAAGyC,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBG,GAAa,QAAI/E,EAAI,SAASgC,OAAOX,GAAcb,GAC5C,CAAC,GAAa,QAAOuE,IAChC,KAAK,EAED,OADAC,EAAU7D,EAAGwC,QACD0B,UACRJ,EAAWD,EAAQM,OACnBH,QAAQC,IAAI,KAAUpD,OAAOX,EAAa,iBAA+D,CACrGb,MAAOyE,EAASzE,MAChB+E,UAAWN,EAASM,UACpBlE,YAAa4D,EAAS5D,YACtBlB,QAAS8E,EAAS9E,QAClBsmB,YAAuC,QAAzBzlB,EAAKiE,EAASyhB,aAA+B,IAAZ1lB,OAAqB,EAAIA,EAAGN,SAAW,IAEnF,CAAC,EAAc,CACd+E,IAAKR,EAASQ,IACdjF,MAAOyE,EAASzE,MAChBkF,YAAaT,EAASS,YACtBF,KAAMP,EAASO,KACfD,UAAWN,EAASM,UACpBlE,YAAa4D,EAAS5D,YACtBlB,QAAS8E,EAAS9E,QAClBwF,OAAQV,EAASU,OACjBC,KAAMX,EAASW,KACfC,WAAYZ,EAASY,cAG1B,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAX,EAAU/D,EAAGwC,OACbwB,QAAQY,MAAM,KAAU/D,OAAOX,EAAa,WAAgC6D,GACrE,CAAC,EAAa,GACzB,KAAK,EAED,OADAnE,IACO,CAAC,EAAa,GACzB,KAAK,EAED,OADAoE,QAAQY,MAAM,qBAAsBvF,GAC7B,CAAC,EAAc,MAElC,EACJ,MA+BkD,CAAC,EAAa,GAGhD,KAAK,EAID,OAHAyG,EAAgBjG,EAAG2C,OACnBwB,QAAQC,IAAI,+BAAgC6B,GAC5Csf,EAActf,GACP,CAAC,EAAa,GACzB,KAAK,EACD9B,QAAQC,IAAI,oBACZD,QAAQC,IAAI,6BAA8BsB,GAC1C6f,EAAc7f,GACd1F,EAAG0C,MAAQ,EACf,KAAK,EAED,OADAyB,QAAQC,IAAI,uBACL,CAAC,GArGH,IAAU5E,CAuG3B,EACJ,EAEJ,EAAG,CAACulB,EAAkBrf,IAEtB,IAAI6N,GAAK,IAAA9N,UAAS,CACdkgB,gBAAiB,IACjBC,aAAc,GACdC,UAAW,IACXC,EAAWvS,EAAG,GAAIwS,EAAcxS,EAAG,IAsEvC,IAAAzN,WAAU,WACN3B,QAAQC,IAAI,uCAAwC,CAChDkhB,WAAYA,EAAa,CACrB9lB,MAAO8lB,EAAW9lB,MAClBgF,KAAM8gB,EAAW9gB,KACjBnE,YAAailB,EAAWjlB,aACxB,OACJiG,WAAW,IAAIC,MAAOC,gBAEtB8e,EA7EwC,QAAe,OAAQ,OAAQ,EAAG,WAC9E,IAAIvhB,EAAYC,EAASC,EAAU0hB,EAAiBD,EAAOM,EAAiBC,EAAc5f,EACtFrG,EACJ,OAAO,GAAYqD,KAAM,SAAUlD,GAC/B,OAAQA,EAAGuC,OACP,KAAK,EACD,KAAM4iB,aAAoD,EAAIA,EAAW9lB,UAAY8lB,aAAoD,EAAIA,EAAWjlB,aAGpJ,OAFA8D,QAAQY,MAAM,oBACdc,GAAW,GACJ,CAAC,GAEZ1F,EAAGuC,MAAQ,EACf,KAAK,EAQD,OAPAvC,EAAGyC,KAAKgB,KAAK,CAAC,EAAG,EAAG,EAAG,IACvBO,QAAQC,IAAI,uBAAwB,CAChC5E,MAAO8lB,EAAW9lB,MAClBa,YAAailB,EAAWjlB,YACxBkE,UAAW+gB,EAAW/gB,YAE1BR,GAAa,QAAI/E,EAAI,SAASgC,OAAOskB,EAAWjlB,aAAcilB,EAAW9lB,OAClE,CAAC,GAAa,QAAOuE,IAChC,KAAK,EAED,OADAC,EAAU7D,EAAGwC,QACA0B,UAKbJ,EAAWD,EAAQM,OACnBH,QAAQC,IAAI,oBAAqB,CAC7BqhB,YAAuC,QAAzBzlB,EAAKiE,EAASyhB,aAA+B,IAAZ1lB,OAAqB,EAAIA,EAAGN,SAAW,EACtFmmB,UAAW5hB,EAAS4hB,UACpBF,gBAAiB1hB,EAAS0hB,kBAE9BA,EAAkB1hB,EAAS0hB,iBACvBtE,KAAKC,MAA4C,IAArCrd,EAASiiB,kBAAoB,MAAcjiB,EAAS2hB,cAAgB,KACpFG,EAAY,CACRJ,gBAAiBA,EACjBC,aAAc3hB,EAAS2hB,cAAgB,GACvCC,UAAW5hB,EAAS4hB,WAAa,IAErCH,EAAQzhB,EAASyhB,OAAS,GAC1BvhB,QAAQC,IAAI,eAAgBshB,EAAMhmB,OAAQ,KAC1CulB,EAAgBS,GAChBM,EAAkB/hB,EAAS4hB,WAAa,GACxCI,EAAeP,EAAMhmB,UACEsmB,EAAyB,CAAC,EAAa,IAC9D7hB,QAAQC,IAAI,kBAA+DpD,OAAOilB,EAAc,OAAYjlB,OAAOglB,IAC5G,CAAC,EAAaG,EAAgBH,OAxBjC7hB,QAAQY,MAAM,sBACdc,GAAW,GACJ,CAAC,IAuBhB,KAAK,EACD1F,EAAGwC,OACHxC,EAAGuC,MAAQ,EACf,KAAK,EAED,OADAyB,QAAQC,IAAI,oBACL,CAAC,EAAa,GACzB,KAAK,EAID,OAHAiC,EAAUlG,EAAGwC,OACbwB,QAAQY,MAAM,oBAAqBsB,GACnC0M,EAAS,0BACF,CAAC,EAAa,GACzB,KAAK,EAED,OADAlN,GAAW,GACJ,CAAC,GACZ,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,GAeQ1B,QAAQC,IAAI,2BAEpB,EAAG,CAACkhB,KAEJ,IAAAxf,WAAU,WACN,IAAMwf,aAAoD,EAAIA,EAAW9lB,SAAY8lB,aAAoD,EAAIA,EAAWjlB,eAAgBuF,EAAxK,CAEAzB,QAAQC,IAAI,uBACZ,IAAIL,GAAa,QAAI/E,EAAI,SAASgC,OAAOskB,EAAWjlB,aAAcilB,EAAW9lB,OACzEuG,GAAc,QAAWhC,EAAY,SAAUqiB,GAC/C,IAAIpmB,EACJ,GAAIomB,EAAY/hB,SAAU,CACtB,IAAIJ,EAAWmiB,EAAY9hB,OAC3BH,QAAQC,IAAI,mBAAoB,CAC5BqhB,YAAuC,QAAzBzlB,EAAKiE,EAASyhB,aAA+B,IAAZ1lB,OAAqB,EAAIA,EAAGN,SAAW,EACtFmmB,UAAW5hB,EAAS4hB,UACpBF,gBAAiB1hB,EAAS0hB,kBAG9B,IAAID,EAAQzhB,EAASyhB,OAAS,GAC9BT,EAAgBS,EACpB,CACJ,EAAG,SAAU3gB,GACTZ,QAAQY,MAAM,oBAAqBA,EACvC,GACA,OAAO,WACHZ,QAAQC,IAAI,oBACZ2B,GACJ,CAtBU,CAuBd,EAAG,CAACuf,EAAY1f,IAEhB,IAAIugB,EAAkB,SAAUE,GAAe,OAAO,QAAe,OAAQ,EAAG9kB,QAAS,WACrF,IAAIwC,EAAYC,EAASC,EAAUqiB,EAAcL,EAAcM,EAAYL,EAAkBN,EAAcY,EAAcC,EAAY3f,EAAG4f,EAASC,EACjJ,OAAO,GAAYtjB,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACD,OAAM4iB,aAAoD,EAAIA,EAAW9lB,SAAY8lB,aAAoD,EAAIA,EAAWjlB,cAIxJ0D,GAAa,QAAI/E,EAAI,SAASgC,OAAOskB,EAAWjlB,aAAcilB,EAAW9lB,OAClE,CAAC,GAAa,QAAOuE,MAJxBI,QAAQY,MAAM,iBACP,CAAC,EAAc,KAI9B,KAAK,EAED,KADAf,EAAUhE,EAAG2C,QACA0B,SAET,OADAF,QAAQY,MAAM,sBACP,CAAC,EAAc,IAU1B,GARAd,EAAWD,EAAQM,OACnBgiB,EAAeriB,EAASyhB,OAAS,GACjCO,EAAeK,EAAa5mB,OAE5BwmB,EAAmBjiB,EAASiiB,kBAAoB,IAChDN,EAAe3hB,EAAS2hB,cAAgB,GACxCW,EAAalF,KAAKC,MAAO4E,EAAmBN,EAAgB,IAC5DY,EA7TgC,SAAUrf,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBN,UAAUrH,OAAc,IAAK,IAA4B4H,EAAxBR,EAAI,EAAGS,EAAIH,EAAK1H,OAAYoH,EAAIS,EAAGT,KACxEQ,GAAQR,KAAKM,IACRE,IAAIA,EAAKE,MAAMvE,UAAUwE,MAAM/D,KAAK0D,EAAM,EAAGN,IAClDQ,EAAGR,GAAKM,EAAKN,IAGrB,OAAOK,EAAGnG,OAAOsG,GAAME,MAAMvE,UAAUwE,MAAM/D,KAAK0D,GACtD,CAqTmC,CAAc,GAAIkf,GAAc,GAC3CL,EAAeI,EAGf,IAFAI,EAAaJ,EAAcJ,EAC3B9hB,QAAQC,IAAI,GAAGpD,OAAOylB,EAAY,oBAAiEzlB,OAAOulB,EAAY,UACjHzf,EAAImf,EAAcnf,EAAIuf,EAAavf,IACpC4f,EAAU,CACNze,GAAI,QAAQjH,OAAO8F,EAAI,GACvB+C,KAAM,KAAU7I,OAAO8F,EAAI,GAC3B8f,WAAY9f,EAAI,EAChBwc,OAAQ,YACRiD,WAAYA,EACZ/T,UAAW,IAAIjM,MAEnBigB,EAAa5iB,KAAK8iB,QAGjBT,EAAeI,GACpBM,EAAgBV,EAAeI,EAC/BliB,QAAQC,IAAI,GAAGpD,OAAO2lB,EAAe,sBACrCH,EAAeA,EAAa/e,MAAM,EAAG4e,IAIrCG,EAAeF,EAAapa,IAAI,SAAUgZ,GAAQ,OAAQ,GAAS,GAAS,CAAC,EAAGA,GAAO,CAAEqB,WAAYA,GAAgB,GAGzH,MAAO,CAAC,GAAa,QAAUxiB,EAAY,CACnC2hB,MAAOc,EACPK,UAAW,IAAItgB,QAE3B,KAAK,EAID,OAFAvG,EAAG2C,OACHwB,QAAQC,IAAI,cAAeoiB,EAAa9mB,QACjC,CAAC,EAAc8mB,GAElC,EACJ,EAAI,EAEA9S,GAAK,IAAAjO,UAAS,IAAIc,MAASugB,EAAcpT,EAAG,GAAIqT,EAAiBrT,EAAG,IAExE,IAAA5N,WAAU,WACN,IAAIkhB,EAAWC,YAAY,WACvBF,EAAe,IAAIxgB,KACvB,EAAG,KACH,OAAO,WAAc,OAAO2gB,cAAcF,EAAW,CACzD,EAAG,IAEH,IAAIG,GAAoB,IAAApf,aAAY,SAAUmd,GAC1C,IAAKA,EAAKkC,cACN,MAAO,KACX,IAAIrJ,EAAY+G,GAAuBI,EAAKkC,eAExCC,EADMP,EACO1F,UAAYrD,EAAUqD,UAEnCiG,EAAS,IACTA,EAAS,GAEb,IAAIC,EAAcjG,KAAKkG,MAAMF,EAAS,KAClCG,EAAQnG,KAAKkG,MAAMD,EAAc,IACjCG,EAAUH,EAAc,GACxBI,EAAUrG,KAAKkG,MAAOF,EAAS,IAAe,KAClD,OAAIG,EAAQ,EACD,GAAGxmB,OAAOwmB,EAAO,OAAiBxmB,OAAOymB,EAAS,MAAWzmB,OAAO0mB,EAAS,KAE/ED,EAAU,EACR,GAAGzmB,OAAOymB,EAAS,MAAWzmB,OAAO0mB,EAAS,KAG9C,GAAG1mB,OAAO0mB,EAAS,IAElC,EAAG,CAACZ,IAEAa,GAAsB,IAAA5f,aAAY,SAAUmd,GAC5C,IAAKA,EAAKkC,eAAiC,aAAhBlC,EAAK5B,OAC5B,OAAO,EAEX,IAAIpb,EAAM4e,EACNM,EAAgBtC,GAAuBI,EAAKkC,eAE5CQ,EAAY1f,EAAIkZ,UAAYgG,EAAchG,UAE1CwG,EAAY,IACZA,EAAY,GAEhB,IAAIC,EAAiBxG,KAAKkG,MAAMK,EAAY,KAExCjC,EAAkBG,EAASH,gBAI3BmC,EAAmBD,GAAiC,GAHrC/B,EAASF,cAS5B,OAFyBvE,KAAKkG,MAAMO,GACAnC,CAExC,EAAG,CAACmB,EAAahB,IACbiC,EAAiB,SAAUzE,GAC3B,OAAQA,GACJ,IAAK,YACD,MAAO,kEACX,IAAK,WACD,MAAO,sDACX,IAAK,cACD,MAAO,+DACX,QACI,MAAO,yDAEnB,EACI0E,EAAgB,SAAU1E,GAC1B,OAAQA,GACJ,IAAK,YACD,MAAO,QACX,IAAK,WACD,MAAO,OACX,IAAK,cACD,MAAO,OACX,QACI,MAAO,SAEnB,EAoDI2E,EAAmB,SAAU/C,EAAMlH,GAAW,OAAO,QAAe,OAAQ,OAAQ,EAAG,WACvF,IAAIlZ,EAASyX,EAAuBwB,EAAWmK,EAAarK,EAAUsK,EAASC,EAAcC,EAAYC,EAAWC,EAAWnJ,EAAOoJ,EAAMC,EAAWC,EAAYC,EAA0BC,EAAkBlI,EAC/M,OAAO,GAAYrd,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACD,KAAM4iB,aAAoD,EAAIA,EAAW9lB,UAAY8lB,aAAoD,EAAIA,EAAWjlB,aACpJ,MAAO,CAAC,GACZL,EAAG0C,MAAQ,EACf,KAAK,EAMD,OALA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBkB,EAAUvF,EAAgB+lB,EAAW9lB,OACrC+c,EAAwB9c,EAAqB6lB,EAAWjlB,cACxD0d,EAAY+G,GAAuBI,EAAKkC,iBAEpBrJ,aAAqBxX,OAASsiB,MAAM9K,EAAUqD,YAIlE8G,EAAcpD,GAAuB9G,KACfkK,aAAuB3hB,OAASsiB,MAAMX,EAAY9G,YAIxEvD,EAAW8J,EAAoBzC,GAC/BiD,EAAUD,EAAY9G,UAAYrD,EAAUqD,UAC5CgH,EAAe/G,KAAKkG,MAAMY,EAAU,KACpCE,EAAaS,YAAYV,EAAe,IAAI1O,QAAQ,IACpD4O,EAAYvK,EAAUwG,mBAAmB,QAAS,CAAEwE,QAAS,SAC7DR,EAAYxK,EAAUQ,WACtBa,EAAQrB,EAAUV,WAAa,EAC/BmL,EAAOzK,EAAUe,cACjB2J,EAAmC,IAAvB1K,EAAUiL,UAAyC,IAAvBjL,EAAUiL,SAClDN,EAAa,CACTzgB,GAAI,QAAQjH,OAAOkkB,EAAKjd,GAAI,KAAKjH,OAAOuF,KAAK2B,OAC7C+gB,OAAQ/D,EAAKjd,GACbgW,SAAUiH,EAAKrb,KACf/E,QAASA,EACTiZ,UAAWA,EAAUxO,eAAe,SACpCyO,QAASkK,EACLA,EAAY3Y,eAAe,UAC3B,IAAIhJ,MAAOgJ,eAAe,SAC9B6Y,aAAcA,EACdC,WAAYA,EACZxK,SAAUA,EACVyK,UAAWA,EACXC,UAAWA,EACXnJ,MAAOA,EACPoJ,KAAMA,EACNC,UAAWA,EACXjW,UAAW,IAAIjM,MAEnBoiB,GAA2B,QAAW3pB,EAAI,eAAegC,OAAOub,IAChEqM,GAAmB,QAAID,EAA0BD,EAAWzgB,IACrD,CAAC,GAAa,QAAO2gB,EAAkBF,MAjC1CvkB,QAAQY,MAAM,qBAAsBiZ,GAC7B,CAAC,KANR7Z,QAAQY,MAAM,uBAAwBmgB,EAAKkC,eACpC,CAAC,IAsChB,KAAK,EAGD,OAFApnB,EAAG2C,OACHwB,QAAQC,IAAI,uBAAwBskB,GAC7B,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAhI,EAAU1gB,EAAG2C,OACbwB,QAAQY,MAAM,sBAAuB2b,GAC9B,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,EAAI,EAmMAwI,EAAuB,WACvB7D,EAAmB,CACfpb,QAAQ,EACRib,KAAM,KACNnH,UAAW,GACXC,QAAS,GACTmH,UAAW,GACXtH,SAAU,GAElB,EA2BA,OAAIjY,GACQ,SAAK,MAAO,CAAEkD,UAAW,0CAA2CtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,cAAetD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,4EAA6E,SAAK,IAAK,CAAEA,UAAW,qBAAsBtD,SAAU,2BAEnS,UAAM,MAAO,CAAEsD,UAAW,YAAatD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,4BAA6BtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,yCAA0CtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,UAAWtD,SAAU,UAA0B,SAAK,MAAO,CAAEsD,UAAW,8BAA+BtD,UAAU,SAAK,SAAU,CAAEwG,QAAS,WAE1U,IAAImd,GAAkBzjB,aAAwC,EAAIA,EAAKlG,OAASD,EAAgBmG,EAAKlG,OAAS,GAC9GoT,EAAS,iCAAiC5R,OAAOmoB,GACrD,EAAGrgB,UAAW,0DAA2D4E,MAAO,OAA4BlI,UAAU,SAAKgH,EAAA,EAAc,CAAE1D,UAAW,oBAAwB,UAAM,MAAO,CAAEA,UAAW,mCAAoCtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,eAAgBtD,SAAU,WAAgC,SAAK,MAAO,CAAEsD,UAAW,iBAAkBtD,UAAW8f,aAAoD,EAAIA,EAAW9lB,QAAU,UAAM,MAAO,CAAEsJ,UAAW,oBAAqBtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,oCAAqCtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,SAAyB,SAAK,OAAQ,CAAEsD,UAAW,wCAAyCtD,UAAW8f,aAAoD,EAAIA,EAAW/gB,YAAc,cAAgB,UAAM,MAAO,CAAEuE,UAAW,oCAAqCtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,SAAyB,SAAK,OAAQ,CAAEsD,UAAW,wCAAyCtD,UAAW8f,aAAoD,EAAIA,EAAW9lB,QAAU,YAAc,UAAM,MAAO,CAAEsJ,UAAW,oCAAqCtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,QAAmB,SAAK,OAAQ,CAAEsD,UAAW,wCAAyCtD,SAA2F,UAAhF8f,aAAoD,EAAIA,EAAWnmB,SAAsB,OAA0F,mBAAhFmmB,aAAoD,EAAIA,EAAWnmB,SAA+B,iBAAmBmmB,aAAoD,EAAIA,EAAWnmB,UAAY,YAAc,UAAM,MAAO,CAAE2J,UAAW,oCAAqCtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,QAAmB,UAAM,OAAQ,CAAEsD,UAAW,wCAAyCtD,SAAU,EAAE8f,aAAoD,EAAIA,EAAW3gB,WAAa2gB,aAAoD,EAAIA,EAAWnmB,UAAammB,aAAoD,EAAIA,EAAW3gB,SAAW,MAAS,GAAI,KAAM2gB,aAAoD,EAAIA,EAAW1gB,OAAS,aAAmB,UAAM,MAAO,CAAEkE,UAAW,oBAAqBtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,oCAAqCtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,SAAyB,SAAK,OAAQ,CAAEsD,UAAW,wCAAyCtD,SAAU,YAA6B,UAAM,MAAO,CAAEsD,UAAW,oCAAqCtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,QAAmB,SAAK,OAAQ,CAAEsD,UAAW,wCAAyCtD,SAAU,YAA6B,UAAM,MAAO,CAAEsD,UAAW,oCAAqCtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,QAAmB,SAAK,OAAQ,CAAEsD,UAAW,wCAAyCtD,SAAU,oBAAyC,UAAM,MAAO,CAAEsD,UAAW,mCAAoCtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,yCAA0CtD,UAAU,UAAM,KAAM,CAAEsD,UAAW,UAAWtD,SAAU,CAAC,SAAyBwf,EAAatlB,OAAQ,WAAkB,SAAK,MAAO,CAAEoJ,UAAW,mBAAoBtD,SAAUwf,EAAa9Y,IAAI,SAAUgZ,GACz8G,OAAQ,UAAM,MAAO,CAAEpc,UAAW,sGAAuGtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,yCAA0CtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,0CAA2CtD,UAAU,SAAK,KAAM,CAAEsD,UAAW,oCAAqCtD,SAAU0f,EAAKrb,UAAY,SAAK,OAAQ,CAAEf,UAAW,6DAA6D9H,OAAO+mB,EAAe7C,EAAK5B,SAAU9d,SAAUwiB,EAAc9C,EAAK5B,cAAgB,UAAM,MAAO,CAAExa,UAAW,oBAAqBtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,uBAAwBtD,SAAU,EAAC,UAAM,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,CAAC,OAAkBsgB,EAASF,aAAc,WAAsB,SAAK,OAAQ,CAAE9c,UAAW,8BAA+BtD,SAAUsgB,EAASH,gBAAgBpW,uBAAyB,UAAM,MAAO,CAAEzG,UAAW,uBAAwBtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,YAAiC,UAAM,OAAQ,CAAEsD,UAAW,wCAAyCtD,SAAU,CAAC,IAAUmiB,EAAoBzC,GAAM3V,wBAA0B,UAAM,MAAO,CAAEzG,UAAW,uBAAwBtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,YAAiC,SAAK,OAAQ,CAAEsD,UAAW,8BAA+BtD,SAAU0f,EAAKkC,cACh5CtC,GAAuBI,EAAKkC,eAAegC,mBAAmB,QAAS,CACnE/K,KAAM,UACNgL,OAAQ,UACRC,OAAQ,YAEZ,UAAY,UAAM,MAAO,CAAExgB,UAAW,uBAAwBtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,YAAiC,SAAK,OAAQ,CAAEsD,UAAW,8BAA+BtD,SAA0B,aAAhB0f,EAAK5B,QAAyB4B,EAAKkC,eAEhR,IAAI7gB,MAAO6iB,mBAAmB,QAAS,CACnC/K,KAAM,UACNgL,OAAQ,UACRC,OAAQ,YAEZ,UAAY,UAAM,MAAO,CAAExgB,UAAW,uBAAwBtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,YAAiC,SAAK,OAAQ,CAAEsD,UAAW,8BAA+BtD,SAAU2hB,EAAkBjC,YAAkB,UAAM,MAAO,CAAEpc,UAAW,OAAQtD,SAAU,CAAiB,cAAhB0f,EAAK5B,SAA2B,SAAK,SAAU,CAAEtX,QAAS,WAAc,OA/Wzaid,EA+W6b/D,EAAKjd,GA/Wjb,QAAe,OAAQ,OAAQ,EAAG,WAC5E,IAAIlE,EAAYC,EAASC,EAAUyhB,EAAO6D,EAAWrhB,EAAK6V,EAAWuC,EACrE,OAAO,GAAYjd,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACD,KAAM4iB,aAAoD,EAAIA,EAAW9lB,UAAY8lB,aAAoD,EAAIA,EAAWjlB,aAEpJ,OADAmpB,MAAM,eACC,CAAC,GAEZxpB,EAAG0C,MAAQ,EACf,KAAK,EAGD,OAFA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBG,GAAa,QAAI/E,EAAI,SAASgC,OAAOskB,EAAWjlB,aAAcilB,EAAW9lB,OAClE,CAAC,GAAa,QAAOuE,IAChC,KAAK,EAED,OADAC,EAAUhE,EAAG2C,QACA0B,UAIbJ,EAAWD,EAAQM,OACnBohB,EAAQzhB,EAASyhB,OAAS,IAEP,KADnB6D,EAAY7D,EAAM+D,UAAU,SAAUC,GAAK,OAAOA,EAAEzhB,KAAOghB,CAAQ,KAE/DO,MAAM,iBACC,CAAC,KAEZthB,EAAM,IAAI3B,KACVwX,EAAY,IAAIxX,KAAK2B,EAAIkZ,WAEzB2F,EAAe7e,GACfwd,EAAM6D,GAAa,GAAS,GAAS,CAAC,EAAG7D,EAAM6D,IAAa,CAAEjG,OAAQ,WAAY8D,cAAerJ,IAE1F,CAAC,GAAa,QAAUha,EAAY,CACnC2hB,MAAOA,QAjBX8D,MAAM,sBACC,CAAC,IAkBhB,KAAK,EAGD,OAFAxpB,EAAG2C,OACHwB,QAAQC,IAAI,SAAU6kB,GACf,CAAC,EAAa,GACzB,KAAK,EAID,OAHA3I,EAAUtgB,EAAG2C,OACbwB,QAAQY,MAAM,YAAaub,GAC3BkJ,MAAM,kBACC,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,GAhDmB,IAAUP,CA+Wuc,EAAGngB,UAAW,6BAA8BtD,SAAU,OAAoC,aAAhB0f,EAAK5B,SAA0B,SAAK,SAAU,CAAEtX,QAAS,WAAc,OA1E3lB,SAAUkZ,GAChC,IAAIC,EAAYgC,EAAkBjC,GAC9BrH,EAAW8J,EAAoBzC,GAC/BnH,EAAYmH,EAAKkC,cACjBtC,GAAuBI,EAAKkC,eAAe7X,eAAe,SAAW,GACrEyO,EAA0B,aAAhBkH,EAAK5B,QAAyB4B,EAAKkC,eAC7C,IAAI7gB,MAAOgJ,eAAe,SAAW,GACzC8V,EAAmB,CACfpb,QAAQ,EACRib,KAAMA,EACNnH,UAAWA,EACXC,QAASA,EACTmH,UAAWA,EACXtH,SAAUA,GAElB,CA2D4nB8L,CAAoBzE,EAAO,EAAGpc,UAAW,2DAA4DtD,SAAU,YAA2B0f,EAAKjd,GAC/uB,WAAelD,IAAU,SAAK,MAAO,CAAE+D,UAAW,8CAA+CtD,UAAU,SAAK,IAAK,CAAEsD,UAAW,aAActD,SAAUT,MAAcqgB,EAAgBnb,QAAUmb,EAAgBF,OAAS,SAAK,MAAO,CAAEpc,UAAW,uFAAwFkD,QAASkd,EAAsB1jB,UAAU,UAAM,MAAO,CAAEsD,UAAW,8EAA+EkD,QAAS,SAAUlK,GAAK,OAAOA,EAAE8nB,iBAAmB,EAAGpkB,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,yCAA0CtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,yBAA0BtD,SAAU,WAAgC,SAAK,SAAU,CAAEwG,QAASkd,EAAsBpgB,UAAW,oEAAqEtD,UAAU,SAAK4H,EAAA,EAAW,CAAEtE,UAAW,kBAAqB,UAAM,MAAO,CAAEA,UAAW,YAAatD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,uBAAwBtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,WAA2B,SAAK,OAAQ,CAAEsD,UAAW,wCAAyCtD,UAA2C,QAA/BxF,EAAKolB,EAAgBF,YAA8B,IAAZllB,OAAqB,EAAIA,EAAG6J,OAAS,SAAW,UAAM,MAAO,CAAEf,UAAW,uBAAwBtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,YAAiC,SAAK,OAAQ,CAAEsD,UAAW,8BAA+BtD,SAAU4f,EAAgBrH,gBAAkB,UAAM,MAAO,CAAEjV,UAAW,uBAAwBtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,YAAiC,SAAK,OAAQ,CAAEsD,UAAW,8BAA+BtD,SAAU4f,EAAgBpH,cAAgB,UAAM,MAAO,CAAElV,UAAW,uBAAwBtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,YAAiC,SAAK,OAAQ,CAAEsD,UAAW,8BAA+BtD,SAAU4f,EAAgBD,gBAAkB,UAAM,MAAO,CAAErc,UAAW,uBAAwBtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,YAAiC,UAAM,OAAQ,CAAEsD,UAAW,gDAAiDtD,SAAU,CAAC,IAAU4f,EAAgBvH,SAAStO,2BAA8B,UAAM,MAAO,CAAEzG,UAAW,kBAAmBtD,SAAU,EAAC,SAAK,SAAU,CAAEwG,QAASkd,EAAsBpgB,UAAW,kEAAmEtD,SAAU,QAAmB,SAAK,SAAU,CAAEwG,QA/C3hF,WAAc,OAAO,QAAe,OAAQ,OAAQ,EAAG,WAC5E,IAAIgG,EACJ,OAAO,GAAY3O,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACD,IAAK0iB,EAAgBF,KACjB,MAAO,CAAC,GACZllB,EAAG0C,MAAQ,EACf,KAAK,EAED,OADA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACf,CAAC,GA9GcqlB,EA8GqB7D,EAAgBF,KAAKjd,GA9GzB,QAAe,OAAQ,OAAQ,EAAG,WACrF,IAAIlE,EAAYC,EAASC,EAAUyhB,EAAO6D,EAAWrE,EAAMlH,EAAwB6L,EAAsBlX,EACzG,OAAO,GAAYtP,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACD,KAAM4iB,aAAoD,EAAIA,EAAW9lB,UAAY8lB,aAAoD,EAAIA,EAAWjlB,aAEpJ,OADAmpB,MAAM,eACC,CAAC,GAEZxpB,EAAG0C,MAAQ,EACf,KAAK,EAID,OAHA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBO,QAAQC,IAAI,eAAgB6kB,GAC5BllB,GAAa,QAAI/E,EAAI,SAASgC,OAAOskB,EAAWjlB,aAAcilB,EAAW9lB,OAClE,CAAC,GAAa,QAAOuE,IAChC,KAAK,EAED,OADAC,EAAUhE,EAAG2C,QACA0B,UAIbJ,EAAWD,EAAQM,OACnBohB,EAAQzhB,EAASyhB,OAAS,IAEP,KADnB6D,EAAY7D,EAAM+D,UAAU,SAAUC,GAAK,OAAOA,EAAEzhB,KAAOghB,CAAQ,KAE/DO,MAAM,iBACC,CAAC,KAEZtE,EAAOQ,EAAM6D,GACbvL,EAAU,IAAIzX,KACdpC,QAAQC,IAAI,WAAY8gB,GACxB/gB,QAAQC,IAAI,WAAY4Z,GACF,aAAhBkH,EAAK5B,QAAyB4B,EAAKkC,eACzCjjB,QAAQC,IAAI,0BACL,CAAC,EAAa6jB,EAAiB/C,EAAMlH,KAFoB,CAAC,EAAa,MAd1EwL,MAAM,sBACC,CAAC,IAgBhB,KAAK,EAGD,OAFAxpB,EAAG2C,OACHwB,QAAQC,IAAI,sBACL,CAAC,EAAa,GACzB,KAAK,EACDD,QAAQsC,KAAK,2BAA4B,CACrC6c,OAAQ4B,EAAK5B,OACbwG,eAAgB5E,EAAKkC,gBAEzBpnB,EAAG0C,MAAQ,EACf,KAAK,EAID,OAHgBwiB,EAAKkC,cAAeyC,EA/sBlB,SAAUhjB,EAAG/E,GAC/C,IAAIU,EAAI,CAAC,EACT,IAAK,IAAIwE,KAAKH,EAAO5G,OAAOgD,UAAUgE,eAAevD,KAAKmD,EAAGG,IAAMlF,EAAEioB,QAAQ/iB,GAAK,IAC9ExE,EAAEwE,GAAKH,EAAEG,IACb,GAAS,MAALH,GAAqD,mBAAjC5G,OAAO+pB,sBACtB,KAAIljB,EAAI,EAAb,IAAgBE,EAAI/G,OAAO+pB,sBAAsBnjB,GAAIC,EAAIE,EAAEtH,OAAQoH,IAC3DhF,EAAEioB,QAAQ/iB,EAAEF,IAAM,GAAK7G,OAAOgD,UAAUgnB,qBAAqBvmB,KAAKmD,EAAGG,EAAEF,MACvEtE,EAAEwE,EAAEF,IAAMD,EAAEG,EAAEF,IAF4B,CAItD,OAAOtE,CACX,CAqsB+E0nB,CAAOhF,EAAM,CAAC,kBACzEQ,EAAM6D,GAAa,GAAS,GAAS,CAAC,EAAGM,GAAuB,CAAEvG,OAAQ,cAC1Enf,QAAQC,IAAI,gBAAiBshB,EAAM6D,IAC5B,CAAC,GAAa,QAAUxlB,EAAY,CACnC2hB,MAAOA,KAEnB,KAAK,EAID,OAHA1lB,EAAG2C,OACHwB,QAAQC,IAAI,mBAAoB6kB,GAChCO,MAAM,sBACC,CAAC,EAAa,GACzB,KAAK,EASD,OARA7W,EAAU3S,EAAG2C,OACbwB,QAAQY,MAAM,cAAe4N,GAC7BxO,QAAQY,MAAM,WAAY,CACtBkL,QAAS0C,aAA8C,EAAIA,EAAQ1C,QACnEpP,KAAM8R,aAA8C,EAAIA,EAAQ9R,KAChEspB,MAAOxX,aAA8C,EAAIA,EAAQwX,QAErEX,MAAM,kBAAyExoB,QAAQ2R,aAA8C,EAAIA,EAAQ1C,UAAY,cACtJ,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,KAyCY,KAAK,EAID,OAHAjQ,EAAG2C,OACHumB,IACAM,MAAM,gBACC,CAAC,EAAa,GACzB,KAAK,EAID,OAHAxX,EAAUhS,EAAG2C,OACbwB,QAAQY,MAAM,SAAUiN,GACxBwX,MAAM,eACC,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAzHA,IAAUP,CA2HlC,EACJ,EAAI,EAuB6kFngB,UAAW,oCAAqCtD,SAAU,oBAC/oF,E,eCp2BI,GAAsC,WAStC,OARA,GAAWvF,OAAO2G,QAAU,SAASpE,GACjC,IAAK,IAAIqE,EAAGC,EAAI,EAAGxD,EAAIyD,UAAUrH,OAAQoH,EAAIxD,EAAGwD,IAE5C,IAAK,IAAIE,KADTH,EAAIE,UAAUD,GACO7G,OAAOgD,UAAUgE,eAAevD,KAAKmD,EAAGG,KACzDxE,EAAEwE,GAAKH,EAAEG,IAEjB,OAAOxE,CACX,EACO,GAASL,MAAMkB,KAAM0D,UAChC,EACI,GAAwC,SAAU5F,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,UAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,EAAE,SAAUG,GAAWA,EAAQG,EAAQ,IAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,OAClE,EACJ,EACI,GAA4C,SAAUV,EAASkB,GAC/D,IAAsGC,EAAGC,EAAGC,EAAxGC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPH,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGI,KAAM,GAAIC,IAAK,IAAeC,EAAI7C,OAAO8C,QAA4B,mBAAbC,SAA0BA,SAAW/C,QAAQgD,WACtL,OAAOH,EAAEjB,KAAOqB,EAAK,GAAIJ,EAAS,MAAII,EAAK,GAAIJ,EAAU,OAAII,EAAK,GAAsB,mBAAXC,SAA0BL,EAAEK,OAAOC,UAAY,WAAa,OAAOC,IAAM,GAAIP,EAC1J,SAASI,EAAKI,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIlB,EAAG,MAAM,IAAImB,UAAU,mCAC3B,KAAOX,IAAMA,EAAI,EAAGU,EAAG,KAAOf,EAAI,IAAKA,OACnC,GAAIH,EAAI,EAAGC,IAAMC,EAAY,EAARgB,EAAG,GAASjB,EAAU,OAAIiB,EAAG,GAAKjB,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEkB,KAAKnB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEkB,KAAKnB,EAAGiB,EAAG,KAAKvB,KAAM,OAAOO,EAE3J,OADID,EAAI,EAAGC,IAAGgB,EAAK,CAAS,EAARA,EAAG,GAAQhB,EAAEb,QACzB6B,EAAG,IACP,KAAK,EAAG,KAAK,EAAGhB,EAAIgB,EAAI,MACxB,KAAK,EAAc,OAAXf,EAAEC,QAAgB,CAAEf,MAAO6B,EAAG,GAAIvB,MAAM,GAChD,KAAK,EAAGQ,EAAEC,QAASH,EAAIiB,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKf,EAAEI,IAAIc,MAAOlB,EAAEG,KAAKe,MAAO,SACxC,QACI,MAAkBnB,GAAZA,EAAIC,EAAEG,MAAYlD,OAAS,GAAK8C,EAAEA,EAAE9C,OAAS,KAAkB,IAAV8D,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEf,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVe,EAAG,MAAchB,GAAMgB,EAAG,GAAKhB,EAAE,IAAMgB,EAAG,GAAKhB,EAAE,IAAM,CAAEC,EAAEC,MAAQc,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYf,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIA,EAAIgB,EAAI,KAAO,CACpE,GAAIhB,GAAKC,EAAEC,MAAQF,EAAE,GAAI,CAAEC,EAAEC,MAAQF,EAAE,GAAIC,EAAEI,IAAIe,KAAKJ,GAAK,KAAO,CAC9DhB,EAAE,IAAIC,EAAEI,IAAIc,MAChBlB,EAAEG,KAAKe,MAAO,SAEtBH,EAAKnB,EAAKqB,KAAKvC,EAASsB,EAC5B,CAAE,MAAOX,GAAK0B,EAAK,CAAC,EAAG1B,GAAIS,EAAI,CAAG,CAAE,QAAUD,EAAIE,EAAI,CAAG,CACzD,GAAY,EAARgB,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE7B,MAAO6B,EAAG,GAAKA,EAAG,QAAU,EAAGvB,MAAM,EAC9E,CAtBgDL,CAAK,CAAC0B,EAAGC,GAAK,CAAG,CAuBrE,EAgOA,SAzNe,WACX,IAAImC,EAAOP,IAAUO,KACjB1F,GAAK,IAAAyF,UAAS,KAAOkgB,EAAkB3lB,EAAG,GAAIoqB,EAAqBpqB,EAAG,GACtEG,GAAK,IAAAsF,UAAS,IAAKmgB,EAAezlB,EAAG,GAAIkqB,EAAkBlqB,EAAG,GAC9DQ,GAAK,IAAA8E,UAAS,GAAIogB,EAAYllB,EAAG,GAAI2pB,EAAe3pB,EAAG,GACvDwJ,GAAK,IAAA1E,WAAS,GAAQG,EAAUuE,EAAG,GAAItE,EAAasE,EAAG,GACvDG,GAAK,IAAA7E,WAAS,GAAQ8kB,EAASjgB,EAAG,GAAIkgB,EAAYlgB,EAAG,GAyMzD,OAvMA,IAAAxE,WAAU,WACkC,QAAe,OAAQ,OAAQ,EAAG,WACtE,IAAI/B,EAAYC,EAASC,EAAUC,EACnC,OAAO,GAAYb,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACD,KAAMgD,aAAwC,EAAIA,EAAKlG,UAAYkG,aAAwC,EAAIA,EAAKrF,aAChH,MAAO,CAAC,GACZwF,GAAW,GACX7F,EAAG0C,MAAQ,EACf,KAAK,EAGD,OAFA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,EAAG,IACvBG,GAAa,QAAI/E,EAAI,SAASgC,OAAO0E,EAAKrF,aAAcqF,EAAKlG,OACtD,CAAC,GAAa,QAAOuE,IAChC,KAAK,EAYD,OAXAC,EAAUhE,EAAG2C,QACD0B,UACRJ,EAAWD,EAAQM,OACnB8lB,EAAmBnmB,EAAS0hB,iBAAmB1hB,EAASiiB,kBAAoB,KAC5EmE,EAAgBpmB,EAAS2hB,cAAgB,IACzC0E,EAAarmB,EAAS4hB,WAAa,GACnC1hB,QAAQC,IAAI,kBAAmBH,IAG/BE,QAAQC,IAAI,qBAET,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAF,EAAUlE,EAAG2C,OACbwB,QAAQY,MAAM,cAAeb,GACtB,CAAC,EAAa,GACzB,KAAK,EAED,OADA2B,GAAW,GACJ,CAAC,GACZ,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,EAEJ,EAAG,CAACH,IAgKAE,GACQ,UAAM,MAAO,CAAEkD,UAAW,YAAatD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,UAAWtD,SAAU,QAAmB,SAAK,MAAO,CAAEsD,UAAW,yCAA0CtD,UAAU,SAAK,MAAO,CAAEsD,UAAW,YAAatD,SAAU,wBAEnP,UAAM,MAAO,CAAEsD,UAAW,YAAatD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,UAAWtD,SAAU,OAAmBE,IAAS,SAAK,MAAO,CAAEoD,UAAW,iBAAkBtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,oBAAqBtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,oCAAqCtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,aAAuC,SAAK,OAAQ,CAAEsD,UAAW,wCAAyCtD,SAAUE,aAAwC,EAAIA,EAAKlG,YAAekG,aAAwC,EAAIA,EAAKnB,aAAe,UAAM,MAAO,CAAEuE,UAAW,oCAAqCtD,SAAU,EAAC,SAAK,OAAQ,CAAEsD,UAAW,2BAA4BtD,SAAU,SAAoB,SAAK,OAAQ,CAAEsD,UAAW,wCAAyCtD,SAAUE,aAAwC,EAAIA,EAAKnB,qBAA2B,SAAK,MAAO,CAAEuE,UAAW,aAActD,UAAU,UAAM,MAAO,CAAEsD,UAAW,uDAAwDtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,8BAA+BtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,oCAAqCtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,yBAA0BtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,qGAAsGtD,UAAU,SAAKilB,GAAA,EAAoB,CAAE3hB,UAAW,uCAAyC,UAAM,MAAO,CAAEtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,yBAA0BtD,SAAU,WAAgC,SAAK,IAAK,CAAEsD,UAAW,+BAAgCtD,SAAU,8BAA4G,UAAM,MAAO,CAAEsD,UAAW,4BAA6BtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,oBAAqBtD,SAAU,EAAC,SAAK,QAAS,CAAEsD,UAAW,oBAAqBtD,SAAU,eAAyC,SAAK,MAAO,CAAEsD,UAAW,8BAA+BtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,kBAAmBtD,SAAU,EAAC,SAAK,QAAS,CAAEsG,KAAM,SAAUnK,MAAOikB,EAAc7b,SAvG1mE,SAAUjI,GACrC,IAAIH,EAAQ+oB,SAAS5oB,EAAE2J,OAAO9J,QAAU,EACxC0oB,EAAgB1oB,EACpB,EAoG6qEmH,UAAW,iCAAkCkB,YAAa,eAAkE2gB,IAAK,IAAKC,IAAK,KAAMvT,SAAUkT,KAAW,SAAK,OAAQ,CAAEzhB,UAAW,oEAAqEtD,SAAU,eAAwB,UAAM,MAAO,CAAEsD,UAAW,oBAAqBtD,SAAU,EAAC,UAAM,QAAS,CAAEsD,UAAW,oBAAqBtD,SAAU,CAAC,OAAkBogB,EAAc,UAAqB,SAAK,MAAO,CAAE9c,UAAW,8BAA+BtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,kBAAmBtD,SAAU,EAAC,SAAK,QAAS,CAAEsG,KAAM,SAAUnK,MAAOgkB,EAAiB5b,SAlK1xF,SAAUjI,GAC7B,IAAIH,EAAQ+oB,SAAS5oB,EAAE2J,OAAO9J,QAAU,EACxCyoB,EAAmBzoB,EACvB,EA+J60FmH,UAAW,iCAAkCkB,YAAa,YAAqD2gB,IAAK,IAAKtT,SAAUkT,KAAW,SAAK,OAAQ,CAAEzhB,UAAW,oEAAqEtD,SAAU,YAAoB,UAAM,IAAK,CAAEsD,UAAW,wCAAyCtD,SAAU,CAACogB,EAAc,UAA+BD,EAAgBpW,iBAAkB,cAAsB,UAAM,MAAO,CAAEzG,UAAW,0BAA2BtD,SAAU,EAAC,SAAK,SAAU,CAAEwG,QAAS,WACnzGqe,EAAgB,IAChBD,EAAmB,IACvB,EAAGthB,UAAW,kEAAmEuO,SAAUkT,EAAQ/kB,SAAU,SAAyB,SAAK,SAAU,CAAEwG,QAtGtK,WAAc,OAAO,QAAe,OAAQ,OAAQ,EAAG,WAChF,IAAIjI,EAAYC,EAASwiB,EAAcviB,EAAUqiB,EAAcuE,EAAmBC,EAAcxK,EAChG,OAAO,GAAYjd,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACD,KAAMgD,aAAwC,EAAIA,EAAKlG,UAAYkG,aAAwC,EAAIA,EAAKrF,aAEhH,OADAmpB,MAAM,eACC,CAAC,GAEZgB,GAAU,GACVxqB,EAAG0C,MAAQ,EACf,KAAK,EAGD,OAFA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,EAAG,IACvBG,GAAa,QAAI/E,EAAI,SAASgC,OAAO0E,EAAKrF,aAAcqF,EAAKlG,OACtD,CAAC,GAAa,QAAOuE,IAChC,KAAK,EAaD,OAZAC,EAAUhE,EAAG2C,OACb6jB,EAAe,GACXxiB,EAAQK,WACRJ,EAAWD,EAAQM,OACnBgiB,EAAeriB,EAASyhB,OAAS,GACjCmF,EAAoB5mB,EAAS0hB,iBAAmB1hB,EAASiiB,kBAAoB,IAC7E4E,EAAezJ,KAAKC,MAA2B,GAApBuJ,EAA0BjF,GAErDY,EAAeF,EAAapa,IAAI,SAAUgZ,GAAQ,OAAQ,GAAS,GAAS,CAAC,EAAGA,GAAO,CAAEqB,WAAYuE,GAAkB,GACvH3mB,QAAQC,IAAI,aAA2CpD,OAAO4kB,EAAc,OAAiB5kB,OAAO6pB,EAAmB,YAAqC7pB,OAAO8pB,EAAc,OAAY9pB,OAAOwlB,EAAa9mB,OAAQ,UAGtN,CAAC,GAAa,QAAUqE,EAAY,CACnC4hB,gBAAiBA,EACjBC,aAAcA,EACdF,MAAOc,EACPuE,mBAAmB,IAAIxkB,MAAOC,iBAE1C,KAAK,EAOD,OALAxG,EAAG2C,OACHwB,QAAQC,IAAI,kBAAmB,CAAEwhB,aAAcA,EAAcpmB,MAAOkG,EAAKlG,QACzEgqB,MAAM,YAA0CxoB,OAAO4kB,EAAc,4CAErEyE,EAAgBzE,GACT,CAAC,EAAa,GACzB,KAAK,EAID,OAHAtF,EAAUtgB,EAAG2C,OACbwB,QAAQY,MAAM,kBAAmBub,GACjCkJ,MAAM,qCACC,CAAC,EAAa,GACzB,KAAK,EAED,OADAgB,GAAU,GACH,CAAC,GACZ,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,EAAI,EAiDgO1hB,UAAW,oCAAqCuO,SAAUkT,IAAW7kB,EAAMF,SAAU+kB,EAAS,UAAY,gBAAoB,SAAK,MAAO,CAAEzhB,UAAW,8BAA+BtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,oCAAqCtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,yBAA0BtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,uGAAwGtD,UAAU,SAAK+G,EAAA,EAAoB,CAAEzD,UAAW,yCAA2C,UAAM,MAAO,CAAEtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,yBAA0BtD,SAAU,UAA0B,SAAK,IAAK,CAAEsD,UAAW,+BAAgCtD,SAAU,8BAAuG,SAAK,MAAO,CAAEsD,UAAW,qBAAsBtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,oBAAqBtD,SAAU,EAAC,SAAK,QAAS,CAAEsD,UAAW,oBAAqBtD,SAAU,UAA0B,SAAK,MAAO,CAAEsD,UAAW,8BAA+BtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,kBAAmBtD,SAAU,EAAC,SAAK,QAAS,CAAEsG,KAAM,SAAUnK,MAAOkkB,EAAW9b,SAhDx3C,SAAUjI,GAClC,IAAIH,EAAQ+oB,SAAS5oB,EAAE2J,OAAO9J,QAAU,EACxC2oB,EAAajJ,KAAKsJ,IAAItJ,KAAKuJ,IAAIjpB,EAAO,GAAI,IAC9C,EA6Cq7CmH,UAAW,iCAAkCkB,YAAa,cAA4D2gB,IAAK,IAAKC,IAAK,KAAMvT,SAAUkT,KAAW,SAAK,OAAQ,CAAEzhB,UAAW,oEAAqEtD,SAAU,YAAoB,SAAK,IAAK,CAAEsD,UAAW,wCAAyCtD,SAAU,8BAA8E,UAAM,MAAO,CAAEsD,UAAW,0BAA2BtD,SAAU,EAAC,SAAK,SAAU,CAAEwG,QAAS,WACp5Dse,EAAa,EACjB,EAAGxhB,UAAW,kEAAmEuO,SAAUkT,EAAQ/kB,SAAU,SAAyB,SAAK,SAAU,CAAEwG,QA9CzK,WAAc,OAAO,QAAe,OAAQ,OAAQ,EAAG,WAC7E,IAAIjI,EAAY2c,EAChB,OAAO,GAAYrd,KAAM,SAAUrD,GAC/B,OAAQA,EAAG0C,OACP,KAAK,EACD,KAAMgD,aAAwC,EAAIA,EAAKlG,UAAYkG,aAAwC,EAAIA,EAAKrF,aAEhH,OADAmpB,MAAM,eACC,CAAC,GAEZgB,GAAU,GACVxqB,EAAG0C,MAAQ,EACf,KAAK,EAGD,OAFA1C,EAAG4C,KAAKgB,KAAK,CAAC,EAAG,EAAG,EAAG,IACvBG,GAAa,QAAI/E,EAAI,SAASgC,OAAO0E,EAAKrF,aAAcqF,EAAKlG,OACtD,CAAC,GAAa,QAAUuE,EAAY,CACnC8hB,UAAWA,EACXkF,mBAAmB,IAAIxkB,MAAOC,iBAE1C,KAAK,EAOD,OANAxG,EAAG2C,OACHwB,QAAQC,IAAI,iBAAkB,CAAEyhB,UAAWA,EAAWrmB,MAAOkG,EAAKlG,QAElEgqB,MAAM,UAA8BxoB,OAAO6kB,EAAW,iDAEtDhZ,OAAO1D,SAASkD,KAAO,UAChB,CAAC,EAAa,GACzB,KAAK,EAID,OAHAqU,EAAU1gB,EAAG2C,OACbwB,QAAQY,MAAM,iBAAkB2b,GAChC8I,MAAM,qCACC,CAAC,EAAa,GACzB,KAAK,EAED,OADAgB,GAAU,GACH,CAAC,GACZ,KAAK,EAAG,MAAO,CAAC,GAExB,EACJ,EAAI,EAS6N1hB,UAAW,oCAAqCuO,SAAUkT,IAAW7kB,EAAMF,SAAU+kB,EAAS,UAAY,gBAAoB,SAAK,MAAO,CAAEzhB,UAAW,8BAA+BtD,UAAU,UAAM,MAAO,CAAEsD,UAAW,oCAAqCtD,SAAU,EAAC,UAAM,MAAO,CAAEsD,UAAW,yBAA0BtD,SAAU,EAAC,SAAK,MAAO,CAAEsD,UAAW,oGAAqGtD,UAAU,SAAK+G,EAAA,EAAoB,CAAEzD,UAAW,sCAAwC,UAAM,MAAO,CAAEtD,SAAU,EAAC,SAAK,KAAM,CAAEsD,UAAW,yBAA0BtD,SAAU,WAAgC,SAAK,IAAK,CAAEsD,UAAW,+BAAgCtD,SAAU,6BAAiG,SAAK,MAAO,CAAEsD,UAAW,0CAA2CtD,UAAU,SAAK,IAAK,CAAEsD,UAAW,+BAAgCtD,SAAU,uCAC3qC,ECxQW,aAAoBkG,SAASsf,eAAe,SAClDC,QAAO,SAAK,aAAkB,CAAEzlB,UAAU,SCUrC,WACN,OAAQ,SAAKD,EAAc,CAAEC,UAAU,SAAKmD,EAAiB,CAAEnD,UAAU,SAAKmC,EAAsB,CAAEnC,UAAU,SAAK,KAAQ,CAAEA,UAAU,UAAM,KAAQ,CAAEA,SAAU,EAAC,SAAK,KAAO,CAAE6D,KAAM,IAAK6hB,SAAS,SAAK,GAAS,CAAC,MAAO,SAAK,KAAO,CAAE7hB,KAAM,SAAU6hB,SAAS,SAAK,GAAO,CAAC,MAAO,SAAK,KAAO,CAAE7hB,KAAM,YAAa6hB,SAAS,SAAKvhB,EAAmB,CAAC,MAAO,SAAK,KAAO,CAAEN,KAAM,aAAc6hB,SAAS,SAAKjiB,EAAgB,CAAEzD,UAAU,SAAK2K,GAAQ,CAAE3K,UAAU,SAAK,GAAW,CAAC,UAAa,SAAK,KAAO,CAAE6D,KAAM,gBAAiB6hB,SAAS,SAAKjiB,EAAgB,CAAEC,aAAc,KAAM1D,UAAU,SAAK2K,GAAQ,CAAE3K,UAAU,SAAK,GAAc,CAAC,UAAa,SAAK,KAAO,CAAE6D,KAAM,UAAW6hB,SAAS,SAAKjiB,EAAgB,CAAEC,aAAc,QAAS1D,UAAU,SAAK2K,GAAQ,CAAE3K,UAAU,SAAK,GAAe,CAAC,UAAa,SAAK,KAAO,CAAE6D,KAAM,YAAa6hB,SAAS,SAAKjiB,EAAgB,CAAEzD,UAAU,SAAK2K,GAAQ,CAAE3K,UAAU,SAAK,GAAU,CAAC,mBACp5B,EDZyD,CAAC,K","sources":["webpack://screen-golf-admin/./src/firebase/config.ts","webpack://screen-golf-admin/./src/data/countryCodes.ts","webpack://screen-golf-admin/./src/utils/storeUtils.ts","webpack://screen-golf-admin/./src/utils/authUtils.ts","webpack://screen-golf-admin/./src/contexts/AuthContext.tsx","webpack://screen-golf-admin/./src/contexts/NotificationContext.tsx","webpack://screen-golf-admin/./src/contexts/CountryContext.tsx","webpack://screen-golf-admin/./src/components/LoadingSpinner.tsx","webpack://screen-golf-admin/./src/components/ProtectedRoute.tsx","webpack://screen-golf-admin/./src/components/RoleBasedRedirect.tsx","webpack://screen-golf-admin/./src/components/CountrySelector.tsx","webpack://screen-golf-admin/./src/components/Sidebar.tsx","webpack://screen-golf-admin/./src/data/pageInfo.ts","webpack://screen-golf-admin/./src/components/Header.tsx","webpack://screen-golf-admin/./src/components/NotificationToast.tsx","webpack://screen-golf-admin/./src/components/NotificationContainer.tsx","webpack://screen-golf-admin/./src/components/Layout.tsx","webpack://screen-golf-admin/./src/data/emailTemplates.ts","webpack://screen-golf-admin/./src/utils/languageDetector.ts","webpack://screen-golf-admin/./src/firebase/auth.ts","webpack://screen-golf-admin/./src/pages/Login.tsx","webpack://screen-golf-admin/./src/pages/Landing.tsx","webpack://screen-golf-admin/./src/pages/Dashboard.tsx","webpack://screen-golf-admin/./src/utils/phoneFormatter.ts","webpack://screen-golf-admin/./src/pages/StoreManager.tsx","webpack://screen-golf-admin/./src/pages/SystemManager.tsx","webpack://screen-golf-admin/./src/pages/Settings.tsx","webpack://screen-golf-admin/./src/index.tsx","webpack://screen-golf-admin/./src/App.tsx"],"sourcesContent":["// Firebase configuration\nimport { initializeApp } from 'firebase/app';\nimport { getAuth } from 'firebase/auth';\nimport { getFirestore } from 'firebase/firestore';\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCg8y5huPb-KiuqWWFZlbQqQq0HOubJhr0\",\n    authDomain: \"screen-golf-hq-central.firebaseapp.com\",\n    projectId: \"screen-golf-hq-central\",\n    storageBucket: \"screen-golf-hq-central.firebasestorage.app\",\n    messagingSenderId: \"824852063284\",\n    appId: \"1:824852063284:web:f92661e3a19c7d83d39661\"\n};\n// Initialize Firebase\nvar app = initializeApp(firebaseConfig);\nexport var auth = getAuth(app);\nexport var db = getFirestore(app);\nexport default app;\n","//   \nexport var COUNTRY_CODES = {\n    // \n    '': '+82',\n    '': '+82',\n    '': '+850',\n    '': '+81',\n    '': '+86',\n    '': '+852',\n    '': '+853',\n    '': '+886',\n    '': '+976',\n    '': '+65',\n    '': '+60',\n    '': '+66',\n    '': '+84',\n    '': '+63',\n    '': '+62',\n    '': '+95',\n    '': '+855',\n    '': '+856',\n    '': '+673',\n    '': '+670',\n    '': '+91',\n    '': '+92',\n    '': '+880',\n    '': '+94',\n    '': '+977',\n    '': '+975',\n    '': '+960',\n    '': '+93',\n    // \n    '': '+44',\n    '': '+353',\n    '': '+33',\n    '': '+49',\n    '': '+39',\n    '': '+34',\n    '': '+351',\n    '': '+31',\n    '': '+32',\n    '': '+352',\n    '': '+43',\n    '': '+41',\n    '': '+46',\n    '': '+47',\n    '': '+45',\n    '': '+358',\n    '': '+48',\n    '': '+420',\n    '': '+36',\n    '': '+421',\n    '': '+386',\n    '': '+385',\n    ' ': '+387',\n    '': '+381',\n    '': '+382',\n    '': '+355',\n    '': '+389',\n    '': '+30',\n    '': '+90',\n    '': '+359',\n    '': '+40',\n    '': '+372',\n    '': '+371',\n    '': '+370',\n    '': '+375',\n    '': '+380',\n    '': '+373',\n    '': '+7',\n    '': '+995',\n    '': '+374',\n    '': '+994',\n    '': '+357',\n    '': '+356',\n    '': '+354',\n    // \n    '': '+1',\n    '': '+1',\n    '': '+52',\n    // \n    '': '+55',\n    '': '+54',\n    '': '+56',\n    '': '+51',\n    '': '+57',\n    '': '+58',\n    '': '+593',\n    '': '+591',\n    '': '+595',\n    '': '+598',\n    '': '+592',\n    '': '+597',\n    '': '+506',\n    '': '+507',\n    '': '+502',\n    '': '+501',\n    '': '+503',\n    '': '+504',\n    '': '+505',\n    '': '+53',\n    '': '+1876',\n    '': '+509',\n    ' ': '+1809',\n    '': '+1242',\n    '': '+1246',\n    ' ': '+1868',\n    // \n    '': '+20',\n    '': '+234',\n    '': '+27',\n    '': '+254',\n    '': '+255',\n    '': '+256',\n    '': '+250',\n    '': '+257',\n    '': '+251',\n    '': '+249',\n    '': '+218',\n    '': '+216',\n    '': '+213',\n    '': '+212',\n    '': '+233',\n    '': '+225',\n    '': '+221',\n    '': '+223',\n    '': '+226',\n    '': '+227',\n    '': '+235',\n    '': '+236',\n    '': '+237',\n    '': '+240',\n    '': '+241',\n    '': '+242',\n    '  ': '+243',\n    '': '+244',\n    '': '+260',\n    '': '+265',\n    '': '+258',\n    '': '+263',\n    '': '+267',\n    '': '+264',\n    '': '+266',\n    '': '+268',\n    '': '+248',\n    '': '+230',\n    '': '+261',\n    '': '+269',\n    '': '+238',\n    '': '+245',\n    '': '+224',\n    '': '+232',\n    '': '+231',\n    '': '+228',\n    '': '+229',\n    // \n    '': '+61',\n    '': '+64',\n    '': '+679',\n    '': '+675',\n    ' ': '+677',\n    '': '+678',\n    '': '+685',\n    '': '+676',\n    '': '+686',\n    '': '+674',\n    '': '+688',\n    '': '+680',\n    ' ': '+692',\n    '': '+691',\n    // \n    '': '+966',\n    '': '+971',\n    '': '+974',\n    '': '+965',\n    '': '+973',\n    '': '+968',\n    '': '+967',\n    '': '+962',\n    '': '+961',\n    '': '+963',\n    '': '+964',\n    '': '+98',\n    '': '+972',\n    // \n    '': '+379',\n    '': '+378',\n    '': '+377',\n    '': '+376',\n    '': '+423',\n};\n//   \nexport var normalizeCountryName = function (country) {\n    return country\n        .trim()\n        .toLowerCase()\n        .replace(/\\s+/g, '')\n        .replace(/[^a-z0-9-]/g, '');\n};\n//   \nexport var getCountryCode = function (country) {\n    var normalized = normalizeCountryName(country);\n    //   \n    for (var _i = 0, _a = Object.entries(COUNTRY_CODES); _i < _a.length; _i++) {\n        var _b = _a[_i], countryName = _b[0], countryCode = _b[1];\n        if (normalizeCountryName(countryName) === normalized) {\n            return countryCode;\n        }\n    }\n    return '+82'; // : \n};\n","//    \nimport { COUNTRY_CODES } from '../data/countryCodes';\n/**\n *     ID \n * @param email  \n * @returns   ID\n */\nexport var generateStoreId = function (email) {\n    return email.replace(/[@.]/g, '_');\n};\n/**\n *    ( ISO 2  )\n * @param country   \n * @returns    (KR, US, JP )\n */\nexport var normalizeCountryCode = function (country) {\n    if (!country)\n        return 'KR'; // : \n    //  2  \n    if (country.length === 2 && /^[A-Z]{2}$/.test(country.toUpperCase())) {\n        return country.toUpperCase();\n    }\n    //   \n    var countryUpper = country.toUpperCase();\n    //   \n    var countryNameMap = {\n        '': 'KR',\n        '': 'KR',\n        'KOREA': 'KR',\n        'UNITED STATES': 'US',\n        'USA': 'US',\n        '': 'US',\n        'JAPAN': 'JP',\n        '': 'JP',\n        'CHINA': 'CN',\n        '': 'CN',\n        'UNITED KINGDOM': 'GB',\n        'UK': 'GB',\n        '': 'GB'\n    };\n    //    \n    if (countryNameMap[countryUpper]) {\n        return countryNameMap[countryUpper];\n    }\n    // COUNTRY_CODES  \n    for (var _i = 0, _a = Object.entries(COUNTRY_CODES); _i < _a.length; _i++) {\n        var _b = _a[_i], countryName = _b[0], countryCode = _b[1];\n        if (countryName.toUpperCase() === countryUpper) {\n            //    ( )\n            var codeMap = {\n                '+82': 'KR', '+1': 'US', '+81': 'JP', '+86': 'CN',\n                '+44': 'GB', '+49': 'DE', '+33': 'FR', '+39': 'IT',\n                '+34': 'ES', '+31': 'NL', '+46': 'SE', '+47': 'NO',\n                '+45': 'DK', '+41': 'CH', '+43': 'AT', '+358': 'FI'\n            };\n            return codeMap[countryCode] || 'KR';\n        }\n    }\n    return 'KR'; // : \n};\n/**\n *      \n * @param email  \n * @returns   \n */\nexport var inferCountryCodeFromEmail = function (email) {\n    var _a;\n    if (!email)\n        return 'KR';\n    var domain = (_a = email.split('@')[1]) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n    if (!domain)\n        return 'KR';\n    //       ( )\n    var providerCountryMap = {\n        //   \n        'daum.net': 'KR',\n        'naver.com': 'KR',\n        'hanmail.net': 'KR',\n        'nate.com': 'KR',\n        'paran.com': 'KR',\n        'korea.com': 'KR',\n        'dreamwiz.com': 'KR',\n        'chol.com': 'KR',\n        'hanafos.com': 'KR',\n        //   \n        'gmail.com': 'US',\n        'yahoo.com': 'US',\n        'hotmail.com': 'US',\n        'outlook.com': 'US',\n        'aol.com': 'US',\n        'icloud.com': 'US',\n        'mail.com': 'US',\n        'zoho.com': 'US',\n        //  \n        'qq.com': 'CN',\n        '163.com': 'CN',\n        '126.com': 'CN',\n        'sina.com': 'CN',\n        'sohu.com': 'CN',\n        'yahoo.co.jp': 'JP',\n        'gmail.co.jp': 'JP',\n        'yahoo.co.uk': 'GB',\n        'gmail.co.uk': 'GB',\n        'web.de': 'DE',\n        'gmx.de': 'DE',\n        'libero.it': 'IT',\n        'virgilio.it': 'IT',\n        'yahoo.fr': 'FR',\n        'gmail.fr': 'FR',\n        'yahoo.es': 'ES',\n        'gmail.es': 'ES'\n    };\n    //    \n    if (providerCountryMap[domain]) {\n        return providerCountryMap[domain];\n    }\n    //     (  )\n    var domainCountryMap = {\n        'co.kr': 'KR',\n        'kr': 'KR',\n        'com': 'US',\n        'org': 'US',\n        'net': 'US',\n        'edu': 'US',\n        'gov': 'US',\n        'co.jp': 'JP',\n        'jp': 'JP',\n        'co.cn': 'CN',\n        'cn': 'CN',\n        'co.uk': 'GB',\n        'uk': 'GB',\n        'ca': 'CA',\n        'au': 'AU',\n        'de': 'DE',\n        'fr': 'FR',\n        'it': 'IT',\n        'es': 'ES',\n        'nl': 'NL'\n    };\n    //   \n    if (domainCountryMap[domain]) {\n        return domainCountryMap[domain];\n    }\n    //   (.co.kr, .co.jp )\n    for (var _i = 0, _b = Object.entries(domainCountryMap); _i < _b.length; _i++) {\n        var _c = _b[_i], pattern = _c[0], code = _c[1];\n        if (domain.includes(pattern)) {\n            return code;\n        }\n    }\n    return 'KR'; // : \n};\n/**\n *    users   \n * @param countryCode   (KR, US, JP )\n * @returns users   (users_KR, users_US )\n */\nexport var getUserCollectionName = function (countryCode) {\n    var code = countryCode || 'KR';\n    return \"users_\".concat(code);\n};\n/**\n *      \n * @param email  \n * @param country  ()\n * @returns  \n */\nexport var determineUserCollection = function (email, country) {\n    //      \n    if (country) {\n        var countryCode = normalizeCountryCode(country);\n        return getUserCollectionName(countryCode);\n    }\n    //    \n    var inferredCode = inferCountryCodeFromEmail(email);\n    return getUserCollectionName(inferredCode);\n};\n","//   \n/**\n *    \n * @param email   \n * @returns   true,  false\n */\nexport var isHQAdmin = function (email) {\n    //     (     )\n    var hqAdminEmail = 'movare00@gmail.com';\n    return email === hqAdminEmail;\n};\n/**\n *    \n * @param email  \n * @returns 'hq' | 'store'\n */\nexport var getUserRole = function (email) {\n    return isHQAdmin(email) ? 'hq' : 'store';\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { auth, db } from '../firebase/config';\nimport { generateStoreId, inferCountryCodeFromEmail, normalizeCountryCode } from '../utils/storeUtils';\nimport { isHQAdmin } from '../utils/authUtils';\n//       -    \nvar fetchStoreUserData = function (email) { return __awaiter(void 0, void 0, void 0, function () {\n    var countryCodes, _i, countryCodes_1, countryCode, userDocRef, userDoc, userData, error_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                console.log(' AuthContext:    :', email);\n                countryCodes = ['KR', 'US', 'JP', 'CN', 'GB', 'DE', 'FR', 'IT', 'ES', 'NL'];\n                _i = 0, countryCodes_1 = countryCodes;\n                _a.label = 1;\n            case 1:\n                if (!(_i < countryCodes_1.length)) return [3 /*break*/, 6];\n                countryCode = countryCodes_1[_i];\n                _a.label = 2;\n            case 2:\n                _a.trys.push([2, 4, , 5]);\n                userDocRef = doc(db, \"users_\".concat(countryCode), email);\n                return [4 /*yield*/, getDoc(userDocRef)];\n            case 3:\n                userDoc = _a.sent();\n                if (userDoc.exists()) {\n                    userData = userDoc.data();\n                    console.log(\"\\u2705 AuthContext: \".concat(countryCode, \"\\uC5D0\\uC11C \\uB9E4\\uC7A5 \\uB370\\uC774\\uD130 \\uCC3E\\uC74C:\"), {\n                        email: userData.email,\n                        storeName: userData.storeName,\n                        countryCode: userData.countryCode,\n                        country: userData.country,\n                        role: userData.role\n                    });\n                    return [2 /*return*/, {\n                            uid: userData.uid,\n                            email: userData.email,\n                            displayName: userData.displayName,\n                            role: userData.role,\n                            storeName: userData.storeName,\n                            countryCode: userData.countryCode,\n                            country: userData.country,\n                            region: userData.region,\n                            city: userData.city,\n                            extraEmail: userData.extraEmail,\n                            storeId: userData.storeId\n                        }];\n                }\n                return [3 /*break*/, 5];\n            case 4:\n                error_1 = _a.sent();\n                console.error(\"\\u274C AuthContext: \".concat(countryCode, \" \\uC870\\uD68C \\uC624\\uB958:\"), error_1);\n                return [3 /*break*/, 5];\n            case 5:\n                _i++;\n                return [3 /*break*/, 1];\n            case 6:\n                console.error(' AuthContext:     :', email);\n                return [2 /*return*/, null];\n        }\n    });\n}); };\nvar AuthContext = createContext(undefined);\nexport var useAuth = function () {\n    var context = useContext(AuthContext);\n    if (context === undefined) {\n        throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n};\nexport var AuthProvider = function (_a) {\n    var children = _a.children;\n    var _b = useState(null), user = _b[0], setUser = _b[1];\n    var _c = useState(true), loading = _c[0], setLoading = _c[1];\n    useEffect(function () {\n        var unsubscribe = onAuthStateChanged(auth, function (firebaseUser) { return __awaiter(void 0, void 0, void 0, function () {\n            var email, storeUserData, inferredCountryCode, defaultCountry, docError_1, inferredCountryCode, defaultCountry, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        console.log('Auth state changed:', {\n                            uid: firebaseUser === null || firebaseUser === void 0 ? void 0 : firebaseUser.uid,\n                            email: firebaseUser === null || firebaseUser === void 0 ? void 0 : firebaseUser.email,\n                            timestamp: new Date().toISOString()\n                        });\n                        if (!firebaseUser) return [3 /*break*/, 11];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 9, , 10]);\n                        if (!(firebaseUser.email && isHQAdmin(firebaseUser.email))) return [3 /*break*/, 2];\n                        console.log('HQ admin detected:', firebaseUser.email);\n                        setUser({\n                            uid: firebaseUser.uid,\n                            email: firebaseUser.email,\n                            displayName: firebaseUser.displayName,\n                            role: 'hq'\n                        });\n                        setLoading(false); //   \n                        return [2 /*return*/]; //   -  Firestore  \n                    case 2:\n                        email = firebaseUser.email || '';\n                        if (!email) return [3 /*break*/, 7];\n                        console.log('AuthContext: Store manager detected, email:', email);\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, fetchStoreUserData(email)];\n                    case 4:\n                        storeUserData = _a.sent();\n                        if (storeUserData) {\n                            console.log('AuthContext: Store manager data found:', storeUserData);\n                            setUser({\n                                uid: firebaseUser.uid,\n                                email: firebaseUser.email,\n                                displayName: firebaseUser.displayName,\n                                role: storeUserData.role || 'store',\n                                storeName: storeUserData.storeName,\n                                extraEmail: storeUserData.extraEmail,\n                                //  Firestore      \n                                country: storeUserData.country || '',\n                                countryCode: storeUserData.countryCode || normalizeCountryCode(storeUserData.country || ''),\n                                region: storeUserData.region || '',\n                                city: storeUserData.city || '',\n                                storeId: storeUserData.storeId || generateStoreId(email)\n                            });\n                        }\n                        else {\n                            console.warn('AuthContext: Store manager document not found for email:', email);\n                            inferredCountryCode = inferCountryCodeFromEmail(email);\n                            defaultCountry = inferredCountryCode === 'US' ? 'United States' : '';\n                            setUser({\n                                uid: firebaseUser.uid,\n                                email: firebaseUser.email,\n                                displayName: firebaseUser.displayName,\n                                role: null,\n                                country: defaultCountry,\n                                countryCode: inferredCountryCode,\n                                region: inferredCountryCode === 'KR' ? '' : 'California',\n                                city: inferredCountryCode === 'KR' ? '' : 'Los Angeles',\n                                storeId: generateStoreId(email)\n                            });\n                        }\n                        return [3 /*break*/, 6];\n                    case 5:\n                        docError_1 = _a.sent();\n                        console.error('AuthContext: Store manager data query failed:', docError_1);\n                        inferredCountryCode = inferCountryCodeFromEmail(email);\n                        defaultCountry = inferredCountryCode === 'US' ? 'United States' : '';\n                        setUser({\n                            uid: firebaseUser.uid,\n                            email: firebaseUser.email,\n                            displayName: firebaseUser.displayName,\n                            role: null,\n                            country: defaultCountry,\n                            countryCode: inferredCountryCode,\n                            region: inferredCountryCode === 'KR' ? '' : 'California',\n                            city: inferredCountryCode === 'KR' ? '' : 'Los Angeles',\n                            storeId: generateStoreId(email)\n                        });\n                        return [3 /*break*/, 6];\n                    case 6: return [3 /*break*/, 8];\n                    case 7:\n                        console.warn('AuthContext: Unknown user type, email:', email);\n                        //     \n                        setUser({\n                            uid: firebaseUser.uid,\n                            email: firebaseUser.email,\n                            displayName: firebaseUser.displayName,\n                            role: null\n                        });\n                        _a.label = 8;\n                    case 8: return [3 /*break*/, 10];\n                    case 9:\n                        error_2 = _a.sent();\n                        console.error('Auth context error:', error_2);\n                        //      \n                        setUser({\n                            uid: firebaseUser.uid,\n                            email: firebaseUser.email,\n                            displayName: firebaseUser.displayName,\n                            role: null\n                        });\n                        return [3 /*break*/, 10];\n                    case 10: return [3 /*break*/, 12];\n                    case 11:\n                        setUser(null);\n                        _a.label = 12;\n                    case 12:\n                        setLoading(false);\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n        return function () { return unsubscribe(); };\n    }, []);\n    return (_jsx(AuthContext.Provider, { value: { user: user, loading: loading }, children: children }));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { createContext, useContext, useState, useCallback } from 'react';\nvar NotificationContext = createContext(undefined);\nexport var useNotification = function () {\n    var context = useContext(NotificationContext);\n    if (!context) {\n        throw new Error('useNotification must be used within a NotificationProvider');\n    }\n    return context;\n};\nexport var NotificationProvider = function (_a) {\n    var children = _a.children;\n    var _b = useState([]), notifications = _b[0], setNotifications = _b[1];\n    var addNotification = useCallback(function (notification) {\n        var id = Date.now().toString();\n        var newNotification = __assign(__assign({}, notification), { id: id });\n        setNotifications(function (prev) { return __spreadArray(__spreadArray([], prev, true), [newNotification], false); });\n    }, []);\n    var removeNotification = useCallback(function (id) {\n        setNotifications(function (prev) { return prev.filter(function (notification) { return notification.id !== id; }); });\n    }, []);\n    var clearNotifications = useCallback(function () {\n        setNotifications([]);\n    }, []);\n    var value = {\n        notifications: notifications,\n        addNotification: addNotification,\n        removeNotification: removeNotification,\n        clearNotifications: clearNotifications,\n    };\n    return (_jsx(NotificationContext.Provider, { value: value, children: children }));\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { createContext, useContext, useState } from 'react';\nvar CountryContext = createContext(undefined);\nexport var useCountry = function () {\n    var context = useContext(CountryContext);\n    if (!context) {\n        throw new Error('useCountry must be used within a CountryProvider');\n    }\n    return context;\n};\nexport var CountryProvider = function (_a) {\n    var children = _a.children;\n    var _b = useState('ALL'), selectedCountry = _b[0], setSelectedCountry = _b[1];\n    return (_jsx(CountryContext.Provider, { value: { selectedCountry: selectedCountry, setSelectedCountry: setSelectedCountry }, children: children }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nvar LoadingSpinner = function () {\n    return (_jsx(\"div\", { className: \"min-h-screen bg-gradient-to-br from-gray-950 via-slate-900 to-gray-950 flex items-center justify-center\", children: _jsxs(\"div\", { className: \"relative\", children: [_jsx(\"div\", { className: \"w-16 h-16 border-4 border-gray-800 border-t-violet-500 rounded-full animate-spin\" }), _jsx(\"div\", { className: \"absolute inset-0 w-16 h-16 border-4 border-transparent border-b-cyan-500 rounded-full animate-spin\", style: { animationDelay: '150ms' } })] }) }));\n};\nexport default LoadingSpinner;\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { Navigate, useLocation, useSearchParams } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport LoadingSpinner from './LoadingSpinner';\nexport var ProtectedRoute = function (_a) {\n    var children = _a.children, requiredRole = _a.requiredRole;\n    var _b = useAuth(), user = _b.user, loading = _b.loading;\n    var location = useLocation();\n    var searchParams = useSearchParams()[0];\n    console.log('ProtectedRoute check:', {\n        loading: loading,\n        user: user ? {\n            uid: user.uid,\n            email: user.email,\n            role: user.role\n        } : null,\n        requiredRole: requiredRole,\n        path: location.pathname\n    });\n    if (loading) {\n        return (_jsx(\"div\", { className: \"min-h-screen bg-gray-900 flex items-center justify-center\", children: _jsx(LoadingSpinner, {}) }));\n    }\n    if (!user) {\n        console.log('No user found, redirecting to login');\n        return _jsx(Navigate, { to: \"/login\", state: { from: location }, replace: true });\n    }\n    //    \n    if (!requiredRole) {\n        //     ( ),   \n        console.log('Common page access, no role restriction');\n        return _jsx(_Fragment, { children: children });\n    }\n    if (user.role !== requiredRole) {\n        console.log('Role mismatch:', { userRole: user.role, requiredRole: requiredRole });\n        //        \n        var isSpecificStoreMode = searchParams.get('store');\n        if (requiredRole === 'store' && user.role === 'hq' && isSpecificStoreMode) {\n            console.log('Specific store mode: HQ admin accessing store system, access granted');\n            return _jsx(_Fragment, { children: children });\n        }\n        //    ,     \n        switch (user.role) {\n            case 'hq':\n                console.log('HQ admin accessing store page, redirecting to storemanager');\n                return _jsx(Navigate, { to: \"/storemanager\", replace: true });\n            case 'store':\n                console.log('Store manager accessing hq page, redirecting to system');\n                return _jsx(Navigate, { to: \"/system\", replace: true });\n            default:\n                console.log('Unknown role, showing access denied');\n                return (_jsx(\"div\", { className: \"min-h-screen bg-gray-900 flex items-center justify-center\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"h1\", { className: \"text-2xl font-bold text-white mb-4\", children: \"\\uC811\\uADFC \\uAC70\\uBD80\" }), _jsx(\"p\", { className: \"text-gray-300 mb-2\", children: \"\\uC774 \\uD398\\uC774\\uC9C0\\uC5D0 \\uC811\\uADFC\\uD560 \\uAD8C\\uD55C\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\" }), _jsxs(\"p\", { className: \"text-gray-400 text-sm\", children: [\"\\uD604\\uC7AC \\uC5ED\\uD560: \", user.role || '', \" | \\uD544\\uC694 \\uC5ED\\uD560: \", requiredRole] })] }) }));\n        }\n    }\n    console.log('Access granted, rendering children');\n    return _jsx(_Fragment, { children: children });\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nexport var RoleBasedRedirect = function () {\n    var _a = useAuth(), user = _a.user, loading = _a.loading;\n    if (loading) {\n        return (_jsx(\"div\", { className: \"min-h-screen bg-gray-900 flex items-center justify-center\", children: _jsx(\"div\", { className: \"text-white\", children: \"\\uB85C\\uB529 \\uC911...\" }) }));\n    }\n    if (!user) {\n        console.log('No user found, redirecting to login');\n        return _jsx(Navigate, { to: \"/login\", replace: true });\n    }\n    //   \n    switch (user.role) {\n        case 'hq':\n            console.log('HQ admin logged in, redirecting to storemanager');\n            return _jsx(Navigate, { to: \"/storemanager\", replace: true });\n        case 'store':\n            console.log('Store manager logged in, redirecting to dashboard');\n            return _jsx(Navigate, { to: \"/dashboard\", replace: true });\n        default:\n            console.log('Unknown role, redirecting to login');\n            return _jsx(Navigate, { to: \"/login\", replace: true });\n    }\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { ChevronDownIcon } from '@heroicons/react/24/outline';\nvar countries = [\n    { code: 'ALL', name: 'All Countries', aliases: ['all', ''] },\n    { code: 'KR', name: 'South Korea', aliases: ['korea', 'south korea', '', ''] },\n    { code: 'KP', name: 'North Korea', aliases: ['north korea', ''] },\n    { code: 'US', name: 'United States', aliases: ['usa', 'america', 'united states of america', ''] },\n    { code: 'JP', name: 'Japan', aliases: ['japan', ''] },\n    { code: 'CN', name: 'China', aliases: ['china', ''] },\n    { code: 'GB', name: 'United Kingdom', aliases: ['uk', 'britain', 'england', ''] },\n    { code: 'DE', name: 'Germany', aliases: ['deutschland', ''] },\n    { code: 'FR', name: 'France', aliases: ['france', ''] },\n    { code: 'IT', name: 'Italy', aliases: ['italy', ''] },\n    { code: 'ES', name: 'Spain', aliases: ['spain', ''] },\n    { code: 'NL', name: 'Netherlands', aliases: ['holland', 'nederland', ''] },\n];\nvar CountrySelector = function (_a) {\n    var value = _a.value, onChange = _a.onChange, _b = _a.placeholder, placeholder = _b === void 0 ? \"Search country...\" : _b;\n    var _c = useState(false), isOpen = _c[0], setIsOpen = _c[1];\n    var _d = useState(''), searchTerm = _d[0], setSearchTerm = _d[1];\n    var _e = useState(countries), filteredCountries = _e[0], setFilteredCountries = _e[1];\n    var _f = useState(null), selectedCountry = _f[0], setSelectedCountry = _f[1];\n    var dropdownRef = useRef(null);\n    useEffect(function () {\n        //    \n        var current = countries.find(function (c) { return c.code === value; });\n        setSelectedCountry(current || null);\n        setSearchTerm((current === null || current === void 0 ? void 0 : current.name) || '');\n    }, [value]);\n    useEffect(function () {\n        //   \n        if (!searchTerm) {\n            setFilteredCountries(countries);\n        }\n        else {\n            var filtered = countries.filter(function (country) {\n                var _a;\n                var searchLower = searchTerm.toLowerCase();\n                var nameMatch = country.name.toLowerCase().includes(searchLower);\n                var codeMatch = country.code.toLowerCase().includes(searchLower);\n                var aliasMatch = (_a = country.aliases) === null || _a === void 0 ? void 0 : _a.some(function (alias) {\n                    return alias.toLowerCase().includes(searchLower);\n                });\n                return nameMatch || codeMatch || aliasMatch;\n            });\n            setFilteredCountries(filtered);\n        }\n    }, [searchTerm]);\n    useEffect(function () {\n        //     \n        var handleClickOutside = function (event) {\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n                setIsOpen(false);\n            }\n        };\n        document.addEventListener('click', handleClickOutside);\n        return function () { return document.removeEventListener('click', handleClickOutside); };\n    }, []);\n    var handleSelect = function (country) {\n        setSelectedCountry(country);\n        setSearchTerm(country.name);\n        onChange(country.code);\n        setIsOpen(false);\n    };\n    var handleInputChange = function (e) {\n        var value = e.target.value;\n        setSearchTerm(value);\n        if (!isOpen) {\n            setIsOpen(true);\n        }\n    };\n    var handleInputFocus = function () {\n        setIsOpen(true);\n    };\n    var handleToggle = function () {\n        setIsOpen(!isOpen);\n    };\n    return (_jsxs(\"div\", { className: \"relative\", ref: dropdownRef, children: [_jsxs(\"div\", { className: \"relative\", children: [_jsx(\"input\", { type: \"text\", value: searchTerm, onChange: handleInputChange, onFocus: handleInputFocus, placeholder: placeholder, className: \"w-full bg-gray-700 text-white px-3 py-2 pr-10 rounded border border-gray-600 focus:border-cyan-500 focus:outline-none text-sm\" }), _jsx(\"button\", { onClick: handleToggle, className: \"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white focus:outline-none\", children: _jsx(ChevronDownIcon, { className: \"w-4 h-4 transition-transform \".concat(isOpen ? 'rotate-180' : '') }) })] }), isOpen && (_jsx(\"div\", { className: \"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-auto\", children: filteredCountries.length === 0 ? (_jsx(\"div\", { className: \"px-3 py-2 text-gray-400 text-sm\", children: \"No countries found\" })) : (filteredCountries.map(function (country) { return (_jsxs(\"div\", { onClick: function () { return handleSelect(country); }, className: \"px-3 py-2 cursor-pointer text-sm transition-colors \".concat((selectedCountry === null || selectedCountry === void 0 ? void 0 : selectedCountry.code) === country.code\n                        ? 'bg-cyan-600/20 text-cyan-400'\n                        : 'text-gray-300 hover:bg-gray-700 hover:text-white'), children: [_jsx(\"div\", { className: \"font-medium\", children: country.name }), _jsx(\"div\", { className: \"text-xs text-gray-400\", children: country.code })] }, country.code)); })) }))] }));\n};\nexport default CountrySelector;\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { HomeIcon, BuildingOfficeIcon, ComputerDesktopIcon, ChartBarIcon, Cog6ToothIcon, XMarkIcon } from '@heroicons/react/24/outline';\nimport CountrySelector from './CountrySelector';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useCountry } from '../contexts/CountryContext';\nvar allMenuItems = [\n    { name: ' ', href: '/storemanager', icon: BuildingOfficeIcon },\n    { name: '', href: '/dashboard', icon: ChartBarIcon },\n    { name: '', href: '/system', icon: ComputerDesktopIcon },\n    { name: '', href: '/settings', icon: Cog6ToothIcon },\n];\nexport var Sidebar = function (_a) {\n    var _b = _a.isOpen, isOpen = _b === void 0 ? false : _b, onClose = _a.onClose;\n    var location = useLocation();\n    var user = useAuth().user;\n    var _c = useCountry(), selectedCountry = _c.selectedCountry, setSelectedCountry = _c.setSelectedCountry;\n    //  PC  -     \n    var _d = useState(window.innerWidth >= 1024), isDesktop = _d[0], setIsDesktop = _d[1];\n    useEffect(function () {\n        var handleResize = function () {\n            setIsDesktop(window.innerWidth >= 1024);\n        };\n        window.addEventListener('resize', handleResize);\n        return function () { return window.removeEventListener('resize', handleResize); };\n    }, []);\n    var shouldShow = isDesktop || isOpen;\n    var handleCountryChange = function (countryCode) {\n        setSelectedCountry(countryCode);\n        console.log('Country selected in Sidebar:', countryCode);\n    };\n    var handleMenuItemClick = function () {\n        if (onClose) {\n            onClose();\n        }\n    };\n    return (_jsx(_Fragment, { children: _jsxs(\"div\", { className: \"mobile-nav \".concat(shouldShow ? 'translate-x-0' : '-translate-x-full'), children: [_jsxs(\"div\", { className: \"flex items-center justify-between p-4 lg:hidden\", children: [_jsx(\"h1\", { className: \"text-xl font-bold text-white\", children: \"\\uC2A4\\uD06C\\uB9B0\\uACE8\\uD504 \\uAD00\\uB9AC\" }), _jsx(\"button\", { onClick: onClose, className: \"p-2 rounded-lg text-gray-400 hover:text-white hover:bg-gray-800\", children: _jsx(XMarkIcon, { className: \"w-6 h-6\" }) })] }), _jsx(\"div\", { className: \"hidden lg:flex items-center justify-center h-20 px-4 bg-gradient-to-r from-cyan-600 via-blue-600 to-indigo-600\", children: _jsx(\"h1\", { className: \"text-xl font-bold text-white\", children: \"\\uC2A4\\uD06C\\uB9B0\\uACE8\\uD504 \\uAD00\\uB9AC\" }) }), (user === null || user === void 0 ? void 0 : user.role) === 'hq' && (_jsx(\"div\", { className: \"px-4 pt-6 pb-4\", children: _jsxs(\"div\", { className: \"bg-gray-800/50 rounded-lg p-3\", children: [_jsx(\"label\", { className: \"text-gray-300 text-xs font-medium mb-2 block\", children: \"\\uAD6D\\uAC00 \\uC120\\uD0DD\" }), _jsx(CountrySelector, { value: selectedCountry, onChange: handleCountryChange, placeholder: \"Search country...\" })] }) })), _jsx(\"div\", { className: \"px-4 pb-2\", children: _jsxs(Link, { to: \"/login\", onClick: handleMenuItemClick, className: \"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-300 touch-target \".concat(location.pathname === '/'\n                            ? 'bg-cyan-600/20 text-cyan-400 border-r-2 border-cyan-400'\n                            : 'text-gray-400 hover:bg-gray-800/50 hover:text-white'), children: [_jsx(HomeIcon, { className: \"w-5 h-5 mr-3\" }), \"\\uD648\\uC73C\\uB85C\"] }) }), _jsx(\"nav\", { className: \"mt-2\", children: _jsx(\"div\", { className: \"px-4 space-y-2\", children: allMenuItems.map(function (item) {\n                            var Icon = item.icon;\n                            var isActive = location.pathname === item.href;\n                            //      ,       \n                            var isHidden = ((user === null || user === void 0 ? void 0 : user.role) === 'hq' && item.name === '') || ((user === null || user === void 0 ? void 0 : user.role) === 'store' && item.name === ' ');\n                            if (isHidden) {\n                                return null; //    \n                            }\n                            return (_jsx(\"div\", { children: _jsxs(Link, { to: item.href, onClick: handleMenuItemClick, className: \"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-300 touch-target \".concat(isActive\n                                        ? 'bg-cyan-600/20 text-cyan-400 border-r-2 border-cyan-400'\n                                        : 'text-gray-400 hover:bg-gray-800/50 hover:text-white'), children: [_jsx(Icon, { className: \"w-5 h-5 mr-3\" }), item.name] }) }, item.name));\n                        }) }) })] }) }));\n};\n","import { HomeIcon, ChartBarIcon, ComputerDesktopIcon, Cog6ToothIcon, BuildingOfficeIcon } from '@heroicons/react/24/outline';\nexport var PAGE_INFO = {\n    '/': {\n        title: '',\n        icon: HomeIcon,\n        color: 'text-cyan-400',\n        description: '    ',\n        details: [' ', ' ', ' ']\n    },\n    '/dashboard': {\n        title: '',\n        icon: ChartBarIcon,\n        color: 'text-blue-400',\n        description: '   ',\n        details: [' ', ' ', ' ']\n    },\n    '/system': {\n        title: ' ',\n        icon: ComputerDesktopIcon,\n        color: 'text-purple-400',\n        description: '   ',\n        details: [' ', '  ', ' ']\n    },\n    '/settings': {\n        title: '',\n        icon: Cog6ToothIcon,\n        color: 'text-gray-400',\n        description: '    ',\n        details: [' ', ' ', ' ']\n    },\n    '/storemanager': {\n        title: '  ',\n        icon: BuildingOfficeIcon,\n        color: 'text-emerald-400',\n        description: '    ',\n        details: [' ', ' ', ' ']\n    }\n};\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { UserIcon, Bars3Icon } from '@heroicons/react/24/outline';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useLocation } from 'react-router-dom';\nimport { PAGE_INFO } from '../data/pageInfo';\nexport var Header = function (_a) {\n    var onMenuClick = _a.onMenuClick;\n    var user = useAuth().user;\n    var location = useLocation();\n    var _b = useState(false), showPanel = _b[0], setShowPanel = _b[1];\n    var _c = useState(navigator.onLine), isOnline = _c[0], setIsOnline = _c[1];\n    //   \n    useEffect(function () {\n        var handleOnline = function () { return setIsOnline(true); };\n        var handleOffline = function () { return setIsOnline(false); };\n        window.addEventListener('online', handleOnline);\n        window.addEventListener('offline', handleOffline);\n        return function () {\n            window.removeEventListener('online', handleOnline);\n            window.removeEventListener('offline', handleOffline);\n        };\n    }, []);\n    //    \n    var getPageInfo = function (pathname) {\n        return PAGE_INFO[pathname] || PAGE_INFO['/'];\n    };\n    var pageInfo = getPageInfo(location.pathname);\n    var Icon = pageInfo.icon;\n    //  \n    var togglePanel = function () {\n        setShowPanel(!showPanel);\n    };\n    //     \n    React.useEffect(function () {\n        var handleClickOutside = function (event) {\n            var target = event.target;\n            var headerElement = target.closest('header');\n            var panelElement = target.closest('.dynamic-panel');\n            if (headerElement && !panelElement) {\n                setShowPanel(false);\n            }\n        };\n        if (showPanel) {\n            document.addEventListener('mousedown', handleClickOutside);\n            return function () {\n                document.removeEventListener('mousedown', handleClickOutside);\n            };\n        }\n    }, [showPanel]);\n    return (_jsxs(_Fragment, { children: [_jsx(\"header\", { className: \"mobile-header\", children: _jsxs(\"div\", { className: \"flex items-center justify-between w-full\", children: [_jsxs(\"div\", { className: \"flex items-center\", children: [_jsx(\"button\", { onClick: onMenuClick, className: \"mobile-menu-button touch-target\", title: \"\\uBA54\\uB274\", children: _jsx(Bars3Icon, {}) }), _jsxs(\"div\", { className: \"ml-4 flex items-center\", children: [_jsx(Icon, { className: \"w-8 h-8 mr-3 \".concat(pageInfo.color) }), _jsx(\"h2\", { className: \"text-xl font-semibold text-white\", children: pageInfo.title })] })] }), _jsx(\"div\", { className: \"flex items-center space-x-3\", children: _jsxs(\"div\", { className: \"flex items-center space-x-3\", children: [_jsxs(\"div\", { className: \"text-right\", children: [_jsx(\"p\", { className: \"text-sm font-medium text-white\", children: (user === null || user === void 0 ? void 0 : user.displayName) || '' }), _jsx(\"p\", { className: \"text-xs text-gray-400\", children: (user === null || user === void 0 ? void 0 : user.email) || 'admin@screengolf.com' })] }), _jsx(\"div\", { className: \"w-10 h-10 bg-cyan-600 rounded-full flex items-center justify-center\", children: _jsx(UserIcon, { className: \"w-6 h-6 text-white\" }) })] }) })] }) }), _jsx(\"header\", { className: \"hidden lg:block bg-gray-900/95 backdrop-blur-xl border-b border-gray-700/50\", children: _jsxs(\"div\", { className: \"flex items-center justify-between px-8 h-20\", children: [_jsxs(\"div\", { className: \"flex items-center\", children: [_jsx(Icon, { className: \"w-10 h-10 mr-4 \".concat(pageInfo.color) }), _jsx(\"h2\", { className: \"text-2xl font-semibold text-white\", children: pageInfo.title })] }), _jsx(\"div\", { className: \"flex items-center space-x-6\", children: _jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [_jsxs(\"div\", { className: \"text-right\", children: [_jsx(\"p\", { className: \"text-base font-medium text-white\", children: (user === null || user === void 0 ? void 0 : user.displayName) || '' }), _jsx(\"p\", { className: \"text-sm text-gray-400\", children: (user === null || user === void 0 ? void 0 : user.email) || 'admin@screengolf.com' })] }), _jsx(\"div\", { className: \"w-12 h-12 bg-cyan-600 rounded-full flex items-center justify-center\", children: _jsx(UserIcon, { className: \"w-8 h-8 text-white\" }) })] }) }), _jsx(\"div\", { className: \"absolute right-8 top-20 w-80 bg-gray-900/95 backdrop-blur-xl border border-gray-700/50 rounded-xl shadow-2xl z-50 transition-all duration-300 \".concat(showPanel ? 'opacity-100 translate-y-0 pointer-events-auto' : 'opacity-0 translate-y-2 pointer-events-none'), children: _jsxs(\"div\", { className: \"p-6\", children: [_jsxs(\"div\", { className: \"space-y-3\", children: [_jsx(\"h4\", { className: \"text-sm font-medium text-gray-300\", children: \"\\uC8FC\\uC694 \\uAE30\\uB2A5:\" }), _jsx(\"ul\", { className: \"space-y-2\", children: pageInfo.details.map(function (detail, index) { return (_jsxs(\"li\", { className: \"flex items-center text-sm text-gray-400\", children: [_jsx(\"svg\", { className: \"w-4 h-4 mr-2 text-cyan-400\", fill: \"none\", stroke: \"currentColor\", viewBox: \"0 0 24 24\", children: _jsx(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 2, d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" }) }), detail] }, index)); }) })] }), _jsxs(\"div\", { className: \"pt-4 border-t border-gray-700/50\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between text-xs text-gray-500 mb-2\", children: [_jsx(\"span\", { children: \"\\uC5F0\\uACB0 \\uC0C1\\uD0DC:\" }), _jsx(\"span\", { className: isOnline ? \"text-green-500\" : \"text-red-500\", children: isOnline ? \"\" : \"\" })] }), _jsxs(\"div\", { className: \"flex items-center justify-between text-xs text-gray-500\", children: [_jsxs(\"span\", { children: [\"\\uB9C8\\uC9C0\\uB9C9 \\uC5C5\\uB370\\uC774\\uD2B8: \", new Date().toLocaleString('ko-KR')] }), _jsx(\"button\", { onClick: function () { return setShowPanel(false); }, className: \"text-cyan-400 hover:text-cyan-300 transition-colors\", children: \"\\uB2EB\\uAE30\" })] })] })] }) })] }) })] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport { CheckCircleIcon, ExclamationTriangleIcon, InformationCircleIcon, XMarkIcon } from '@heroicons/react/24/outline';\nvar NotificationToast = function (_a) {\n    var notification = _a.notification, onClose = _a.onClose;\n    useEffect(function () {\n        var timer = setTimeout(function () {\n            onClose();\n        }, notification.duration || 5000);\n        return function () { return clearTimeout(timer); };\n    }, [notification.id, notification.duration, onClose]);\n    var getIcon = function () {\n        switch (notification.type) {\n            case 'success':\n                return _jsx(CheckCircleIcon, { className: \"w-5 h-5 text-emerald-500\" });\n            case 'warning':\n                return _jsx(ExclamationTriangleIcon, { className: \"w-5 h-5 text-amber-500\" });\n            case 'error':\n                return _jsx(ExclamationTriangleIcon, { className: \"w-5 h-5 text-red-500\" });\n            case 'info':\n                return _jsx(InformationCircleIcon, { className: \"w-5 h-5 text-blue-500\" });\n            default:\n                return _jsx(InformationCircleIcon, { className: \"w-5 h-5 text-blue-500\" });\n        }\n    };\n    var getColors = function () {\n        switch (notification.type) {\n            case 'success':\n                return 'bg-emerald-50 border-emerald-200 text-emerald-800';\n            case 'warning':\n                return 'bg-amber-50 border-amber-200 text-amber-800';\n            case 'error':\n                return 'bg-red-50 border-red-200 text-red-800';\n            case 'info':\n                return 'bg-blue-50 border-blue-200 text-blue-800';\n            default:\n                return 'bg-blue-50 border-blue-200 text-blue-800';\n        }\n    };\n    return (_jsx(\"div\", { className: \"fixed top-4 right-4 z-50 max-w-sm w-full animate-pulse\", children: _jsx(\"div\", { className: \"p-4 rounded-lg shadow-lg border \".concat(getColors(), \" backdrop-blur-sm\"), children: _jsxs(\"div\", { className: \"flex items-start space-x-3\", children: [_jsx(\"div\", { className: \"flex-shrink-0 mt-0.5\", children: getIcon() }), _jsxs(\"div\", { className: \"flex-1 min-w-0\", children: [_jsx(\"h4\", { className: \"text-sm font-semibold mb-1\", children: notification.title }), _jsx(\"p\", { className: \"text-sm opacity-90\", children: notification.message })] }), _jsx(\"button\", { onClick: onClose, className: \"flex-shrink-0 p-1 rounded-md hover:bg-black/5 transition-colors\", children: _jsx(XMarkIcon, { className: \"w-4 h-4 opacity-60 hover:opacity-100\" }) })] }) }) }));\n};\nexport default NotificationToast;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { useNotification } from '../contexts/NotificationContext';\nimport NotificationToast from './NotificationToast';\nvar NotificationContainer = function () {\n    var _a = useNotification(), notifications = _a.notifications, removeNotification = _a.removeNotification;\n    return (_jsx(\"div\", { className: \"fixed top-4 right-4 z-50 space-y-2\", children: notifications.map(function (notification) { return (_jsx(NotificationToast, { notification: notification, onClose: function () { return removeNotification(notification.id); } }, notification.id)); }) }));\n};\nexport default NotificationContainer;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { Sidebar } from './Sidebar';\nimport { Header } from './Header';\nimport NotificationContainer from './NotificationContainer';\nexport var Layout = function (_a) {\n    var children = _a.children;\n    var _b = useState(false), sidebarOpen = _b[0], setSidebarOpen = _b[1];\n    return (_jsxs(\"div\", { className: \"flex h-screen bg-gradient-to-br from-gray-950 via-slate-900 to-gray-950\", children: [sidebarOpen && (_jsx(\"div\", { className: \"mobile-nav-overlay\", onClick: function () { return setSidebarOpen(false); } })), _jsx(Sidebar, { isOpen: sidebarOpen, onClose: function () { return setSidebarOpen(false); } }), _jsxs(\"div\", { className: \"flex-1 flex flex-col overflow-hidden\", children: [_jsx(Header, { onMenuClick: function () { return setSidebarOpen(!sidebarOpen); } }), _jsx(\"main\", { className: \"flex-1 overflow-x-hidden overflow-y-auto bg-gray-950/50 p-4 mobile-content\", children: children || _jsx(Outlet, {}) }), _jsx(NotificationContainer, {})] })] }));\n};\n","export var EMAIL_TEMPLATES = {\n    korean: {\n        subject: '   -  ',\n        successMessage: '   .  .',\n        errorMessage: '    .',\n        userNotFound: '  .',\n        invalidEmail: '   .',\n        tooManyRequests: '   .    .'\n    },\n    english: {\n        subject: 'Screen Golf Management System - Password Reset',\n        successMessage: 'Password reset link has been sent. Please check your email.',\n        errorMessage: 'Failed to send password reset email.',\n        userNotFound: 'User not found.',\n        invalidEmail: 'Invalid email format.',\n        tooManyRequests: 'Too many requests. Please try again later.'\n    }\n};\nexport var detectLanguage = function (email, userCountry) {\n    var _a;\n    //      \n    if (userCountry) {\n        return (userCountry === '' || userCountry === '') ? 'korean' : 'english';\n    }\n    //     \n    var domain = (_a = email.split('@')[1]) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n    var koreanDomains = ['co.kr', 'kr', 'ac.kr', 'go.kr'];\n    if (koreanDomains.some(function (kDomain) { return domain === null || domain === void 0 ? void 0 : domain.endsWith(kDomain); })) {\n        return 'korean';\n    }\n    return 'english'; // \n};\nexport var getEmailTemplate = function (email, userCountry) {\n    var language = detectLanguage(email, userCountry);\n    return EMAIL_TEMPLATES[language];\n};\n","import { getEmailTemplate } from '../data/emailTemplates';\nexport var detectLanguage = function (email, userCountry) {\n    var _a;\n    //      \n    if (userCountry) {\n        return (userCountry === '' || userCountry === '') ? 'korean' : 'english';\n    }\n    //     \n    var domain = (_a = email.split('@')[1]) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n    var koreanDomains = ['co.kr', 'kr', 'ac.kr', 'go.kr'];\n    if (koreanDomains.some(function (kDomain) { return domain === null || domain === void 0 ? void 0 : domain.endsWith(kDomain); })) {\n        return 'korean';\n    }\n    return 'english'; // \n};\nexport var getEmailTemplateForUser = function (email, userCountry) {\n    return getEmailTemplate(email, userCountry);\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, sendPasswordResetEmail } from 'firebase/auth';\nimport { auth, db } from './config';\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\nimport { getEmailTemplateForUser } from '../utils/languageDetector';\nimport { determineUserCollection, inferCountryCodeFromEmail, normalizeCountryCode } from '../utils/storeUtils';\nimport { isHQAdmin } from '../utils/authUtils';\n//     (/   )\nexport var signInWithEmail = function (email, password) { return __awaiter(void 0, void 0, Promise, function () {\n    var result, user, countryCode, targetCollection, docRef, docSnap, userDoc, foundCollection, userData, error_1, error_2;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                _a.trys.push([0, 13, , 14]);\n                console.log('Attempting email login:', { email: email });\n                return [4 /*yield*/, signInWithEmailAndPassword(auth, email, password)];\n            case 1:\n                result = _a.sent();\n                user = result.user;\n                console.log('Firebase auth successful:', { uid: user.uid, email: user.email });\n                //   \n                if (isHQAdmin(email)) {\n                    console.log('HQ admin detected:', email);\n                    return [2 /*return*/, {\n                            success: true,\n                            user: user,\n                            role: 'hq'\n                        }];\n                }\n                //   \n                console.log('Store manager detected, email:', email);\n                countryCode = inferCountryCodeFromEmail(email);\n                targetCollection = \"users_\".concat(countryCode);\n                console.log(\"Searching in optimized collection: \".concat(targetCollection, \" for email: \").concat(email));\n                _a.label = 2;\n            case 2:\n                _a.trys.push([2, 10, , 12]);\n                docRef = doc(db, targetCollection, email);\n                return [4 /*yield*/, getDoc(docRef)];\n            case 3:\n                docSnap = _a.sent();\n                if (!docSnap.exists()) return [3 /*break*/, 7];\n                userDoc = docSnap;\n                foundCollection = targetCollection;\n                console.log(\"Found user in optimized collection: \".concat(foundCollection));\n                userData = userDoc.data();\n                console.log('User data:', { approved: userData === null || userData === void 0 ? void 0 : userData.approved, role: userData === null || userData === void 0 ? void 0 : userData.role });\n                if (!!(userData === null || userData === void 0 ? void 0 : userData.approved)) return [3 /*break*/, 5];\n                console.log('User not approved, signing out');\n                return [4 /*yield*/, signOut(auth)];\n            case 4:\n                _a.sent();\n                return [2 /*return*/, {\n                        success: false,\n                        error: \"  .   .\"\n                    }];\n            case 5: \n            //    \n            return [4 /*yield*/, setDoc(doc(db, foundCollection, email), {\n                    lastLogin: new Date()\n                }, { merge: true })];\n            case 6:\n                //    \n                _a.sent();\n                console.log('Last login updated successfully');\n                return [2 /*return*/, {\n                        success: true,\n                        user: user,\n                        role: 'store'\n                    }];\n            case 7:\n                console.log('User not found in optimized collection, signing out');\n                return [4 /*yield*/, signOut(auth)];\n            case 8:\n                _a.sent();\n                return [2 /*return*/, {\n                        success: false,\n                        error: \"   .\"\n                    }];\n            case 9: return [3 /*break*/, 12];\n            case 10:\n                error_1 = _a.sent();\n                console.log(\"Error searching collection \".concat(targetCollection, \":\"), error_1);\n                return [4 /*yield*/, signOut(auth)];\n            case 11:\n                _a.sent();\n                return [2 /*return*/, {\n                        success: false,\n                        error: \"   .\"\n                    }];\n            case 12: return [3 /*break*/, 14];\n            case 13:\n                error_2 = _a.sent();\n                console.error(' :', error_2);\n                if (error_2.code === 'auth/user-not-found') {\n                    return [2 /*return*/, {\n                            success: false,\n                            error: \"  .\"\n                        }];\n                }\n                else if (error_2.code === 'auth/wrong-password') {\n                    return [2 /*return*/, {\n                            success: false,\n                            error: \"  .\"\n                        }];\n                }\n                else if (error_2.code === 'auth/invalid-email') {\n                    return [2 /*return*/, {\n                            success: false,\n                            error: \"   .\"\n                        }];\n                }\n                else if (error_2.code === 'auth/too-many-requests') {\n                    return [2 /*return*/, {\n                            success: false,\n                            error: \"    .    .\"\n                        }];\n                }\n                else {\n                    return [2 /*return*/, {\n                            success: false,\n                            error: \"   .\"\n                        }];\n                }\n                return [3 /*break*/, 14];\n            case 14: return [2 /*return*/];\n        }\n    });\n}); };\n// IP   \nvar getClientIP = function () { return __awaiter(void 0, void 0, Promise, function () {\n    var response, data, error_3;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                _a.trys.push([0, 3, , 4]);\n                return [4 /*yield*/, fetch('https://ipapi.co/json/')];\n            case 1:\n                response = _a.sent();\n                return [4 /*yield*/, response.json()];\n            case 2:\n                data = _a.sent();\n                return [2 /*return*/, data.ip];\n            case 3:\n                error_3 = _a.sent();\n                console.error('IP  :', error_3);\n                return [2 /*return*/, 'unknown'];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n//   \nvar getRegionInfo = function (ip) { return __awaiter(void 0, void 0, Promise, function () {\n    var response, data, error_4;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                _a.trys.push([0, 3, , 4]);\n                return [4 /*yield*/, fetch(\"https://ipapi.co/json/\".concat(ip))];\n            case 1:\n                response = _a.sent();\n                return [4 /*yield*/, response.json()];\n            case 2:\n                data = _a.sent();\n                return [2 /*return*/, \"\".concat(data.country_name, \" (\").concat(data.region_name, \")\")];\n            case 3:\n                error_4 = _a.sent();\n                console.error('   :', error_4);\n                return [2 /*return*/, '  '];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n//    \nexport var resetPassword = function (email) { return __awaiter(void 0, void 0, Promise, function () {\n    var userCountry, countryCode, possibleCollections, _i, possibleCollections_1, collectionName, userDoc, userData, error_5, template, error_6, template;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                _a.trys.push([0, 8, , 9]);\n                console.log('Sending password reset email to:', email);\n                userCountry = void 0;\n                countryCode = inferCountryCodeFromEmail(email);\n                possibleCollections = [\n                    \"users_\".concat(countryCode),\n                    'users_KR', 'users_US', 'users_JP', 'users_CN', 'users_GB',\n                    'users_DE', 'users_FR', 'users_IT', 'users_ES', 'users_NL'\n                ];\n                _i = 0, possibleCollections_1 = possibleCollections;\n                _a.label = 1;\n            case 1:\n                if (!(_i < possibleCollections_1.length)) return [3 /*break*/, 6];\n                collectionName = possibleCollections_1[_i];\n                _a.label = 2;\n            case 2:\n                _a.trys.push([2, 4, , 5]);\n                return [4 /*yield*/, getDoc(doc(db, collectionName, email))];\n            case 3:\n                userDoc = _a.sent();\n                if (userDoc.exists()) {\n                    userData = userDoc.data();\n                    userCountry = userData === null || userData === void 0 ? void 0 : userData.country;\n                    console.log(\"Found user in collection: \".concat(collectionName, \", country: \").concat(userCountry));\n                    return [3 /*break*/, 6];\n                }\n                return [3 /*break*/, 5];\n            case 4:\n                error_5 = _a.sent();\n                return [3 /*break*/, 5];\n            case 5:\n                _i++;\n                return [3 /*break*/, 1];\n            case 6:\n                template = getEmailTemplateForUser(email, userCountry);\n                // Firebase     \n                return [4 /*yield*/, sendPasswordResetEmail(auth, email)];\n            case 7:\n                // Firebase     \n                _a.sent();\n                return [2 /*return*/, {\n                        success: true,\n                        error: template.successMessage\n                    }];\n            case 8:\n                error_6 = _a.sent();\n                console.error('  :', error_6);\n                template = getEmailTemplateForUser(email);\n                if (error_6.code === 'auth/user-not-found') {\n                    return [2 /*return*/, {\n                            success: false,\n                            error: template.userNotFound\n                        }];\n                }\n                else if (error_6.code === 'auth/invalid-email') {\n                    return [2 /*return*/, {\n                            success: false,\n                            error: template.invalidEmail\n                        }];\n                }\n                else if (error_6.code === 'auth/too-many-requests') {\n                    return [2 /*return*/, {\n                            success: false,\n                            error: template.tooManyRequests\n                        }];\n                }\n                else {\n                    return [2 /*return*/, {\n                            success: false,\n                            error: template.errorMessage\n                        }];\n                }\n                return [3 /*break*/, 9];\n            case 9: return [2 /*return*/];\n        }\n    });\n}); };\n//   \nexport var signUpStoreAdmin = function (email, password, storeName, phoneNumber, location, //    \nextraEmail, //    (  Gmail)\ncountry //    \n) { return __awaiter(void 0, void 0, Promise, function () {\n    function signUpWithRetry() {\n        return __awaiter(this, void 0, Promise, function () {\n            var collectionName, inferredCountryCode, targetCollection, docRef, docSnap, regionInfo, clientIP, cleanRegion, result, user, countryCode, error_8, errorMessage;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(retryCount < maxRetries)) return [3 /*break*/, 8];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 5, , 7]);\n                        collectionName = determineUserCollection(email, country);\n                        console.log(\"Using collection: \".concat(collectionName, \" for email: \").concat(email, \", country: \").concat(country));\n                        inferredCountryCode = inferCountryCodeFromEmail(email);\n                        targetCollection = \"users_\".concat(inferredCountryCode);\n                        console.log(\"Checking for duplicate in optimized collection: \".concat(targetCollection, \" for email: \").concat(email));\n                        docRef = doc(db, targetCollection, email);\n                        return [4 /*yield*/, getDoc(docRef)];\n                    case 2:\n                        docSnap = _a.sent();\n                        if (docSnap.exists()) {\n                            console.log(\"Found existing user in collection: \".concat(targetCollection));\n                            return [2 /*return*/, {\n                                    success: false,\n                                    error: \"   .\"\n                                }];\n                        }\n                        regionInfo = location || '';\n                        clientIP = 'geolocation';\n                        if (!regionInfo) {\n                            //     ( API  )\n                            regionInfo = country || '';\n                            clientIP = 'default';\n                        }\n                        cleanRegion = regionInfo.replace(/^\\s*/, '').trim();\n                        console.log('   :', {\n                            original: regionInfo,\n                            cleaned: cleanRegion\n                        });\n                        return [4 /*yield*/, createUserWithEmailAndPassword(auth, email, password)];\n                    case 3:\n                        result = _a.sent();\n                        user = result.user;\n                        countryCode = normalizeCountryCode(country || '');\n                        return [4 /*yield*/, setDoc(doc(db, collectionName, email), {\n                                uid: user.uid,\n                                email: email, //   ( )\n                                extraEmail: extraEmail, //   ( )\n                                storeName: storeName,\n                                phoneNumber: phoneNumber,\n                                role: 'store',\n                                createdAt: new Date(),\n                                lastLogin: new Date(),\n                                approved: false, //   \n                                clientIP: clientIP, //  :  API  \n                                region: cleanRegion, //      \n                                country: country || '', //   \n                                countryCode: countryCode, //    \n                                collectionName: collectionName //    \n                            })];\n                    case 4:\n                        _a.sent();\n                        console.log(\"User created successfully in collection: \".concat(collectionName));\n                        //      \n                        return [2 /*return*/, {\n                                success: true,\n                                error: \"\\uD68C\\uC6D0\\uAC00\\uC785\\uC774 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uC774\\uBA54\\uC77C\\uC774 \".concat(email, \"(\\uC73C)\\uB85C \\uAC00\\uC785\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uAD00\\uB9AC\\uC790 \\uC2B9\\uC778 \\uD6C4 \\uB85C\\uADF8\\uC778 \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4.\")\n                            }];\n                    case 5:\n                        error_8 = _a.sent();\n                        retryCount++;\n                        console.error(\"\\uD68C\\uC6D0\\uAC00\\uC785 \\uC2DC\\uB3C4 \".concat(retryCount, \" \\uC2E4\\uD328:\"), error_8);\n                        if (retryCount >= maxRetries) {\n                            errorMessage = analyzeError(error_8);\n                            return [2 /*return*/, {\n                                    success: false,\n                                    error: errorMessage\n                                }];\n                        }\n                        //   \n                        return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(resolve, 1000); })];\n                    case 6:\n                        //   \n                        _a.sent();\n                        return [3 /*break*/, 7];\n                    case 7: return [3 /*break*/, 0];\n                    case 8: \n                    //     \n                    return [2 /*return*/, {\n                            success: false,\n                            error: \"   .    .\"\n                        }];\n                }\n            });\n        });\n    }\n    var retryCount, maxRetries, error_7;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                retryCount = 0;\n                maxRetries = 3;\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                return [4 /*yield*/, signUpWithRetry()];\n            case 2: return [2 /*return*/, _a.sent()];\n            case 3:\n                error_7 = _a.sent();\n                console.error('   :', error_7);\n                return [2 /*return*/, {\n                        success: false,\n                        error: \"    .  .\"\n                    }];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n//   \nfunction analyzeError(error) {\n    if (error.code === 'auth/email-already-in-use') {\n        return \"   .\";\n    }\n    else if (error.code === 'auth/weak-password') {\n        return \"  . 8  .\";\n    }\n    else if (error.code === 'auth/invalid-email') {\n        return \"   .\";\n    }\n    else if (error.code === 'permission-denied') {\n        return \" .  .\";\n    }\n    else if (error.code === 'resource-exhausted') {\n        return \"  .    .\";\n    }\n    else {\n        return \"   .    .\";\n    }\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { EyeIcon, EyeSlashIcon, ChevronRightIcon, UserIcon, BuildingOfficeIcon, EnvelopeIcon, MapPinIcon, ArrowPathIcon } from '@heroicons/react/24/outline';\nimport { signInWithEmail, signUpStoreAdmin, resetPassword } from '../firebase/auth';\nexport var Login = function () {\n    var navigate = useNavigate();\n    var _a = useState(false), isLoading = _a[0], setIsLoading = _a[1];\n    var _b = useState(''), error = _b[0], setError = _b[1];\n    var _c = useState(''), success = _c[0], setSuccess = _c[1];\n    var _d = useState(false), showPassword = _d[0], setShowPassword = _d[1];\n    var _e = useState(false), showConfirmPassword = _e[0], setShowConfirmPassword = _e[1];\n    var _f = useState(false), isSignUp = _f[0], setIsSignUp = _f[1];\n    var _g = useState(false), rememberMe = _g[0], setRememberMe = _g[1];\n    var _h = useState(false), locationLoading = _h[0], setLocationLoading = _h[1];\n    var _j = useState(''), locationError = _j[0], setLocationError = _j[1];\n    var _k = useState(false), showPasswordReset = _k[0], setShowPasswordReset = _k[1];\n    var _l = useState(''), resetEmail = _l[0], setResetEmail = _l[1];\n    //    \n    var getCurrentLocation = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            setLocationLoading(true);\n            setLocationError('');\n            if (!navigator.geolocation) {\n                setLocationError('     ');\n                setLocationLoading(false);\n                return [2 /*return*/];\n            }\n            navigator.geolocation.getCurrentPosition(function (position) { return __awaiter(void 0, void 0, void 0, function () {\n                var _a, latitude, longitude, response, data, address, country_1, province_1, city_1, err_1;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            _a = position.coords, latitude = _a.latitude, longitude = _a.longitude;\n                            _b.label = 1;\n                        case 1:\n                            _b.trys.push([1, 4, , 5]);\n                            return [4 /*yield*/, fetch(\"https://nominatim.openstreetmap.org/reverse?format=json&lat=\".concat(latitude, \"&lon=\").concat(longitude, \"&accept-language=ko&extratags=1&namedetails=1\"))];\n                        case 2:\n                            response = _b.sent();\n                            return [4 /*yield*/, response.json()];\n                        case 3:\n                            data = _b.sent();\n                            if (data && data.address) {\n                                address = data.address;\n                                country_1 = address.country || '';\n                                province_1 = address.state || address.province || '';\n                                city_1 = address.city || address.town || address.village || '';\n                                //     \n                                setFormData(function (prev) { return (__assign(__assign({}, prev), { country: country_1, province: province_1, city: city_1, location: \"\".concat(country_1, \" \").concat(province_1, \" \").concat(city_1).trim() })); });\n                            }\n                            else {\n                                setFormData(function (prev) { return (__assign(__assign({}, prev), { location: '   ' })); });\n                            }\n                            return [3 /*break*/, 5];\n                        case 4:\n                            err_1 = _b.sent();\n                            console.error('  :', err_1);\n                            setFormData(function (prev) { return (__assign(__assign({}, prev), { location: '  ' })); });\n                            return [3 /*break*/, 5];\n                        case 5:\n                            setLocationLoading(false);\n                            return [2 /*return*/];\n                    }\n                });\n            }); }, function (error) {\n                setLocationLoading(false);\n                switch (error.code) {\n                    case error.PERMISSION_DENIED:\n                        setLocationError('  ');\n                        break;\n                    case error.POSITION_UNAVAILABLE:\n                        setLocationError('    ');\n                        break;\n                    case error.TIMEOUT:\n                        setLocationError('    ');\n                        break;\n                    default:\n                        setLocationError('   ');\n                }\n            }, {\n                enableHighAccuracy: true,\n                timeout: 10000,\n                maximumAge: 0\n            });\n            return [2 /*return*/];\n        });\n    }); };\n    var _m = useState({\n        email: '',\n        password: '',\n        confirmPassword: '',\n        storeName: '',\n        phoneNumber: '',\n        location: '',\n        country: '',\n        province: '',\n        city: ''\n    }), formData = _m[0], setFormData = _m[1];\n    //   - localStorage  \n    React.useEffect(function () {\n        var savedEmail = localStorage.getItem('rememberedEmail');\n        if (savedEmail) {\n            setFormData(function (prev) { return (__assign(__assign({}, prev), { email: savedEmail })); });\n            setRememberMe(true);\n        }\n    }, []);\n    var handleInputChange = function (e) {\n        var _a = e.target, name = _a.name, value = _a.value;\n        setFormData(function (prev) {\n            var _a;\n            return (__assign(__assign({}, prev), (_a = {}, _a[name] = value, _a)));\n        });\n    };\n    //   \n    var isEmailValid = function (email) {\n        var emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return emailRegex.test(email);\n    };\n    var emailError = formData.email && !isEmailValid(formData.email) ? '   ' : '';\n    //   \n    var handleEmailAuth = function (e) { return __awaiter(void 0, void 0, void 0, function () {\n        var result, result, err_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    e.preventDefault();\n                    setError('');\n                    setSuccess('');\n                    //   \n                    if (!isEmailValid(formData.email)) {\n                        setError('   ');\n                        return [2 /*return*/];\n                    }\n                    //   \n                    if (formData.password.length < 6) {\n                        setError('  6  ');\n                        return [2 /*return*/];\n                    }\n                    //     \n                    if (isSignUp && formData.password !== formData.confirmPassword) {\n                        setError('  ');\n                        return [2 /*return*/];\n                    }\n                    //     \n                    if (isSignUp) {\n                        if (!formData.storeName.trim()) {\n                            setError('  ');\n                            return [2 /*return*/];\n                        }\n                        if (!formData.phoneNumber.trim()) {\n                            setError(' ');\n                            return [2 /*return*/];\n                        }\n                    }\n                    setIsLoading(true);\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, 7, 8]);\n                    if (!isSignUp) return [3 /*break*/, 3];\n                    return [4 /*yield*/, signUpStoreAdmin(formData.email, formData.password, formData.storeName, formData.phoneNumber, formData.location, undefined, // extraEmail \n                        formData.country)];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        setSuccess(result.error || ' .      .');\n                        //      \n                        setTimeout(function () {\n                            setIsSignUp(false);\n                            setFormData({\n                                email: formData.email,\n                                password: '',\n                                confirmPassword: '',\n                                storeName: '',\n                                phoneNumber: '',\n                                location: '',\n                                country: '',\n                                province: '',\n                                city: ''\n                            });\n                        }, 2000);\n                    }\n                    else {\n                        setError(result.error || '   ');\n                    }\n                    return [3 /*break*/, 5];\n                case 3: return [4 /*yield*/, signInWithEmail(formData.email, formData.password)];\n                case 4:\n                    result = _a.sent();\n                    if (result.success) {\n                        setSuccess(' !');\n                        //   \n                        if (rememberMe) {\n                            localStorage.setItem('rememberedEmail', formData.email);\n                        }\n                        else {\n                            localStorage.removeItem('rememberedEmail');\n                        }\n                        //   \n                        setTimeout(function () {\n                            navigate('/redirect');\n                        }, 1000);\n                    }\n                    else {\n                        setError(result.error || '   ');\n                    }\n                    _a.label = 5;\n                case 5: return [3 /*break*/, 8];\n                case 6:\n                    err_2 = _a.sent();\n                    console.error(' :', err_2);\n                    setError('   .  ');\n                    return [3 /*break*/, 8];\n                case 7:\n                    setIsLoading(false);\n                    return [7 /*endfinally*/];\n                case 8: return [2 /*return*/];\n            }\n        });\n    }); };\n    //   \n    var handlePasswordReset = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var result, err_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!resetEmail.trim() || !isEmailValid(resetEmail)) {\n                        setError('   ');\n                        return [2 /*return*/];\n                    }\n                    setIsLoading(true);\n                    setError('');\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, 4, 5]);\n                    return [4 /*yield*/, resetPassword(resetEmail)];\n                case 2:\n                    result = _a.sent();\n                    if (result.success) {\n                        setSuccess(result.error || '   .');\n                        setShowPasswordReset(false);\n                        setResetEmail('');\n                    }\n                    else {\n                        setError(result.error || '    ');\n                    }\n                    return [3 /*break*/, 5];\n                case 3:\n                    err_3 = _a.sent();\n                    console.error('  :', err_3);\n                    setError('    .  ');\n                    return [3 /*break*/, 5];\n                case 4:\n                    setIsLoading(false);\n                    return [7 /*endfinally*/];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); };\n    return (_jsxs(\"div\", { className: \"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4\", children: [_jsxs(\"div\", { className: \"w-full max-w-md\", children: [_jsxs(\"div\", { className: \"text-center mb-8\", children: [_jsx(\"div\", { className: \"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-violet-600 to-cyan-600 rounded-2xl shadow-2xl mb-4\", children: _jsx(BuildingOfficeIcon, { className: \"w-10 h-10 text-white\" }) }), _jsx(\"h1\", { className: \"text-3xl font-bold text-white mb-2\", children: \"\\uC2A4\\uD06C\\uB9B0 \\uACE8\\uD504 HQ\" }), _jsx(\"p\", { className: \"text-gray-400\", children: \"\\uBCF8\\uC0AC \\uBC0F \\uB9E4\\uC7A5 \\uAD00\\uB9AC\\uC790 \\uD3EC\\uD138\" })] }), _jsxs(\"div\", { className: \"bg-gray-900/50 backdrop-blur-xl border border-gray-800 rounded-2xl p-8 shadow-2xl\", children: [_jsx(\"h2\", { className: \"text-2xl font-bold text-white mb-6 text-center\", children: isSignUp ? '  ' : '' }), _jsxs(\"form\", { onSubmit: handleEmailAuth, className: \"space-y-6\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-300 mb-2\", children: \"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\" }), _jsxs(\"div\", { className: \"relative\", children: [_jsx(\"div\", { className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\", children: _jsx(EnvelopeIcon, { className: \"h-5 w-5 text-gray-400\" }) }), _jsx(\"input\", { type: \"email\", name: \"email\", value: formData.email, onChange: handleInputChange, required: true, autoComplete: \"username\", className: \"w-full pl-10 pr-3 py-3 bg-gray-800/50 border rounded-full text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all duration-300 backdrop-blur-sm \".concat(isEmailValid(formData.email) && formData.email\n                                                            ? 'border-gray-700/50 focus:ring-cyan-500/50 focus:border-cyan-500/50'\n                                                            : formData.email && !isEmailValid(formData.email)\n                                                                ? 'border-red-500/50 focus:ring-red-500/50 focus:border-red-500/50'\n                                                                : 'border-gray-700/50 focus:ring-cyan-500/50 focus:border-cyan-500/50'), placeholder: \"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\" })] }), emailError && (_jsx(\"p\", { className: \"mt-1 text-xs text-red-400\", children: emailError }))] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-300 mb-2\", children: \"\\uBE44\\uBC00\\uBC88\\uD638\" }), _jsxs(\"div\", { className: \"relative\", children: [_jsx(\"div\", { className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\", children: _jsx(UserIcon, { className: \"h-5 w-5 text-gray-400\" }) }), _jsx(\"input\", { type: showPassword ? 'text' : 'password', name: \"password\", value: formData.password, onChange: handleInputChange, required: true, minLength: 6, autoComplete: isSignUp ? 'new-password' : 'current-password', className: \"w-full pl-10 pr-12 py-3 bg-gray-800/50 border border-gray-700/50 rounded-full text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 transition-all duration-300 backdrop-blur-sm\", placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\" }), _jsx(\"button\", { type: \"button\", onClick: function () { return setShowPassword(!showPassword); }, className: \"absolute inset-y-0 right-0 pr-3 flex items-center\", children: showPassword ? (_jsx(EyeSlashIcon, { className: \"h-5 w-5 text-gray-400 hover:text-cyan-400\" })) : (_jsx(EyeIcon, { className: \"h-5 w-5 text-gray-400 hover:text-cyan-400\" })) })] })] }), isSignUp && (_jsxs(_Fragment, { children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-300 mb-2\", children: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\" }), _jsxs(\"div\", { className: \"relative\", children: [_jsx(\"div\", { className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\", children: _jsx(UserIcon, { className: \"h-5 w-5 text-gray-400\" }) }), _jsx(\"input\", { type: showConfirmPassword ? 'text' : 'password', name: \"confirmPassword\", value: formData.confirmPassword, onChange: handleInputChange, required: true, minLength: 6, autoComplete: \"new-password\", className: \"w-full pl-10 pr-12 py-3 bg-gray-800/50 border border-gray-700/50 rounded-full text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 transition-all duration-300 backdrop-blur-sm\", placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uB2E4\\uC2DC \\uC785\\uB825\\uD558\\uC138\\uC694\" }), _jsx(\"button\", { type: \"button\", onClick: function () { return setShowConfirmPassword(!showConfirmPassword); }, className: \"absolute inset-y-0 right-0 pr-3 flex items-center\", children: showConfirmPassword ? (_jsx(EyeSlashIcon, { className: \"h-5 w-5 text-gray-400 hover:text-cyan-400\" })) : (_jsx(EyeIcon, { className: \"h-5 w-5 text-gray-400 hover:text-cyan-400\" })) })] })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-300 mb-2\", children: \"\\uB9E4\\uC7A5 \\uC774\\uB984\" }), _jsx(\"input\", { type: \"text\", name: \"storeName\", value: formData.storeName, onChange: handleInputChange, required: true, className: \"w-full px-3 py-3 bg-gray-800/50 border border-gray-700/50 rounded-full text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 transition-all duration-300 backdrop-blur-sm\", placeholder: \"\\uB9E4\\uC7A5 \\uC774\\uB984\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-300 mb-2\", children: \"\\uC804\\uD654\\uBC88\\uD638\" }), _jsx(\"input\", { type: \"tel\", name: \"phoneNumber\", value: formData.phoneNumber, onChange: handleInputChange, required: true, className: \"w-full px-3 py-3 bg-gray-800/50 border border-gray-700/50 rounded-full text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 transition-all duration-300 backdrop-blur-sm\", placeholder: \"\\uC804\\uD654\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\" })] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-300 mb-2\", children: \"\\uC704\\uCE58 \\uC815\\uBCF4\" }), _jsxs(\"div\", { className: \"flex space-x-2\", children: [_jsx(\"input\", { type: \"text\", name: \"location\", value: formData.location, onChange: handleInputChange, className: \"flex-1 px-3 py-3 bg-gray-800/50 border border-gray-700/50 rounded-full text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 transition-all duration-300 backdrop-blur-sm\", placeholder: \"\\uC704\\uCE58 \\uC815\\uBCF4\", readOnly: true }), _jsx(\"button\", { type: \"button\", onClick: getCurrentLocation, disabled: locationLoading, className: \"px-4 py-3 bg-gray-700/50 text-white rounded-full hover:bg-gray-600/50 transition-all duration-300 disabled:opacity-50\", children: locationLoading ? (_jsx(ArrowPathIcon, { className: \"w-5 h-5 animate-spin\" })) : (_jsx(MapPinIcon, { className: \"w-5 h-5\" })) })] }), locationError && (_jsx(\"p\", { className: \"mt-1 text-xs text-red-400\", children: locationError }))] })] })), !isSignUp && (_jsxs(\"div\", { className: \"flex items-center justify-between\", children: [_jsxs(\"label\", { className: \"flex items-center space-x-2 cursor-pointer\", children: [_jsx(\"input\", { type: \"checkbox\", checked: rememberMe, onChange: function (e) { return setRememberMe(e.target.checked); }, className: \"w-4 h-4 text-cyan-600 bg-gray-800/50 border-gray-600/50 rounded-full focus:ring-cyan-500 focus:ring-2 transition-all duration-300\" }), _jsx(\"span\", { className: \"text-sm text-gray-300\", children: \"\\uAE30\\uC5B5\\uD558\\uAE30\" })] }), _jsx(\"button\", { type: \"button\", onClick: function () { return setShowPasswordReset(true); }, className: \"text-sm text-cyan-400 hover:text-cyan-300 transition-colors duration-300\", children: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC78A\\uC5B4\\uBC84\\uB9AC\\uC168\\uB098\\uC694?\" })] })), _jsx(\"button\", { type: \"submit\", disabled: isLoading, className: \"w-full bg-gradient-to-r from-cyan-600 via-blue-600 to-indigo-600 text-white font-semibold py-4 px-6 rounded-full hover:from-cyan-700 hover:via-blue-700 hover:to-indigo-700 transition-all duration-500 disabled:opacity-50 disabled:cursor-not-allowed shadow-xl hover:shadow-2xl transform hover:-translate-y-1\", children: _jsxs(\"div\", { className: \"flex items-center justify-center space-x-2\", children: [_jsx(\"span\", { children: isLoading ? (isSignUp ? ' ...' : ' ...') : (isSignUp ? '' : '') }), !isLoading && _jsx(ChevronRightIcon, { className: \"w-5 h-5\" })] }) })] }), _jsx(\"div\", { className: \"mt-6 text-center\", children: _jsx(\"button\", { type: \"button\", onClick: function () {\n                                        setIsSignUp(!isSignUp);\n                                        setError('');\n                                        setSuccess('');\n                                        setFormData({\n                                            email: '',\n                                            password: '',\n                                            confirmPassword: '',\n                                            storeName: '',\n                                            phoneNumber: '',\n                                            location: '',\n                                            country: '',\n                                            province: '',\n                                            city: ''\n                                        });\n                                    }, className: \"text-cyan-400 hover:text-cyan-300 transition-colors duration-300 text-sm\", children: isSignUp ? '  ? ' : ' ? ' }) })] }), error && (_jsx(\"div\", { className: \"mt-6 p-4 bg-red-600/20 border border-red-500/30 rounded-full text-red-200 text-center backdrop-blur-xl\", children: _jsx(\"p\", { className: \"font-medium\", children: error }) })), success && (_jsx(\"div\", { className: \"mt-6 p-4 bg-emerald-600/20 border border-emerald-500/30 rounded-full text-emerald-200 text-center backdrop-blur-xl\", children: _jsx(\"p\", { className: \"font-medium\", children: success }) }))] }), showPasswordReset && (_jsx(\"div\", { className: \"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\", children: _jsxs(\"div\", { className: \"bg-gray-900 rounded-2xl p-6 w-full max-w-md border border-gray-700/50 shadow-2xl\", children: [_jsx(\"h3\", { className: \"text-xl font-bold text-white mb-4\", children: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uC7AC\\uC124\\uC815\" }), _jsx(\"p\", { className: \"text-gray-300 text-sm mb-6\", children: \"\\uAC00\\uC785\\uD558\\uC2E0 \\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\\uB97C \\uC785\\uB825\\uD558\\uC2DC\\uBA74 \\uBE44\\uBC00\\uBC88\\uD638 \\uC7AC\\uC124\\uC815 \\uB9C1\\uD06C\\uB97C \\uBC1C\\uC1A1\\uD574 \\uB4DC\\uB9BD\\uB2C8\\uB2E4.\" }), _jsxs(\"div\", { className: \"space-y-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-300 mb-2\", children: \"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\" }), _jsx(\"input\", { type: \"email\", value: resetEmail, onChange: function (e) { return setResetEmail(e.target.value); }, autoComplete: \"username\", className: \"w-full px-3 py-3 bg-gray-800/50 border border-gray-700/50 rounded-full text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 transition-all duration-300\", placeholder: \"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\" })] }), _jsxs(\"div\", { className: \"flex space-x-3\", children: [_jsx(\"button\", { onClick: function () {\n                                                setShowPasswordReset(false);\n                                                setResetEmail('');\n                                                setError('');\n                                                setSuccess('');\n                                            }, className: \"flex-1 py-3 px-4 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors duration-300\", children: \"\\uCDE8\\uC18C\" }), _jsx(\"button\", { onClick: handlePasswordReset, disabled: isLoading, className: \"flex-1 px-4 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 text-white rounded-full hover:from-cyan-700 hover:to-blue-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed\", children: isLoading ? ' ...' : ' ' })] })] })] }) }))] }));\n};\nexport default Login;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ArrowRightIcon } from '@heroicons/react/24/outline';\nexport var Landing = function () {\n    var navigate = useNavigate();\n    return (_jsxs(\"div\", { className: \"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 flex items-center justify-center p-4\", children: [_jsxs(\"div\", { className: \"absolute inset-0 overflow-hidden\", children: [_jsx(\"div\", { className: \"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse\" }), _jsx(\"div\", { className: \"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse\" }), _jsx(\"div\", { className: \"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse\" })] }), _jsxs(\"div\", { className: \"relative z-10 text-center max-w-4xl mx-auto\", children: [_jsxs(\"div\", { className: \"mb-12\", children: [_jsxs(\"h1\", { className: \"text-5xl md:text-7xl font-bold text-white mb-6 animate-fade-in\", children: [\"\\uC2A4\\uD06C\\uB9B0\\uACE8\\uD504\", _jsx(\"span\", { className: \"block text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400\", children: \"\\uBCF8\\uC0AC \\uAD00\\uB9AC \\uC2DC\\uC2A4\\uD15C\" })] }), _jsx(\"p\", { className: \"text-xl md:text-2xl text-gray-300 mb-8 animate-fade-in-delay\", children: \"\\uC804\\uAD6D \\uC2A4\\uD06C\\uB9B0\\uACE8\\uD504 \\uB9E4\\uC7A5\\uC744 \\uD1B5\\uD569 \\uAD00\\uB9AC\\uD558\\uB294 \\uCD5C\\uC801\\uC758 \\uC194\\uB8E8\\uC158\" })] }), _jsxs(\"div\", { className: \"grid md:grid-cols-3 gap-6 mb-12\", children: [_jsxs(\"div\", { className: \"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 transform hover:scale-105 transition-all duration-300\", children: [_jsx(\"div\", { className: \"w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center mx-auto mb-4\", children: _jsx(\"svg\", { className: \"w-6 h-6 text-white\", fill: \"none\", stroke: \"currentColor\", viewBox: \"0 0 24 24\", children: _jsx(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 2, d: \"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" }) }) }), _jsx(\"h3\", { className: \"text-lg font-semibold text-white mb-2\", children: \"\\uC2E4\\uC2DC\\uAC04 \\uD1B5\\uACC4\" }), _jsx(\"p\", { className: \"text-gray-300 text-sm\", children: \"\\uC804\\uAD6D \\uB9E4\\uC7A5\\uC758 \\uC6B4\\uC601 \\uB370\\uC774\\uD130\\uB97C \\uC2E4\\uC2DC\\uAC04\\uC73C\\uB85C \\uD655\\uC778\\uD558\\uACE0 \\uBD84\\uC11D\\uD558\\uC138\\uC694\" })] }), _jsxs(\"div\", { className: \"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 transform hover:scale-105 transition-all duration-300\", children: [_jsx(\"div\", { className: \"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center mx-auto mb-4\", children: _jsx(\"svg\", { className: \"w-6 h-6 text-white\", fill: \"none\", stroke: \"currentColor\", viewBox: \"0 0 24 24\", children: _jsx(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 2, d: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" }) }) }), _jsx(\"h3\", { className: \"text-lg font-semibold text-white mb-2\", children: \"\\uD68C\\uC6D0 \\uAD00\\uB9AC\" }), _jsx(\"p\", { className: \"text-gray-300 text-sm\", children: \"\\uBAA8\\uB4E0 \\uB9E4\\uC7A5\\uC758 \\uD68C\\uC6D0 \\uC815\\uBCF4\\uB97C \\uD1B5\\uD569\\uD558\\uC5EC \\uD6A8\\uC728\\uC801\\uC73C\\uB85C \\uAD00\\uB9AC\\uD558\\uC138\\uC694\" })] }), _jsxs(\"div\", { className: \"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 transform hover:scale-105 transition-all duration-300\", children: [_jsx(\"div\", { className: \"w-12 h-12 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg flex items-center justify-center mx-auto mb-4\", children: _jsx(\"svg\", { className: \"w-6 h-6 text-white\", fill: \"none\", stroke: \"currentColor\", viewBox: \"0 0 24 24\", children: _jsx(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 2, d: \"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" }) }) }), _jsx(\"h3\", { className: \"text-lg font-semibold text-white mb-2\", children: \"\\uB9E4\\uCD9C \\uBD84\\uC11D\" }), _jsx(\"p\", { className: \"text-gray-300 text-sm\", children: \"\\uC0C1\\uC138\\uD55C \\uB9E4\\uCD9C \\uB370\\uC774\\uD130\\uB85C \\uBE44\\uC988\\uB2C8\\uC2A4 \\uC778\\uC0AC\\uC774\\uD2B8\\uB97C \\uC5BB\\uC73C\\uC138\\uC694\" })] })] }), _jsxs(\"div\", { className: \"flex flex-col sm:flex-row gap-4 justify-center items-center\", children: [_jsxs(\"button\", { onClick: function () { return navigate('/login'); }, className: \"group inline-flex items-center gap-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold py-4 px-8 rounded-full hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 shadow-lg\", children: [\"\\uAD00\\uB9AC\\uC790 \\uB85C\\uADF8\\uC778\", _jsx(ArrowRightIcon, { className: \"w-5 h-5 group-hover:translate-x-1 transition-transform\" })] }), _jsx(\"div\", { className: \"text-gray-400 text-sm\", children: \"\\uBCF8\\uC0AC \\uAD00\\uB9AC\\uC790 \\u2022 \\uB9E4\\uC7A5 \\uAD00\\uB9AC\\uC790\" })] }), _jsxs(\"div\", { className: \"mt-16 text-gray-400 text-sm\", children: [_jsx(\"p\", { children: \"\\u00A9 2024 \\uC2A4\\uD06C\\uB9B0\\uACE8\\uD504 \\uBCF8\\uC0AC \\uAD00\\uB9AC \\uC2DC\\uC2A4\\uD15C. All rights reserved.\" }), _jsx(\"p\", { className: \"mt-2\", children: \"\\uBB38\\uC758: admin@screengolf-hq.com\" })] })] }), _jsx(\"style\", { children: \"\\n        @keyframes fade-in {\\n          from {\\n            opacity: 0;\\n            transform: translateY(20px);\\n          }\\n          to {\\n            opacity: 1;\\n            transform: translateY(0);\\n          }\\n        }\\n        \\n        @keyframes fade-in-delay {\\n          0% {\\n            opacity: 0;\\n            transform: translateY(20px);\\n          }\\n          50% {\\n            opacity: 0;\\n            transform: translateY(20px);\\n          }\\n          100% {\\n            opacity: 1;\\n            transform: translateY(0);\\n          }\\n        }\\n        \\n        .animate-fade-in {\\n          animation: fade-in 1s ease-out;\\n        }\\n        \\n        .animate-fade-in-delay {\\n          animation: fade-in-delay 1.5s ease-out;\\n        }\\n      \" })] }));\n};\nexport default Landing;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { collection, query, where, getDocs, orderBy, doc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebase/config';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useCountry } from '../contexts/CountryContext';\nimport { useSearchParams } from 'react-router-dom';\nimport { generateStoreId } from '../utils/storeUtils';\n//   \nvar DynamicBarChart = function (_a) {\n    var data = _a.data;\n    var _b = useState(null), ChartModule = _b[0], setChartModule = _b[1];\n    var _c = useState(true), loading = _c[0], setLoading = _c[1];\n    useEffect(function () {\n        var loadChart = function () { return __awaiter(void 0, void 0, void 0, function () {\n            var module, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, 3, 4]);\n                        return [4 /*yield*/, import('recharts')];\n                    case 1:\n                        module = _a.sent();\n                        setChartModule(module);\n                        return [3 /*break*/, 4];\n                    case 2:\n                        error_1 = _a.sent();\n                        console.error('Failed to load chart module:', error_1);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        setLoading(false);\n                        return [7 /*endfinally*/];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); };\n        loadChart();\n    }, []);\n    if (loading || !ChartModule) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center h-64\", children: _jsx(\"div\", { className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-600\" }) }));\n    }\n    var BarChart = ChartModule.BarChart, Bar = ChartModule.Bar, CartesianGrid = ChartModule.CartesianGrid, XAxis = ChartModule.XAxis, YAxis = ChartModule.YAxis, Tooltip = ChartModule.Tooltip, ResponsiveContainer = ChartModule.ResponsiveContainer;\n    return (_jsx(\"div\", { className: \"w-full h-full\", children: _jsx(ResponsiveContainer, { width: \"100%\", height: \"100%\", children: _jsxs(BarChart, { data: data, margin: { top: 20, right: 30, left: 20, bottom: 20 }, children: [_jsx(CartesianGrid, { strokeDasharray: \"3 3\", stroke: \"#374151\" }), _jsx(XAxis, { dataKey: \"period\", stroke: \"#9CA3AF\", tick: { fill: '#9CA3AF', fontSize: 12 }, angle: -45, textAnchor: \"end\", height: 40 }), _jsx(YAxis, { stroke: \"#9CA3AF\", tick: { fill: '#9CA3AF', fontSize: 12 }, tickFormatter: function (value) { return \"\\u20A9\".concat((value / 1000).toFixed(0), \"K\"); } }), _jsx(Tooltip, { contentStyle: {\n                            backgroundColor: '#1F2937',\n                            border: '1px solid #374151',\n                            borderRadius: '8px'\n                        }, labelStyle: { color: '#F3F4F6' }, formatter: function (value) { return [\"\\u20A9\".concat(value.toLocaleString()), '']; } }), _jsx(Bar, { dataKey: \"revenue\", fill: \"#06B6D4\", radius: [4, 4, 0, 0] })] }) }) }));\n};\n//     \nvar fetchStores = function (countryCode, currentUser, selectedCountry) { return __awaiter(void 0, void 0, Promise, function () {\n    var usersRef, q, querySnapshot, stores_1, error_2, allCountryCodes, _loop_1, _i, allCountryCodes_1, tryCountryCode, state_1, inferredCountryCode, countryCodes, _loop_2, _a, countryCodes_1, tryCountryCode, state_2;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                console.log(' Dashboard:    :', { countryCode: countryCode, user: currentUser === null || currentUser === void 0 ? void 0 : currentUser.email, selectedCountry: selectedCountry });\n                if (!(selectedCountry && selectedCountry !== 'ALL')) return [3 /*break*/, 4];\n                console.log('   :', selectedCountry);\n                _b.label = 1;\n            case 1:\n                _b.trys.push([1, 3, , 4]);\n                usersRef = collection(db, \"users_\".concat(selectedCountry));\n                q = query(usersRef, where('role', '==', 'store'));\n                return [4 /*yield*/, getDocs(q)];\n            case 2:\n                querySnapshot = _b.sent();\n                console.log(\"\\uD83D\\uDCCA \".concat(selectedCountry, \" \\uD544\\uD130\\uB9C1 \\uACB0\\uACFC:\"), querySnapshot.size, '  ');\n                stores_1 = [];\n                querySnapshot.forEach(function (doc) {\n                    var data = doc.data();\n                    if (data.storeName) {\n                        var storeName = data.storeName.trim();\n                        if (storeName) {\n                            stores_1.push({\n                                id: data.email,\n                                name: storeName,\n                                email: data.email,\n                                countryCode: selectedCountry\n                            });\n                        }\n                    }\n                });\n                console.log('      :', stores_1.length, ' ');\n                return [2 /*return*/, stores_1];\n            case 3:\n                error_2 = _b.sent();\n                console.error(\"\\u274C \".concat(selectedCountry, \" \\uD544\\uD130\\uB9C1 \\uB9E4\\uC7A5 \\uBAA9\\uB85D \\uC870\\uD68C \\uC2E4\\uD328:\"), error_2);\n                return [2 /*return*/, []];\n            case 4:\n                if (!((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'hq')) return [3 /*break*/, 9];\n                console.log('   ,     ');\n                allCountryCodes = ['KR', 'US', 'JP', 'CN', 'GB', 'DE', 'FR', 'IT', 'ES', 'NL'];\n                _loop_1 = function (tryCountryCode) {\n                    var usersRef, q, querySnapshot, stores_2, error_3;\n                    return __generator(this, function (_c) {\n                        switch (_c.label) {\n                            case 0:\n                                _c.trys.push([0, 2, , 3]);\n                                console.log(\"\\uD83D\\uDD0D \\uBCF8\\uC0AC \\uAD00\\uB9AC\\uC790\\uC6A9 \".concat(tryCountryCode, \" \\uAD6D\\uAC00 \\uCF54\\uB4DC\\uB85C \\uB9E4\\uC7A5 \\uBAA9\\uB85D \\uC870\\uD68C \\uC2DC\\uB3C4...\"));\n                                usersRef = collection(db, \"users_\".concat(tryCountryCode));\n                                q = query(usersRef, where('role', '==', 'store'));\n                                return [4 /*yield*/, getDocs(q)];\n                            case 1:\n                                querySnapshot = _c.sent();\n                                console.log(\"\\uD83D\\uDCCA \".concat(tryCountryCode, \" \\uCFFC\\uB9AC \\uACB0\\uACFC:\"), querySnapshot.size, '  ');\n                                stores_2 = [];\n                                querySnapshot.forEach(function (doc) {\n                                    var data = doc.data();\n                                    // storeName  displayName email \n                                    var storeName = data.storeName || data.displayName || data.email;\n                                    if (data.email && storeName) {\n                                        stores_2.push({\n                                            id: data.email,\n                                            name: storeName,\n                                            email: data.email,\n                                            countryCode: tryCountryCode\n                                        });\n                                    }\n                                });\n                                //     \n                                if (stores_2.length > 0) {\n                                    console.log(\"\\u2705 \\uBCF8\\uC0AC \\uAD00\\uB9AC\\uC790\\uC6A9 \".concat(tryCountryCode, \"\\uC5D0\\uC11C \\uB9E4\\uC7A5 \\uBAA9\\uB85D \\uC870\\uD68C \\uC131\\uACF5:\"), stores_2.length, ' ');\n                                    return [2 /*return*/, { value: stores_2 }];\n                                }\n                                return [3 /*break*/, 3];\n                            case 2:\n                                error_3 = _c.sent();\n                                console.error(\"\\u274C \\uBCF8\\uC0AC \\uAD00\\uB9AC\\uC790\\uC6A9 \".concat(tryCountryCode, \" \\uB9E4\\uC7A5 \\uBAA9\\uB85D \\uC870\\uD68C \\uC2E4\\uD328:\"), error_3);\n                                return [2 /*return*/, \"continue\"];\n                            case 3: return [2 /*return*/];\n                        }\n                    });\n                };\n                _i = 0, allCountryCodes_1 = allCountryCodes;\n                _b.label = 5;\n            case 5:\n                if (!(_i < allCountryCodes_1.length)) return [3 /*break*/, 8];\n                tryCountryCode = allCountryCodes_1[_i];\n                return [5 /*yield**/, _loop_1(tryCountryCode)];\n            case 6:\n                state_1 = _b.sent();\n                if (typeof state_1 === \"object\")\n                    return [2 /*return*/, state_1.value];\n                _b.label = 7;\n            case 7:\n                _i++;\n                return [3 /*break*/, 5];\n            case 8:\n                //         \n                console.warn('       ');\n                return [2 /*return*/, []];\n            case 9:\n                inferredCountryCode = countryCode || inferCountryCode((currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) || '');\n                console.log('  :', inferredCountryCode);\n                countryCodes = inferredCountryCode ? [inferredCountryCode] : ['KR', 'US', 'JP', 'CN', 'GB', 'DE', 'FR', 'IT', 'ES', 'NL'];\n                _loop_2 = function (tryCountryCode) {\n                    var usersRef, q, querySnapshot, stores_3, error_4;\n                    return __generator(this, function (_d) {\n                        switch (_d.label) {\n                            case 0:\n                                _d.trys.push([0, 2, , 3]);\n                                console.log(\"\\uD83D\\uDD0D \".concat(tryCountryCode, \" \\uAD6D\\uAC00 \\uCF54\\uB4DC\\uB85C \\uB9E4\\uC7A5 \\uBAA9\\uB85D \\uC870\\uD68C \\uC2DC\\uB3C4...\"));\n                                usersRef = collection(db, \"users_\".concat(tryCountryCode));\n                                q = query(usersRef, where('role', '==', 'store'));\n                                return [4 /*yield*/, getDocs(q)];\n                            case 1:\n                                querySnapshot = _d.sent();\n                                console.log(\"\\uD83D\\uDCCA \".concat(tryCountryCode, \" \\uCFFC\\uB9AC \\uACB0\\uACFC:\"), querySnapshot.size, '  ');\n                                stores_3 = [];\n                                querySnapshot.forEach(function (doc) {\n                                    var data = doc.data();\n                                    // storeName  displayName email \n                                    var storeName = data.storeName || data.displayName || data.email;\n                                    if (data.email && storeName) {\n                                        stores_3.push({\n                                            id: data.email,\n                                            name: storeName,\n                                            email: data.email,\n                                            countryCode: tryCountryCode\n                                        });\n                                    }\n                                });\n                                //     \n                                if (stores_3.length > 0) {\n                                    console.log(\"\\u2705 \".concat(tryCountryCode, \"\\uC5D0\\uC11C \\uB9E4\\uC7A5 \\uBAA9\\uB85D \\uC870\\uD68C \\uC131\\uACF5:\"), stores_3.length, ' ');\n                                    console.log('   :', stores_3);\n                                    return [2 /*return*/, { value: stores_3 }];\n                                }\n                                return [3 /*break*/, 3];\n                            case 2:\n                                error_4 = _d.sent();\n                                console.error(\"\\u274C \".concat(tryCountryCode, \" \\uB9E4\\uC7A5 \\uBAA9\\uB85D \\uC870\\uD68C \\uC2E4\\uD328:\"), error_4);\n                                return [2 /*return*/, \"continue\"];\n                            case 3: return [2 /*return*/];\n                        }\n                    });\n                };\n                _a = 0, countryCodes_1 = countryCodes;\n                _b.label = 10;\n            case 10:\n                if (!(_a < countryCodes_1.length)) return [3 /*break*/, 13];\n                tryCountryCode = countryCodes_1[_a];\n                return [5 /*yield**/, _loop_2(tryCountryCode)];\n            case 11:\n                state_2 = _b.sent();\n                if (typeof state_2 === \"object\")\n                    return [2 /*return*/, state_2.value];\n                _b.label = 12;\n            case 12:\n                _a++;\n                return [3 /*break*/, 10];\n            case 13:\n                //  countryCode    \n                console.warn('      ,    ');\n                return [2 /*return*/, []];\n        }\n    });\n}); };\n//     \nvar inferCountryCode = function (email) {\n    var _a;\n    if (!email)\n        return '';\n    var domain = (_a = email.split('@')[1]) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n    var domainMap = {\n        '.kr': 'KR',\n        '.co.kr': 'KR',\n        'naver.com': 'KR',\n        'daum.net': 'KR',\n        'gmail.com': 'US',\n        'yahoo.com': 'US',\n        'outlook.com': 'US'\n    };\n    for (var _i = 0, _b = Object.entries(domainMap); _i < _b.length; _i++) {\n        var _c = _b[_i], key = _c[0], value = _c[1];\n        if (domain === null || domain === void 0 ? void 0 : domain.includes(key)) {\n            return value;\n        }\n    }\n    return '';\n};\n//       - AuthContext  \nvar fetchStoreUserData = function (email) { return __awaiter(void 0, void 0, void 0, function () {\n    var countryCodes, _i, countryCodes_2, countryCode, userDocRef, userDoc, userData, error_5;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                console.log(' Dashboard:    :', email);\n                countryCodes = ['KR', 'US', 'JP', 'CN', 'GB', 'DE', 'FR', 'IT', 'ES', 'NL'];\n                _i = 0, countryCodes_2 = countryCodes;\n                _a.label = 1;\n            case 1:\n                if (!(_i < countryCodes_2.length)) return [3 /*break*/, 6];\n                countryCode = countryCodes_2[_i];\n                _a.label = 2;\n            case 2:\n                _a.trys.push([2, 4, , 5]);\n                userDocRef = doc(db, \"users_\".concat(countryCode), email);\n                return [4 /*yield*/, getDoc(userDocRef)];\n            case 3:\n                userDoc = _a.sent();\n                if (userDoc.exists()) {\n                    userData = userDoc.data();\n                    console.log(\"\\u2705 Dashboard: \".concat(countryCode, \"\\uC5D0\\uC11C \\uB9E4\\uC7A5 \\uB370\\uC774\\uD130 \\uCC3E\\uC74C:\"), {\n                        email: userData.email,\n                        storeName: userData.storeName,\n                        countryCode: userData.countryCode,\n                        country: userData.country,\n                        role: userData.role\n                    });\n                    return [2 /*return*/, {\n                            uid: userData.uid,\n                            email: userData.email,\n                            displayName: userData.displayName,\n                            role: userData.role,\n                            storeName: userData.storeName,\n                            countryCode: userData.countryCode,\n                            country: userData.country,\n                            region: userData.region,\n                            city: userData.city,\n                            extraEmail: userData.extraEmail,\n                            storeId: userData.storeId\n                        }];\n                }\n                return [3 /*break*/, 5];\n            case 4:\n                error_5 = _a.sent();\n                console.error(\"\\u274C Dashboard: \".concat(countryCode, \" \\uC870\\uD68C \\uC624\\uB958:\"), error_5);\n                return [3 /*break*/, 5];\n            case 5:\n                _i++;\n                return [3 /*break*/, 1];\n            case 6:\n                console.error(' Dashboard:     :', email);\n                return [2 /*return*/, null];\n        }\n    });\n}); };\nvar Dashboard = function () {\n    var user = useAuth().user;\n    var selectedCountry = useCountry().selectedCountry;\n    var searchParams = useSearchParams()[0];\n    var targetStore = searchParams.get('store');\n    var targetCountry = searchParams.get('country');\n    var _a = useState('daily'), periodType = _a[0], setPeriodType = _a[1];\n    var _b = useState(new Date()), selectedDate = _b[0], setSelectedDate = _b[1];\n    var _c = useState([]), revenueData = _c[0], setRevenueData = _c[1];\n    var _d = useState(true), loading = _d[0], setLoading = _d[1];\n    var _e = useState(0), totalRevenue = _e[0], setTotalRevenue = _e[1];\n    var _f = useState(0), totalTransactions = _f[0], setTotalTransactions = _f[1];\n    var _g = useState(null), targetStoreData = _g[0], setTargetStoreData = _g[1];\n    //        -   \n    var _h = useState('all'), viewMode = _h[0], setViewMode = _h[1];\n    var _j = useState(null), selectedStoreId = _j[0], setSelectedStoreId = _j[1];\n    //     \n    var _k = useState([]), stores = _k[0], setStores = _k[1];\n    var _l = useState(true), storesLoading = _l[0], setStoresLoading = _l[1];\n    var _m = useState(false), hasStoreError = _m[0], setHasStoreError = _m[1];\n    //   \n    var isStoreManager = (user === null || user === void 0 ? void 0 : user.role) === 'store';\n    var storeId = isStoreManager && user.email ? generateStoreId(user.email) : null;\n    //     \n    var isSpecificStoreMode = targetStore && targetCountry;\n    //  URL   (      )\n    React.useEffect(function () {\n        var urlParams = new URLSearchParams(window.location.search);\n        var mode = urlParams.get('mode');\n        var storeId = urlParams.get('storeId');\n        if (mode === 'store' && storeId) {\n            setViewMode('store');\n            setSelectedStoreId(storeId);\n        }\n        else {\n            setViewMode('all');\n            setSelectedStoreId(null);\n        }\n    }, []);\n    //    \n    var normalizeCountryCode = function (country) {\n        var countryMap = {\n            '': 'KR',\n            '': 'KR',\n            'Korea': 'KR',\n            'South Korea': 'KR',\n            'United States': 'US',\n            'USA': 'US',\n            '': 'US',\n            'America': 'US'\n        };\n        return countryMap[country] || country;\n    };\n    // Firestore   \n    var fetchRevenueData = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var targetCountryCode, targetStoreId, storeUserData, countryCode, effectiveStoreId, storeUserData, normalizedCountryCode, settlementsRef, startDate, endDate, q, querySnapshot, settlements_1, filteredSettlements, aggregatedData, total, count, error_6;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    console.log(' Dashboard: fetchRevenueData ');\n                    console.log('  :', {\n                        email: user === null || user === void 0 ? void 0 : user.email,\n                        role: user === null || user === void 0 ? void 0 : user.role,\n                        countryCode: user === null || user === void 0 ? void 0 : user.countryCode,\n                        storeName: user === null || user === void 0 ? void 0 : user.storeName\n                    });\n                    console.log(' viewMode:', viewMode, 'selectedStoreId:', selectedStoreId);\n                    console.log('  :', selectedCountry);\n                    targetCountryCode = user === null || user === void 0 ? void 0 : user.countryCode;\n                    targetStoreId = null;\n                    //  HQ     \n                    if ((user === null || user === void 0 ? void 0 : user.role) === 'hq' && selectedCountry && selectedCountry !== 'ALL') {\n                        console.log(' HQ    :', selectedCountry);\n                        targetCountryCode = selectedCountry;\n                    }\n                    if (!(viewMode === 'store' && selectedStoreId)) return [3 /*break*/, 1];\n                    //  :      \n                    console.log('  :     - selectedStoreId:', selectedStoreId);\n                    targetStoreId = selectedStoreId;\n                    return [3 /*break*/, 4];\n                case 1:\n                    if (!(isSpecificStoreMode && targetStore)) return [3 /*break*/, 3];\n                    //  URL   ( )\n                    console.log('    :    - targetStore:', targetStore);\n                    return [4 /*yield*/, fetchStoreUserData(targetStore)];\n                case 2:\n                    storeUserData = _a.sent();\n                    if (storeUserData) {\n                        setTargetStoreData(storeUserData);\n                        targetCountryCode = storeUserData.countryCode;\n                        targetStoreId = storeUserData.storeId || generateStoreId(targetStore);\n                        console.log('     :', { storeName: storeUserData.storeName, countryCode: targetCountryCode, storeId: targetStoreId });\n                    }\n                    else {\n                        console.error('       :', targetStore);\n                        setLoading(false);\n                        return [2 /*return*/];\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    //  :   \n                    console.log('  :    ');\n                    _a.label = 4;\n                case 4:\n                    countryCode = targetCountryCode;\n                    effectiveStoreId = targetStoreId || storeId;\n                    console.log('    :', countryCode, '( :', selectedCountry, ')');\n                    //     \n                    if ((user === null || user === void 0 ? void 0 : user.role) === 'store' && targetStore && targetStore !== user.email) {\n                        console.warn('   :       ');\n                        setLoading(false);\n                        return [2 /*return*/];\n                    }\n                    if (!(!countryCode && (user === null || user === void 0 ? void 0 : user.email))) return [3 /*break*/, 7];\n                    console.log('Dashboard: countryCode ,     ');\n                    if (!(user.email === 'movare00@gmail.com' && user.role === 'hq')) return [3 /*break*/, 5];\n                    console.log(' movare00@gmail.com     -  countryCode ');\n                    countryCode = 'KR'; //   \n                    return [3 /*break*/, 7];\n                case 5: return [4 /*yield*/, fetchStoreUserData(user.email)];\n                case 6:\n                    storeUserData = _a.sent();\n                    if (storeUserData === null || storeUserData === void 0 ? void 0 : storeUserData.countryCode) {\n                        countryCode = storeUserData.countryCode;\n                        console.log('Dashboard: fallback countryCode :', countryCode);\n                    }\n                    _a.label = 7;\n                case 7:\n                    if (!countryCode) {\n                        console.error('Dashboard: countryCode      ');\n                        setLoading(false);\n                        //   :   \n                        console.warn(' countryCode ,    .');\n                        setRevenueData([]);\n                        setTotalRevenue(0);\n                        setTotalTransactions(0);\n                        console.log('     ');\n                        return [2 /*return*/];\n                    }\n                    console.log('Dashboard:     - countryCode:', countryCode, 'storeId:', effectiveStoreId);\n                    setLoading(true);\n                    _a.label = 8;\n                case 8:\n                    _a.trys.push([8, 10, 11, 12]);\n                    normalizedCountryCode = normalizeCountryCode(countryCode);\n                    settlementsRef = collection(db, \"settlements_\".concat(normalizedCountryCode));\n                    console.log('  :', \"settlements_\".concat(normalizedCountryCode));\n                    startDate = new Date(selectedDate);\n                    endDate = new Date(selectedDate);\n                    if (periodType === 'daily') {\n                        startDate.setHours(0, 0, 0, 0);\n                        endDate.setHours(23, 59, 59, 999);\n                    }\n                    else if (periodType === 'monthly') {\n                        startDate.setDate(1);\n                        startDate.setHours(0, 0, 0, 0);\n                        endDate.setMonth(endDate.getMonth() + 1);\n                        endDate.setDate(0);\n                        endDate.setHours(23, 59, 59, 999);\n                    }\n                    else if (periodType === 'yearly') {\n                        startDate.setMonth(0, 1);\n                        startDate.setHours(0, 0, 0, 0);\n                        endDate.setMonth(11, 31);\n                        endDate.setHours(23, 59, 59, 999);\n                    }\n                    console.log('  :', {\n                        startDate: startDate.toISOString(),\n                        endDate: endDate.toISOString(),\n                        periodType: periodType\n                    });\n                    q = query(settlementsRef, where('createdAt', '>=', startDate), where('createdAt', '<=', endDate), \n                    //  :   storeId   ( )\n                    orderBy('createdAt', 'asc'));\n                    return [4 /*yield*/, getDocs(q)];\n                case 9:\n                    querySnapshot = _a.sent();\n                    settlements_1 = [];\n                    console.log('  :', {\n                        totalDocs: querySnapshot.docs.length,\n                        querySize: querySnapshot.size,\n                        hasData: querySnapshot.docs.length > 0\n                    });\n                    if (querySnapshot.docs.length === 0) {\n                        console.warn(' Firestore  ');\n                        //   :   \n                        setRevenueData([]);\n                        setTotalRevenue(0);\n                        setTotalTransactions(0);\n                        console.log('     ');\n                        setLoading(false);\n                        return [2 /*return*/];\n                    }\n                    querySnapshot.forEach(function (doc) {\n                        var _a, _b, _c;\n                        var data = doc.data();\n                        console.log('  :', {\n                            id: doc.id,\n                            totalFee: data.totalFee,\n                            storeName: data.storeName,\n                            storeId: data.storeId,\n                            createdAt: data.createdAt\n                        });\n                        //     \n                        var createdAt = ((_a = data.createdAt) === null || _a === void 0 ? void 0 : _a.toDate) ?\n                            data.createdAt.toDate() :\n                            (data.createdAt instanceof Date ? data.createdAt : new Date(data.createdAt));\n                        var startTime = ((_b = data.startTime) === null || _b === void 0 ? void 0 : _b.toDate) ?\n                            data.startTime.toDate() :\n                            (typeof data.startTime === 'string' ? new Date(data.startTime) : new Date(data.startTime));\n                        var endTime = ((_c = data.endTime) === null || _c === void 0 ? void 0 : _c.toDate) ?\n                            data.endTime.toDate() :\n                            (typeof data.endTime === 'string' ? new Date(data.endTime) : new Date(data.endTime));\n                        settlements_1.push({\n                            totalFee: data.totalFee || 0,\n                            createdAt: createdAt,\n                            startTime: startTime,\n                            endTime: endTime,\n                            storeName: data.storeName || '',\n                            roomName: data.roomName || '',\n                            storeId: data.storeId //  storeId  \n                        });\n                    });\n                    filteredSettlements = settlements_1;\n                    if (effectiveStoreId) {\n                        filteredSettlements = settlements_1.filter(function (s) { return s.storeId === effectiveStoreId; });\n                        console.log('  :', {\n                            totalSettlements: settlements_1.length,\n                            filteredSettlements: filteredSettlements.length,\n                            effectiveStoreId: effectiveStoreId,\n                            viewMode: viewMode,\n                            selectedStoreId: selectedStoreId,\n                            mode: viewMode === 'store' ? '  ' : (isSpecificStoreMode ? '  ' : ' ')\n                        });\n                    }\n                    aggregatedData = aggregateRevenueData(filteredSettlements, periodType, selectedDate);\n                    console.log('   :', {\n                        beforeFiltering: settlements_1.length,\n                        afterFiltering: filteredSettlements.length,\n                        aggregatedCount: aggregatedData.length,\n                        totalRevenue: aggregatedData.reduce(function (sum, item) { return sum + item.revenue; }, 0),\n                        sampleData: aggregatedData[0]\n                    });\n                    if (aggregatedData.length === 0) {\n                        console.warn('   ');\n                        //   :   \n                        setRevenueData([]);\n                        setTotalRevenue(0);\n                        setTotalTransactions(0);\n                        console.log('     ');\n                    }\n                    else {\n                        setRevenueData(aggregatedData);\n                        total = aggregatedData.reduce(function (sum, item) { return sum + item.revenue; }, 0);\n                        count = aggregatedData.reduce(function (sum, item) { return sum + item.count; }, 0);\n                        setTotalRevenue(total);\n                        setTotalTransactions(count);\n                        console.log('    :', { total: total, count: count, dataCount: aggregatedData.length });\n                    }\n                    return [3 /*break*/, 12];\n                case 10:\n                    error_6 = _a.sent();\n                    console.error('Dashboard:    :', error_6);\n                    console.error('Dashboard:  countryCode:', countryCode);\n                    console.error('Dashboard:  :', {\n                        email: user === null || user === void 0 ? void 0 : user.email,\n                        countryCode: user === null || user === void 0 ? void 0 : user.countryCode,\n                        role: user === null || user === void 0 ? void 0 : user.role\n                    });\n                    //   :   \n                    console.warn('  ,    .');\n                    setRevenueData([]);\n                    setTotalRevenue(0);\n                    setTotalTransactions(0);\n                    console.log('    ');\n                    return [3 /*break*/, 12];\n                case 11:\n                    setLoading(false);\n                    return [7 /*endfinally*/];\n                case 12: return [2 /*return*/];\n            }\n        });\n    }); };\n    //    \n    var aggregateRevenueData = function (settlements, type, date) {\n        var data = [];\n        if (type === 'daily') {\n            var _loop_3 = function (hour) {\n                var hourSettlements = settlements.filter(function (s) {\n                    var settlementHour = s.createdAt.getHours();\n                    return settlementHour === hour;\n                });\n                var revenue = hourSettlements.reduce(function (sum, s) { return sum + s.totalFee; }, 0);\n                data.push({\n                    period: \"\".concat(hour.toString().padStart(2, '0'), \":00\"),\n                    revenue: revenue,\n                    count: hourSettlements.length,\n                    date: new Date(date.setHours(hour, 0, 0, 0))\n                });\n            };\n            //   (00:00 - 23:00)\n            for (var hour = 0; hour < 24; hour++) {\n                _loop_3(hour);\n            }\n        }\n        else if (type === 'monthly') {\n            //   (1 - )\n            var daysInMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n            var _loop_4 = function (day) {\n                var daySettlements = settlements.filter(function (s) {\n                    var settlementDay = s.createdAt.getDate();\n                    return settlementDay === day;\n                });\n                var revenue = daySettlements.reduce(function (sum, s) { return sum + s.totalFee; }, 0);\n                data.push({\n                    period: \"\".concat(day, \"\\uC77C\"),\n                    revenue: revenue,\n                    count: daySettlements.length,\n                    date: new Date(date.getFullYear(), date.getMonth(), day)\n                });\n            };\n            for (var day = 1; day <= daysInMonth; day++) {\n                _loop_4(day);\n            }\n        }\n        else if (type === 'yearly') {\n            var _loop_5 = function (month) {\n                var monthSettlements = settlements.filter(function (s) {\n                    var settlementMonth = s.createdAt.getMonth();\n                    return settlementMonth === month;\n                });\n                var revenue = monthSettlements.reduce(function (sum, s) { return sum + s.totalFee; }, 0);\n                data.push({\n                    period: \"\".concat(month + 1, \"\\uC6D4\"),\n                    revenue: revenue,\n                    count: monthSettlements.length,\n                    date: new Date(date.getFullYear(), month, 1)\n                });\n            };\n            //   (1 - 12)\n            for (var month = 0; month < 12; month++) {\n                _loop_5(month);\n            }\n        }\n        return data;\n    };\n    //   \n    var handleDateChange = function (e) {\n        setSelectedDate(new Date(e.target.value));\n    };\n    //  \n    var formatDateForInput = function (date) {\n        return date.toISOString().split('T')[0];\n    };\n    //  \n    var formatCurrency = function (amount) {\n        return \"\\u20A9\".concat(amount.toLocaleString());\n    };\n    useEffect(function () {\n        if (user) {\n            fetchRevenueData();\n        }\n    }, [periodType, selectedDate, user === null || user === void 0 ? void 0 : user.email, viewMode, selectedStoreId, selectedCountry]);\n    //      (HQ )\n    useEffect(function () {\n        if ((user === null || user === void 0 ? void 0 : user.role) === 'hq' && !hasStoreError) {\n            console.log(' HQ  ,    ');\n            setStoresLoading(true);\n            // countryCode  fetchStores   \n            fetchStores((user === null || user === void 0 ? void 0 : user.countryCode) || '', user, selectedCountry).then(function (fetchedStores) {\n                //   :    \n                setStores(fetchedStores);\n                setStoresLoading(false);\n                console.log(' Dashboard:     :', fetchedStores.length);\n                if (fetchedStores.length === 0) {\n                    console.warn('    ');\n                }\n                else {\n                    console.log('     :', fetchedStores.length, ' ');\n                }\n            }).catch(function (error) {\n                console.error('      :', error);\n                //   :      \n                setStores([]);\n                setStoresLoading(false);\n                setHasStoreError(true); //    \n                console.log('      ');\n            });\n        }\n        else if ((user === null || user === void 0 ? void 0 : user.role) !== 'hq') {\n            console.log(' HQ     ,   ');\n            setStores([]);\n            setStoresLoading(false);\n            setHasStoreError(false);\n        }\n    }, [user === null || user === void 0 ? void 0 : user.role, hasStoreError, user === null || user === void 0 ? void 0 : user.countryCode, selectedCountry]);\n    //       \n    useEffect(function () {\n        if ((user === null || user === void 0 ? void 0 : user.role) === 'store' && user.email && !selectedStoreId) {\n            var autoStoreId = generateStoreId(user.email);\n            setSelectedStoreId(autoStoreId);\n            setViewMode('store');\n            console.log('      :', { email: user.email, storeId: autoStoreId });\n        }\n    }, [user === null || user === void 0 ? void 0 : user.role, user.email, selectedStoreId]);\n    //   : Mock   -   \n    //        \n    //   generateFallbackData()    \n    //    \n    if (hasStoreError && (user === null || user === void 0 ? void 0 : user.role) === 'hq') {\n        return (_jsx(\"div\", { className: \"space-y-8\", children: _jsx(\"div\", { className: \"card-primary\", children: _jsx(\"div\", { className: \"text-center py-12\", children: _jsxs(\"div\", { className: \"mb-6\", children: [_jsx(\"div\", { className: \"w-16 h-16 mx-auto mb-4 bg-red-900/20 rounded-full flex items-center justify-center\", children: _jsx(\"svg\", { className: \"w-8 h-8 text-red-500\", fill: \"none\", stroke: \"currentColor\", viewBox: \"0 0 24 24\", children: _jsx(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 2, d: \"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" }) }) }), _jsx(\"h2\", { className: \"text-xl font-semibold text-white mb-2\", children: \"\\uB9E4\\uC7A5 \\uBAA9\\uB85D\\uC744 \\uBD88\\uB7EC\\uC62C \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\" }), _jsx(\"p\", { className: \"text-gray-400 mb-6\", children: \"\\uB9E4\\uC7A5 \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911 \\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4.\" }), _jsx(\"div\", { className: \"space-x-2\", children: _jsx(\"button\", { onClick: function () {\n                                        setHasStoreError(false);\n                                        window.location.reload();\n                                    }, className: \"px-4 py-2 bg-primary text-white rounded-full text-sm hover:bg-primary/90 transition-colors\", children: \"\\uB2E4\\uC2DC \\uC2DC\\uB3C4\" }) })] }) }) }) }));\n    }\n    //        -     \n    //     ,      \n    if (loading) {\n        return (_jsxs(\"div\", { className: \"flex items-center justify-center h-64\", children: [_jsx(\"div\", { className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600\" }), _jsx(\"p\", { className: \"ml-4 text-gray-400\", children: \"\\uB9E4\\uCD9C \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\" })] }));\n    }\n    return (_jsxs(\"div\", { className: \"space-y-8\", children: [_jsxs(\"div\", { className: \"card-primary\", children: [_jsx(\"div\", { className: \"mb-4\", children: _jsx(\"h1\", { className: \"text-h1\", children: isSpecificStoreMode && targetStoreData\n                                ? \"\".concat(targetStoreData.storeName, \" \\uD1B5\\uACC4\")\n                                : (isStoreManager ? '  ' : ' ') }) }), _jsxs(\"div\", { className: \"flex items-center justify-between w-full mb-6\", children: [(user === null || user === void 0 ? void 0 : user.role) === 'hq' && (_jsxs(_Fragment, { children: [_jsx(\"button\", { onClick: function () {\n                                            setViewMode('all');\n                                            setSelectedStoreId(null);\n                                        }, className: \"px-4 py-3 rounded-full text-sm font-medium transition-colors \".concat(viewMode === 'all' ? 'bg-primary text-white' : 'text-gray-300 hover:text-white'), style: { width: '80px', height: '44px' }, children: \"\\uC804\\uCCB4\" }), _jsx(\"button\", { onClick: function () { return setViewMode('store'); }, className: \"px-4 py-3 rounded-full text-sm font-medium transition-colors \".concat(viewMode === 'store' ? 'bg-primary text-white' : 'text-gray-300 hover:text-white'), style: { width: '80px', height: '44px' }, children: \"\\uB9E4\\uC7A5\" })] })), _jsx(\"div\", { className: \"flex-grow\" }), _jsx(\"button\", { onClick: function () { return setPeriodType('daily'); }, className: \"px-4 py-3 rounded-full text-sm font-medium transition-colors touch-target \".concat(periodType === 'daily' ? 'bg-primary text-white' : 'text-gray-300 hover:text-white'), style: { width: '80px', height: '44px' }, children: \"\\uC77C\\uBCC4\" }), _jsx(\"button\", { onClick: function () { return setPeriodType('monthly'); }, className: \"px-4 py-3 rounded-full text-sm font-medium transition-colors touch-target \".concat(periodType === 'monthly' ? 'bg-primary text-white' : 'text-gray-300 hover:text-white'), style: { width: '80px', height: '44px' }, children: \"\\uC6D4\\uBCC4\" }), _jsx(\"button\", { onClick: function () { return setPeriodType('yearly'); }, className: \"px-4 py-3 rounded-full text-sm font-medium transition-colors touch-target \".concat(periodType === 'yearly' ? 'bg-primary text-white' : 'text-gray-300 hover:text-white'), style: { width: '80px', height: '44px' }, children: \"\\uB144\\uBCC4\" }), _jsx(\"input\", { type: \"date\", value: formatDateForInput(selectedDate), onChange: handleDateChange, className: \"px-4 py-3 rounded-full text-sm touch-target border border-gray-600 bg-gray-800 text-white\", style: { width: '180px', height: '44px' } })] })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4\", children: [_jsxs(\"div\", { className: \"card-secondary\", children: [_jsx(\"p\", { className: \"text-caption\", children: \"\\uCD1D \\uB9E4\\uCD9C\" }), _jsx(\"p\", { className: \"text-xl lg:text-2xl font-bold text-primary mt-1 mobile-text-sm\", children: formatCurrency(totalRevenue) })] }), _jsxs(\"div\", { className: \"card-secondary\", children: [_jsx(\"p\", { className: \"text-caption\", children: \"\\uCD1D \\uAC70\\uB798\" }), _jsxs(\"p\", { className: \"text-xl lg:text-2xl font-bold text-secondary mt-1 mobile-text-sm\", children: [totalTransactions.toLocaleString(), \"\\uAC74\"] })] })] }), (user === null || user === void 0 ? void 0 : user.role) === 'hq' && viewMode === 'store' && (_jsx(\"div\", { className: \"card-primary\", children: _jsxs(\"div\", { className: \"mb-4\", children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-300 mb-2\", children: \"\\uB9E4\\uC7A5 \\uC120\\uD0DD\" }), storesLoading ? (_jsxs(\"div\", { className: \"flex items-center justify-center py-4\", children: [_jsx(\"div\", { className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-cyan-600 mr-2\" }), _jsx(\"p\", { className: \"text-gray-400\", children: \"\\uB9E4\\uC7A5 \\uBAA9\\uB85D\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\" })] })) : stores.length === 0 ? (_jsxs(\"div\", { className: \"text-center py-4\", children: [_jsx(\"p\", { className: \"text-gray-400 mb-2\", children: \"\\uB9E4\\uC7A5 \\uBAA9\\uB85D\\uC744 \\uBD88\\uB7EC\\uC62C \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\" }), _jsxs(\"p\", { className: \"text-caption text-gray-500 mb-3\", children: [\"\\uC0AC\\uC6A9\\uC790: \", user === null || user === void 0 ? void 0 : user.email, \" | \\uAD6D\\uAC00: \", user === null || user === void 0 ? void 0 : user.countryCode] }), _jsx(\"button\", { onClick: function () { return window.location.reload(); }, className: \"px-4 py-2 bg-primary text-white rounded-full text-sm hover:bg-primary/90 transition-colors\", children: \"\\uB2E4\\uC2DC \\uC2DC\\uB3C4\" })] })) : (_jsx(_Fragment, { children: _jsxs(\"select\", { value: selectedStoreId || '', onChange: function (e) { return setSelectedStoreId(e.target.value || null); }, className: \"mobile-form-input\", children: [viewMode === 'all' && _jsx(\"option\", { value: \"\", children: \"\\uC804\\uCCB4 \\uB9E4\\uC7A5\" }), stores.map(function (store) { return (_jsx(\"option\", { value: store.id, children: store.name }, store.id)); })] }) }))] }) })), _jsxs(\"div\", { className: \"card-primary\", children: [_jsx(\"h2\", { className: \"text-h2 mb-6\", children: \"\\uB9E4\\uCD9C \\uCD94\\uC774\" }), _jsx(\"div\", { className: \"mobile-chart overflow-hidden\", style: { width: '100%', height: '450px' }, children: revenueData.length === 0 ? (_jsx(\"div\", { className: \"text-center py-8\", children: _jsx(\"p\", { className: \"text-body text-gray-400\", children: viewMode === 'store' && selectedStoreId\n                                    ? '    .'\n                                    : '    .' }) })) : (_jsx(DynamicBarChart, { data: revenueData })) })] }), _jsxs(\"div\", { className: \"card-primary\", children: [_jsx(\"h2\", { className: \"text-h2 mb-6\", children: \"\\uB9E4\\uCD9C \\uC0C1\\uC138\" }), revenueData.length === 0 ? (_jsx(\"div\", { className: \"text-center py-8\", children: _jsx(\"p\", { className: \"text-body text-gray-400\", children: viewMode === 'store' && selectedStoreId\n                                ? '    .'\n                                : '    .' }) })) : (_jsxs(_Fragment, { children: [_jsx(\"div\", { className: \"hidden lg:block overflow-x-auto\", children: _jsxs(\"table\", { className: \"w-full text-sm\", children: [_jsx(\"thead\", { children: _jsxs(\"tr\", { className: \"border-b border-gray-700/50\", children: [_jsx(\"th\", { className: \"text-left py-3 px-4 text-gray-400 font-medium\", children: \"\\uAE30\\uAC04\" }), _jsx(\"th\", { className: \"text-right py-3 px-4 text-gray-400 font-medium\", children: \"\\uB9E4\\uCD9C\" }), _jsx(\"th\", { className: \"text-right py-3 px-4 text-gray-400 font-medium\", children: \"\\uAC70\\uB798\\uC218\" }), _jsx(\"th\", { className: \"text-right py-3 px-4 text-gray-400 font-medium\", children: \"\\uAC1D\\uB2E8\\uAC00\" })] }) }), _jsx(\"tbody\", { children: revenueData\n                                                .filter(function (item) { return item.revenue > 0; })\n                                                .sort(function (a, b) { return b.date.getTime() - a.date.getTime(); })\n                                                .map(function (item, index) { return (_jsxs(\"tr\", { className: \"border-b border-gray-700/30 hover:bg-gray-700/20 transition-colors\", children: [_jsx(\"td\", { className: \"py-3 px-4 text-white\", children: item.period }), _jsx(\"td\", { className: \"py-3 px-4 text-right text-primary font-medium\", children: formatCurrency(item.revenue) }), _jsxs(\"td\", { className: \"py-3 px-4 text-right text-secondary\", children: [item.count, \"\\uAC74\"] }), _jsx(\"td\", { className: \"py-3 px-4 text-right text-warning\", children: item.count > 0 ? formatCurrency(Math.round(item.revenue / item.count)) : '-' })] }, index)); }) })] }) }), _jsx(\"div\", { className: \"lg:hidden space-y-3\", children: revenueData\n                                    .filter(function (item) { return item.revenue > 0; })\n                                    .sort(function (a, b) { return b.date.getTime() - a.date.getTime(); })\n                                    .map(function (item, index) { return (_jsxs(\"div\", { className: \"mobile-card\", children: [_jsxs(\"div\", { className: \"flex justify-between items-start mb-3\", children: [_jsx(\"h3\", { className: \"text-base font-semibold text-white\", children: item.period }), _jsx(\"span\", { className: \"text-lg font-bold text-primary\", children: formatCurrency(item.revenue) })] }), _jsxs(\"div\", { className: \"grid grid-cols-2 gap-4 text-sm\", children: [_jsxs(\"div\", { children: [_jsx(\"p\", { className: \"text-gray-400 mb-1\", children: \"\\uAC70\\uB798\\uC218\" }), _jsxs(\"p\", { className: \"text-white font-medium\", children: [item.count, \"\\uAC74\"] })] }), _jsxs(\"div\", { children: [_jsx(\"p\", { className: \"text-gray-400 mb-1\", children: \"\\uAC1D\\uB2E8\\uAC00\" }), _jsx(\"p\", { className: \"text-warning font-medium\", children: item.count > 0 ? formatCurrency(Math.round(item.revenue / item.count)) : '-' })] })] })] }, index)); }) }), revenueData.filter(function (item) { return item.revenue > 0; }).length === 0 && (_jsxs(\"div\", { className: \"text-center py-8\", children: [_jsx(\"p\", { className: \"text-body\", children: viewMode === 'store' && selectedStoreId\n                                            ? '    .'\n                                            : '    .' }), viewMode === 'store' && selectedStoreId && (_jsxs(\"p\", { className: \"text-caption text-gray-500 mt-2\", children: [\"\\uB9E4\\uC7A5 ID: \", selectedStoreId] }))] }))] }))] })] }));\n};\nexport default Dashboard;\n","import { getCountryCode } from '../data/countryCodes';\nexport var formatPhoneNumberWithCountry = function (phoneNumber, country) {\n    //   \n    if (!phoneNumber) {\n        return '-';\n    }\n    //    \n    if (phoneNumber.startsWith('[')) {\n        return phoneNumber;\n    }\n    //  \n    var countryCode = getCountryCode(country || '');\n    //  \n    return \"[\".concat(countryCode, \"] \").concat(phoneNumber);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { collection, getDocs, doc, updateDoc, deleteDoc } from 'firebase/firestore';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { db } from '../firebase/config';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useCountry } from '../contexts/CountryContext';\nimport { UserGroupIcon, TrashIcon, WifiIcon, SignalSlashIcon, ComputerDesktopIcon, ChartBarIcon } from '@heroicons/react/24/outline';\nimport { formatPhoneNumberWithCountry } from '../utils/phoneFormatter';\nimport { generateStoreId } from '../utils/storeUtils';\nvar StoreManager = function () {\n    var user = useAuth().user;\n    var selectedCountry = useCountry().selectedCountry;\n    var navigate = useNavigate();\n    var _a = useState([]), managers = _a[0], setManagers = _a[1];\n    var _b = useState([]), filteredManagers = _b[0], setFilteredManagers = _b[1];\n    var _c = useState(true), loading = _c[0], setLoading = _c[1];\n    var _d = useState(''), error = _d[0], setError = _d[1];\n    var _e = useState('ko'), selectedLanguage = _e[0], setSelectedLanguage = _e[1];\n    var _f = useState(false), useCardView = _f[0], setUseCardView = _f[1];\n    var containerRef = useRef(null);\n    //     -   \n    var isHqAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'hq';\n    //   \n    var COUNTRIES = [\n        { code: '', name: '', enName: 'All' },\n        { code: 'KR', name: '', enName: 'South Korea' },\n        { code: 'US', name: 'United States', enName: 'United States' },\n        { code: 'JP', name: '', enName: 'Japan' },\n        { code: 'CN', name: '', enName: 'China' },\n        { code: 'GB', name: '', enName: 'United Kingdom' },\n        { code: 'DE', name: '', enName: 'Germany' },\n        { code: 'FR', name: '', enName: 'France' },\n        { code: 'IT', name: '', enName: 'Italy' },\n        { code: 'ES', name: '', enName: 'Spain' },\n        { code: 'NL', name: '', enName: 'Netherlands' }\n    ];\n    useEffect(function () {\n        fetchManagers();\n    }, []);\n    useEffect(function () {\n        //    \n        if (selectedCountry === 'ALL') {\n            setFilteredManagers(managers);\n        }\n        else {\n            setFilteredManagers(managers.filter(function (manager) { return manager.countryCode === selectedCountry; }));\n        }\n    }, [selectedCountry, managers]);\n    useEffect(function () {\n        //     \n        if (selectedCountry === 'KR') {\n            setSelectedLanguage('ko');\n        }\n        else if (['US', 'GB', 'AU', 'CA', 'NZ'].includes(selectedCountry)) {\n            setSelectedLanguage('en');\n        }\n        else {\n            setSelectedLanguage('ko'); //  \n        }\n    }, [selectedCountry]);\n    // ResizeObserver    \n    useEffect(function () {\n        var observer = new ResizeObserver(function (entries) {\n            var entry = entries[0];\n            var tableElement = entry.target.querySelector('table');\n            if (tableElement) {\n                var needsScroll = tableElement.scrollWidth > entry.target.clientWidth;\n                setUseCardView(needsScroll);\n            }\n        });\n        if (containerRef.current && !loading && filteredManagers.length > 0) {\n            observer.observe(containerRef.current);\n        }\n        return function () {\n            observer.disconnect();\n        };\n    }, [filteredManagers, loading]);\n    //  \n    var texts = {\n        ko: {\n            countrySelection: ' ',\n            managerList: ' ',\n            system: '',\n            country: '',\n            region: '',\n            storeName: '',\n            manager: '',\n            phone: '',\n            createdAt: '',\n            status: '',\n            approval: '',\n            delete: '',\n            online: '',\n            offline: '',\n            loading: '   ...',\n            error: '   .',\n            managerCount: ' '\n        },\n        en: {\n            countrySelection: 'Country Selection',\n            managerList: 'Store List',\n            system: 'System',\n            country: 'Country',\n            region: 'Region',\n            storeName: 'Store Name',\n            manager: 'Manager',\n            phone: 'Phone',\n            createdAt: 'Joined',\n            status: 'Status',\n            approval: 'Approval',\n            delete: 'Delete',\n            online: 'Online',\n            offline: 'Offline',\n            loading: 'Loading store list...',\n            error: 'Failed to load store list.',\n            managerCount: 'stores'\n        }\n    };\n    var t = texts[selectedLanguage];\n    var fetchManagers = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var managerList_1, countryCodes, promises, results, err_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, 3, 4]);\n                    setLoading(true);\n                    managerList_1 = [];\n                    countryCodes = ['KR', 'US', 'JP', 'CN', 'GB', 'DE', 'FR', 'IT', 'ES', 'NL'];\n                    console.log('      ...');\n                    promises = countryCodes.map(function (countryCode) { return __awaiter(void 0, void 0, void 0, function () {\n                        var usersRef, querySnapshot, managers_1, error_1;\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0:\n                                    _a.trys.push([0, 2, , 3]);\n                                    usersRef = collection(db, \"users_\".concat(countryCode));\n                                    return [4 /*yield*/, getDocs(usersRef)];\n                                case 1:\n                                    querySnapshot = _a.sent();\n                                    managers_1 = [];\n                                    querySnapshot.forEach(function (doc) {\n                                        var data = doc.data();\n                                        if (data.role === 'store') {\n                                            managers_1.push({\n                                                uid: data.uid,\n                                                email: data.email,\n                                                extraEmail: data.extraEmail,\n                                                storeName: data.storeName,\n                                                phoneNumber: data.phoneNumber,\n                                                role: data.role,\n                                                createdAt: data.createdAt,\n                                                lastLogin: data.lastLogin,\n                                                approved: data.approved,\n                                                country: data.country || '  ',\n                                                countryCode: countryCode,\n                                                region: data.region || '  ',\n                                                city: data.city || '  ',\n                                                clientIP: data.clientIP\n                                            });\n                                        }\n                                    });\n                                    console.log(\" \".concat(countryCode, \": \").concat(managers_1.length, \"\\uAC1C \\uB9E4\\uC7A5 \\uAD00\\uB9AC\\uC790 \\uC870\\uD68C \\uC644\\uB8CC\"));\n                                    return [2 /*return*/, managers_1];\n                                case 2:\n                                    error_1 = _a.sent();\n                                    console.error(\" \".concat(countryCode, \" \\uC870\\uD68C \\uC624\\uB958:\"), error_1);\n                                    return [2 /*return*/, []];\n                                case 3: return [2 /*return*/];\n                            }\n                        });\n                    }); });\n                    return [4 /*yield*/, Promise.all(promises)];\n                case 1:\n                    results = _a.sent();\n                    //  \n                    results.forEach(function (managers) {\n                        managerList_1.push.apply(managerList_1, managers);\n                    });\n                    console.log(\" \\uC804\\uCCB4 \\uB9E4\\uC7A5 \\uAD00\\uB9AC\\uC790 \\uC870\\uD68C \\uC644\\uB8CC: \".concat(managerList_1.length, \"\\uAC1C\"));\n                    setManagers(managerList_1);\n                    return [3 /*break*/, 4];\n                case 2:\n                    err_1 = _a.sent();\n                    console.error('    :', err_1);\n                    setError('   .');\n                    return [3 /*break*/, 4];\n                case 3:\n                    setLoading(false);\n                    return [7 /*endfinally*/];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    var toggleApproval = function (uid, approved) { return __awaiter(void 0, void 0, void 0, function () {\n        var manager, err_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    manager = managers.find(function (m) { return m.uid === uid; });\n                    if (!manager)\n                        return [2 /*return*/];\n                    return [4 /*yield*/, updateDoc(doc(db, \"users\", manager.email), {\n                            approved: approved,\n                            lastLogin: new Date()\n                        })];\n                case 1:\n                    _a.sent();\n                    setManagers(managers.map(function (m) {\n                        return m.uid === uid ? __assign(__assign({}, m), { approved: approved }) : m;\n                    }));\n                    return [3 /*break*/, 3];\n                case 2:\n                    err_2 = _a.sent();\n                    console.error('   :', err_2);\n                    setError('   .');\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    var deleteManager = function (uid) { return __awaiter(void 0, void 0, void 0, function () {\n        var manager, err_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!confirm('    ?'))\n                        return [2 /*return*/];\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    manager = managers.find(function (m) { return m.uid === uid; });\n                    if (!manager)\n                        return [2 /*return*/];\n                    return [4 /*yield*/, deleteDoc(doc(db, \"users\", manager.email))];\n                case 2:\n                    _a.sent();\n                    setManagers(managers.filter(function (m) { return m.uid !== uid; }));\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_3 = _a.sent();\n                    console.error('   :', err_3);\n                    setError('   .');\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    var formatDate = function (timestamp) {\n        if (!timestamp)\n            return '-';\n        var date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n        return date.toLocaleDateString('ko-KR');\n    };\n    var isRecentlyOnline = function (lastLogin) {\n        if (!lastLogin)\n            return false;\n        var lastLoginDate = lastLogin.toDate ? lastLogin.toDate() : new Date(lastLogin);\n        var now = new Date();\n        var diffInMinutes = (now.getTime() - lastLoginDate.getTime()) / (1000 * 60);\n        return diffInMinutes <= 5; // 5    \n    };\n    //    \n    var renderCardView = function () { return (_jsx(\"div\", { className: \"mobile-card-grid\", children: filteredManagers.map(function (manager) { return (_jsxs(\"div\", { className: \"mobile-card\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-3 pb-2 border-b border-gray-700\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-white\", children: manager.storeName }), _jsx(\"div\", { className: \"flex items-center space-x-2\", children: isRecentlyOnline(manager.lastLogin) ? (_jsxs(_Fragment, { children: [_jsx(WifiIcon, { className: \"w-4 h-4 text-green-500\" }), _jsx(\"span\", { className: \"text-xs text-green-500\", children: t.online })] })) : (_jsxs(_Fragment, { children: [_jsx(SignalSlashIcon, { className: \"w-4 h-4 text-red-500\" }), _jsx(\"span\", { className: \"text-xs text-red-500\", children: t.offline })] })) })] }), _jsxs(\"div\", { className: \"space-y-2 mb-3\", children: [_jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsxs(\"span\", { className: \"text-sm text-gray-400\", children: [t.manager, \":\"] }), _jsx(\"span\", { className: \"text-sm text-white font-medium\", children: manager.email })] }), _jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsxs(\"span\", { className: \"text-sm text-gray-400\", children: [t.phone, \":\"] }), _jsx(\"span\", { className: \"text-sm text-gray-300\", children: formatPhoneNumberWithCountry(manager.phoneNumber, manager.country) })] }), _jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsxs(\"span\", { className: \"text-sm text-gray-400\", children: [t.country, \":\"] }), _jsx(\"span\", { className: \"text-sm text-gray-300\", children: manager.country || '-' })] }), _jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsxs(\"span\", { className: \"text-sm text-gray-400\", children: [t.region, \":\"] }), _jsx(\"span\", { className: \"text-sm text-gray-300\", children: manager.region })] }), _jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsxs(\"span\", { className: \"text-sm text-gray-400\", children: [t.createdAt, \":\"] }), _jsx(\"span\", { className: \"text-sm text-gray-300\", children: formatDate(manager.createdAt) })] })] }), _jsxs(\"div\", { className: \"flex flex-wrap gap-2 pt-2 border-t border-gray-700 justify-center\", children: [_jsxs(Link, { to: \"/dashboard?mode=store&storeId=\".concat(generateStoreId(manager.email)), className: \"flex items-center space-x-1 px-4 py-3 bg-green-600/20 text-green-400 rounded-full hover:bg-green-600/30 transition-colors text-sm\", children: [_jsx(ChartBarIcon, { className: \"w-4 h-4\" }), _jsx(\"span\", { children: \"\\uB300\\uC2DC\\uBCF4\\uB4DC\" })] }), _jsxs(Link, { to: \"/system?store=\".concat(manager.email), className: \"flex items-center space-x-1 px-4 py-3 bg-cyan-600/20 text-cyan-400 rounded-full hover:bg-cyan-600/30 transition-colors text-sm\", children: [_jsx(ComputerDesktopIcon, { className: \"w-4 h-4\" }), _jsx(\"span\", { children: t.system })] }), isHqAdmin && (_jsxs(_Fragment, { children: [_jsx(\"button\", { onClick: function () { return toggleApproval(manager.uid, !manager.approved); }, className: \"flex items-center space-x-1 px-4 py-3 rounded-full transition-colors text-sm \".concat(manager.approved\n                                        ? 'bg-emerald-600/20 text-emerald-400 hover:bg-emerald-600/30'\n                                        : 'bg-yellow-600/20 text-yellow-400 hover:bg-yellow-600/30'), children: manager.approved ? (selectedLanguage === 'ko' ? '' : 'Approved') : (selectedLanguage === 'ko' ? '' : 'Pending') }), _jsxs(\"button\", { onClick: function () { return deleteManager(manager.uid); }, className: \"flex items-center space-x-1 px-4 py-3 bg-red-600/20 text-red-400 rounded-full hover:bg-red-600/30 transition-colors text-sm\", title: t.delete, children: [_jsx(TrashIcon, { className: \"w-4 h-4\" }), _jsx(\"span\", { children: t.delete })] })] }))] })] }, manager.uid)); }) })); };\n    if (loading) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center h-full\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"div\", { className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mx-auto\" }), _jsx(\"p\", { className: \"mt-4 text-gray-400\", children: t.loading })] }) }));\n    }\n    return (_jsxs(\"div\", { className: \"space-y-3\", children: [error && (_jsx(\"div\", { className: \"p-4 bg-red-900/50 border border-red-500/50 rounded-lg text-red-200 backdrop-blur-sm\", children: error })), _jsxs(\"div\", { className: \"bg-gray-900/95 backdrop-blur-xl shadow-2xl rounded-2xl overflow-hidden border border-gray-700/50\", children: [_jsx(\"div\", { className: \"px-4 py-3 border-b border-gray-700/50\", children: _jsx(\"h2\", { className: \"text-xl font-semibold text-white\", children: t.managerList }) }), _jsx(\"div\", { ref: containerRef, className: \"responsive-container transition-all duration-300 ease-in-out\", children: useCardView ? (\n                        //  \n                        _jsx(\"div\", { className: \"p-4\", children: renderCardView() })) : (\n                        //   ( )\n                        _jsx(\"div\", { className: \"overflow-x-auto\", children: _jsxs(\"table\", { className: \"min-w-full divide-y divide-gray-800/50\", children: [_jsx(\"thead\", { className: \"bg-gray-800/50\", children: _jsxs(\"tr\", { children: [_jsx(\"th\", { className: \"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\", children: \"\\uB300\\uC2DC\\uBCF4\\uB4DC\" }), _jsx(\"th\", { className: \"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\", children: t.system }), _jsx(\"th\", { className: \"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\", children: t.country }), _jsx(\"th\", { className: \"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\", children: t.region }), _jsx(\"th\", { className: \"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\", children: t.storeName }), _jsx(\"th\", { className: \"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\", children: t.manager }), _jsx(\"th\", { className: \"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\", children: t.phone }), _jsx(\"th\", { className: \"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\", children: t.createdAt }), _jsx(\"th\", { className: \"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\", children: t.status }), isHqAdmin && (_jsx(\"th\", { className: \"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\", children: t.approval })), isHqAdmin && (_jsx(\"th\", { className: \"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\", children: t.delete }))] }) }), _jsx(\"tbody\", { className: \"bg-gray-900/30 divide-y divide-gray-800/50\", children: filteredManagers.map(function (manager) { return (_jsxs(\"tr\", { className: \"hover:bg-gray-800/30 transition-colors\", children: [_jsx(\"td\", { className: \"px-3 py-2 whitespace-nowrap text-center\", children: _jsx(Link, { to: \"/dashboard?mode=store&storeId=\".concat(generateStoreId(manager.email)), className: \"inline-block p-2 hover:bg-gray-700/50 rounded-lg transition-colors\", title: \"\\uB9E4\\uC7A5 \\uD1B5\\uACC4\", children: _jsx(ChartBarIcon, { className: \"w-6 h-6 text-green-400\" }) }) }), _jsx(\"td\", { className: \"px-3 py-2 whitespace-nowrap text-center\", children: _jsx(Link, { to: \"/system?store=\".concat(manager.email), className: \"inline-block p-2 hover:bg-gray-700/50 rounded-lg transition-colors\", title: \"\\uC2DC\\uC2A4\\uD15C \\uAD00\\uB9AC\", children: _jsx(ComputerDesktopIcon, { className: \"w-6 h-6 text-cyan-400\" }) }) }), _jsx(\"td\", { className: \"px-3 py-2 whitespace-nowrap text-center\", children: _jsx(\"div\", { className: \"text-base text-gray-300\", children: manager.country || '-' }) }), _jsx(\"td\", { className: \"px-3 py-2 whitespace-nowrap text-center\", children: _jsx(\"div\", { className: \"text-base text-gray-300\", children: manager.region }) }), _jsx(\"td\", { className: \"px-3 py-2 whitespace-nowrap text-center\", children: _jsx(\"div\", { className: \"text-base text-gray-300\", children: manager.storeName }) }), _jsx(\"td\", { className: \"px-3 py-2 whitespace-nowrap text-center\", children: _jsx(\"div\", { className: \"text-base font-medium text-white\", children: manager.email }) }), _jsx(\"td\", { className: \"px-3 py-2 whitespace-nowrap text-center\", children: _jsx(\"div\", { className: \"text-base text-gray-300\", children: formatPhoneNumberWithCountry(manager.phoneNumber, manager.country) }) }), _jsx(\"td\", { className: \"px-3 py-2 whitespace-nowrap text-center\", children: _jsx(\"div\", { className: \"text-base text-gray-300\", children: formatDate(manager.createdAt) }) }), _jsx(\"td\", { className: \"px-3 py-2 whitespace-nowrap text-center\", children: _jsx(\"div\", { className: \"flex items-center justify-center space-x-2\", children: isRecentlyOnline(manager.lastLogin) ? (_jsxs(_Fragment, { children: [_jsx(WifiIcon, { className: \"w-4 h-4 text-green-500\" }), _jsx(\"span\", { className: \"text-sm text-green-500\", children: t.online })] })) : (_jsxs(_Fragment, { children: [_jsx(SignalSlashIcon, { className: \"w-4 h-4 text-red-500\" }), _jsx(\"span\", { className: \"text-sm text-red-500\", children: t.offline })] })) }) }), isHqAdmin && (_jsx(\"td\", { className: \"px-4 py-3 whitespace-nowrap text-center\", children: _jsx(\"button\", { onClick: function () { return toggleApproval(manager.uid, !manager.approved); }, className: \"px-3 py-1 rounded-lg text-sm font-medium transition-colors \".concat(manager.approved\n                                                            ? 'bg-emerald-600/20 text-emerald-400 hover:bg-emerald-600/30'\n                                                            : 'bg-yellow-600/20 text-yellow-400 hover:bg-yellow-600/30'), children: manager.approved ? (selectedLanguage === 'ko' ? '' : 'Approved') : (selectedLanguage === 'ko' ? '' : 'Pending') }) })), isHqAdmin && (_jsx(\"td\", { className: \"px-4 py-3 whitespace-nowrap text-center\", children: _jsx(\"button\", { onClick: function () { return deleteManager(manager.uid); }, className: \"p-2 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-colors\", title: t.delete, children: _jsx(TrashIcon, { className: \"w-4 h-4\" }) }) }))] }, manager.uid)); }) })] }) })) }), filteredManagers.length === 0 && (_jsxs(\"div\", { className: \"text-center py-6\", children: [_jsx(UserGroupIcon, { className: \"w-12 h-12 text-gray-600 mx-auto mb-2\" }), _jsx(\"p\", { className: \"text-gray-400\", children: selectedLanguage === 'ko' ? '  .' : 'No registered stores found.' })] }))] })] }));\n};\nexport default StoreManager;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { collection, doc, updateDoc, setDoc, getDoc, onSnapshot } from 'firebase/firestore';\nimport { db } from '../firebase/config';\nimport { useAuth } from '../contexts/AuthContext';\nimport { generateStoreId, normalizeCountryCode } from '../utils/storeUtils';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport { XMarkIcon, ChartBarIcon } from '@heroicons/react/24/outline';\n//  Firestore Timestamp   \nvar convertTimestampToDate = function (timestamp) {\n    if (!timestamp)\n        return new Date();\n    // Firestore Timestamp \n    if (timestamp && typeof timestamp.toDate === 'function') {\n        return timestamp.toDate();\n    }\n    //  \n    if (typeof timestamp === 'string') {\n        return new Date(timestamp);\n    }\n    // Date  \n    if (timestamp instanceof Date) {\n        return timestamp;\n    }\n    // () \n    if (typeof timestamp === 'number') {\n        return new Date(timestamp);\n    }\n    return new Date();\n};\nvar SystemManager = function () {\n    var _a;\n    var user = useAuth().user;\n    var navigate = useNavigate();\n    var searchParams = useSearchParams()[0];\n    var targetStoreEmail = searchParams.get('store');\n    //     \n    console.log(' SystemManager    ', {\n        user: user ? {\n            email: user.email,\n            role: user.role,\n            storeName: user.storeName\n        } : 'null',\n        targetStoreEmail: targetStoreEmail,\n        timestamp: new Date().toISOString()\n    });\n    var _b = useState(true), loading = _b[0], setLoading = _b[1];\n    var _c = useState(null), error = _c[0], setError = _c[1];\n    var _d = useState([]), createdRooms = _d[0], setCreatedRooms = _d[1];\n    var _e = useState({\n        isOpen: false,\n        room: null,\n        startTime: '',\n        endTime: '',\n        usageTime: '',\n        totalFee: 0\n    }), settlementModal = _e[0], setSettlementModal = _e[1];\n    //       \n    var fetchStoreUserData = function (email) { return __awaiter(void 0, void 0, void 0, function () {\n        var countryCodes, _i, countryCodes_1, countryCode, userDocRef, userDoc, userData, error_1;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    console.log('    :', email);\n                    countryCodes = ['KR', 'US', 'JP', 'CN', 'GB', 'DE', 'FR', 'IT', 'ES', 'NL'];\n                    _i = 0, countryCodes_1 = countryCodes;\n                    _b.label = 1;\n                case 1:\n                    if (!(_i < countryCodes_1.length)) return [3 /*break*/, 6];\n                    countryCode = countryCodes_1[_i];\n                    _b.label = 2;\n                case 2:\n                    _b.trys.push([2, 4, , 5]);\n                    userDocRef = doc(db, \"users_\".concat(countryCode), email);\n                    return [4 /*yield*/, getDoc(userDocRef)];\n                case 3:\n                    userDoc = _b.sent();\n                    if (userDoc.exists()) {\n                        userData = userDoc.data();\n                        console.log(\"\\u2705 \".concat(countryCode, \"\\uC5D0\\uC11C \\uB9E4\\uC7A5 \\uB370\\uC774\\uD130 \\uCC3E\\uC74C:\"), {\n                            email: userData.email,\n                            storeName: userData.storeName,\n                            countryCode: userData.countryCode,\n                            country: userData.country,\n                            roomsCount: ((_a = userData.rooms) === null || _a === void 0 ? void 0 : _a.length) || 0\n                        });\n                        return [2 /*return*/, {\n                                uid: userData.uid,\n                                email: userData.email,\n                                displayName: userData.displayName,\n                                role: userData.role,\n                                storeName: userData.storeName,\n                                countryCode: userData.countryCode,\n                                country: userData.country,\n                                region: userData.region,\n                                city: userData.city,\n                                extraEmail: userData.extraEmail\n                            }];\n                    }\n                    return [3 /*break*/, 5];\n                case 4:\n                    error_1 = _b.sent();\n                    console.error(\"\\u274C \".concat(countryCode, \" \\uC870\\uD68C \\uC624\\uB958:\"), error_1);\n                    return [3 /*break*/, 5];\n                case 5:\n                    _i++;\n                    return [3 /*break*/, 1];\n                case 6:\n                    console.error('     :', email);\n                    return [2 /*return*/, null];\n            }\n        });\n    }); };\n    //     (URL       )\n    var _f = useState(null), targetUser = _f[0], setTargetUser = _f[1];\n    useEffect(function () {\n        console.log(' SystemManager useEffect  ', {\n            user: user ? {\n                email: user.email,\n                role: user.role,\n                storeName: user.storeName\n            } : 'null',\n            targetStoreEmail: targetStoreEmail,\n            timestamp: new Date().toISOString()\n        });\n        console.log(' SystemManager: useEffect ', {\n            targetStoreEmail: targetStoreEmail,\n            user: user,\n            componentMounted: true\n        });\n        var loadTargetUser = function () { return __awaiter(void 0, void 0, void 0, function () {\n            var storeUserData;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        console.log(' SystemManager: loadTargetUser ', {\n                            targetStoreEmail: targetStoreEmail,\n                            user: user ? {\n                                email: user.email,\n                                role: user.role,\n                                storeName: user.storeName\n                            } : null\n                        });\n                        if (!targetStoreEmail) return [3 /*break*/, 2];\n                        console.log(' URL    :', targetStoreEmail);\n                        return [4 /*yield*/, fetchStoreUserData(targetStoreEmail)];\n                    case 1:\n                        storeUserData = _a.sent();\n                        console.log(' targetUser  (URL ):', storeUserData);\n                        setTargetUser(storeUserData);\n                        return [3 /*break*/, 3];\n                    case 2:\n                        console.log('    ');\n                        console.log(' targetUser  ( ):', user);\n                        setTargetUser(user);\n                        _a.label = 3;\n                    case 3:\n                        console.log(' loadTargetUser ');\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        loadTargetUser();\n    }, [targetStoreEmail, user]);\n    //     \n    var _g = useState({\n        ratePerInterval: 5000, //    (: 1 1000)\n        timeInterval: 10, //   ( , : 1)\n        roomCount: 4 //  \n    }), settings = _g[0], setSettings = _g[1];\n    //        \n    var initializeSystemData = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var userDocRef, userDoc, userData, ratePerInterval, rooms, targetRoomCount, currentCount, error_2;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!(targetUser === null || targetUser === void 0 ? void 0 : targetUser.email) || !(targetUser === null || targetUser === void 0 ? void 0 : targetUser.countryCode)) {\n                        console.error('   .');\n                        setLoading(false);\n                        return [2 /*return*/];\n                    }\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 5, 6, 7]);\n                    console.log('    ...', {\n                        email: targetUser.email,\n                        countryCode: targetUser.countryCode,\n                        storeName: targetUser.storeName\n                    });\n                    userDocRef = doc(db, \"users_\".concat(targetUser.countryCode), targetUser.email);\n                    return [4 /*yield*/, getDoc(userDocRef)];\n                case 2:\n                    userDoc = _b.sent();\n                    if (!userDoc.exists()) {\n                        console.error('   .');\n                        setLoading(false);\n                        return [2 /*return*/];\n                    }\n                    userData = userDoc.data();\n                    console.log('    :', {\n                        roomsCount: ((_a = userData.rooms) === null || _a === void 0 ? void 0 : _a.length) || 0,\n                        roomCount: userData.roomCount,\n                        ratePerInterval: userData.ratePerInterval\n                    });\n                    ratePerInterval = userData.ratePerInterval ||\n                        Math.round((userData.ratePer10Minutes || 5000) * 10 / (userData.timeInterval || 10));\n                    setSettings({\n                        ratePerInterval: ratePerInterval,\n                        timeInterval: userData.timeInterval || 10,\n                        roomCount: userData.roomCount || 4\n                    });\n                    rooms = userData.rooms || [];\n                    console.log('   :', rooms.length, '');\n                    setCreatedRooms(rooms);\n                    targetRoomCount = userData.roomCount || 4;\n                    currentCount = rooms.length;\n                    if (!(currentCount !== targetRoomCount)) return [3 /*break*/, 4];\n                    console.log(\"\\uD83C\\uDFAF \\uBC29 \\uAC2F\\uC218 \\uC870\\uC808 \\uD544\\uC694: \".concat(currentCount, \" \\u2192 \").concat(targetRoomCount));\n                    return [4 /*yield*/, adjustRoomCount(targetRoomCount)];\n                case 3:\n                    _b.sent();\n                    _b.label = 4;\n                case 4:\n                    console.log('    ');\n                    return [3 /*break*/, 7];\n                case 5:\n                    error_2 = _b.sent();\n                    console.error('    :', error_2);\n                    setError('   .');\n                    return [3 /*break*/, 7];\n                case 6:\n                    setLoading(false);\n                    return [7 /*endfinally*/];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); };\n    //       \n    useEffect(function () {\n        console.log(' initializeSystemData useEffect ', {\n            targetUser: targetUser ? {\n                email: targetUser.email,\n                role: targetUser.role,\n                countryCode: targetUser.countryCode\n            } : 'null',\n            timestamp: new Date().toISOString()\n        });\n        if (targetUser) {\n            initializeSystemData();\n        }\n        else {\n            console.log(' targetUser   ');\n        }\n    }, [targetUser]);\n    //     (  )\n    useEffect(function () {\n        if (!(targetUser === null || targetUser === void 0 ? void 0 : targetUser.email) || !(targetUser === null || targetUser === void 0 ? void 0 : targetUser.countryCode) || loading)\n            return;\n        console.log('    ...');\n        var userDocRef = doc(db, \"users_\".concat(targetUser.countryCode), targetUser.email);\n        var unsubscribe = onSnapshot(userDocRef, function (docSnapshot) {\n            var _a;\n            if (docSnapshot.exists()) {\n                var userData = docSnapshot.data();\n                console.log('   :', {\n                    roomsCount: ((_a = userData.rooms) === null || _a === void 0 ? void 0 : _a.length) || 0,\n                    roomCount: userData.roomCount,\n                    ratePerInterval: userData.ratePerInterval\n                });\n                //     (   )\n                var rooms = userData.rooms || [];\n                setCreatedRooms(rooms);\n            }\n        }, function (error) {\n            console.error('    :', error);\n        });\n        return function () {\n            console.log('    ');\n            unsubscribe();\n        };\n    }, [targetUser, loading]);\n    //         (  )\n    var adjustRoomCount = function (targetCount) { return __awaiter(void 0, void 0, Promise, function () {\n        var userDocRef, userDoc, userData, currentRooms, currentCount, hourlyRate, ratePer10Minutes, timeInterval, updatedRooms, roomsToAdd, i, newRoom, roomsToRemove;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(targetUser === null || targetUser === void 0 ? void 0 : targetUser.email) || !(targetUser === null || targetUser === void 0 ? void 0 : targetUser.countryCode)) {\n                        console.error('  .');\n                        return [2 /*return*/, []];\n                    }\n                    userDocRef = doc(db, \"users_\".concat(targetUser.countryCode), targetUser.email);\n                    return [4 /*yield*/, getDoc(userDocRef)];\n                case 1:\n                    userDoc = _a.sent();\n                    if (!userDoc.exists()) {\n                        console.error('   .');\n                        return [2 /*return*/, []];\n                    }\n                    userData = userDoc.data();\n                    currentRooms = userData.rooms || [];\n                    currentCount = currentRooms.length;\n                    hourlyRate = 50000;\n                    ratePer10Minutes = userData.ratePer10Minutes || 5000;\n                    timeInterval = userData.timeInterval || 10;\n                    hourlyRate = Math.round((ratePer10Minutes / timeInterval) * 60);\n                    updatedRooms = __spreadArray([], currentRooms, true);\n                    if (currentCount < targetCount) {\n                        roomsToAdd = targetCount - currentCount;\n                        console.log(\"\".concat(roomsToAdd, \"\\uAC1C\\uC758 \\uBC29 \\uC0DD\\uC131 (\\uAE30\\uBCF8 \\uC694\\uAE08: \").concat(hourlyRate, \"\\uC6D0/\\uC2DC\\uAC04)\"));\n                        for (i = currentCount; i < targetCount; i++) {\n                            newRoom = {\n                                id: \"room-\".concat(i + 1),\n                                name: \"\\uBC29 \".concat(i + 1),\n                                roomNumber: i + 1,\n                                status: 'available',\n                                hourlyRate: hourlyRate,\n                                createdAt: new Date()\n                            };\n                            updatedRooms.push(newRoom);\n                        }\n                    }\n                    else if (currentCount > targetCount) {\n                        roomsToRemove = currentCount - targetCount;\n                        console.log(\"\".concat(roomsToRemove, \"\\uAC1C\\uC758 \\uBC29 \\uC0AD\\uC81C (\\uB9C8\\uC9C0\\uB9C9 \\uBC29\\uBD80\\uD130)\"));\n                        updatedRooms = updatedRooms.slice(0, targetCount);\n                    }\n                    else {\n                        //       \n                        updatedRooms = currentRooms.map(function (room) { return (__assign(__assign({}, room), { hourlyRate: hourlyRate })); });\n                    }\n                    // Firestore \n                    return [4 /*yield*/, updateDoc(userDocRef, {\n                            rooms: updatedRooms,\n                            updatedAt: new Date()\n                        })];\n                case 2:\n                    // Firestore \n                    _a.sent();\n                    console.log('   :', updatedRooms.length);\n                    return [2 /*return*/, updatedRooms];\n            }\n        });\n    }); };\n    //      ( )\n    var _h = useState(new Date()), currentTime = _h[0], setCurrentTime = _h[1];\n    //  1   \n    useEffect(function () {\n        var interval = setInterval(function () {\n            setCurrentTime(new Date());\n        }, 1000);\n        return function () { return clearInterval(interval); };\n    }, []);\n    //      ( )\n    var calculateGameTime = useCallback(function (room) {\n        if (!room.gameStartTime)\n            return '0';\n        var startTime = convertTimestampToDate(room.gameStartTime);\n        var now = currentTime; //     \n        var diffMs = now.getTime() - startTime.getTime();\n        //    -  0 \n        if (diffMs < 0) {\n            diffMs = 0;\n        }\n        var diffMinutes = Math.floor(diffMs / (1000 * 60));\n        var hours = Math.floor(diffMinutes / 60);\n        var minutes = diffMinutes % 60;\n        var seconds = Math.floor((diffMs % (1000 * 60)) / 1000);\n        if (hours > 0) {\n            return \"\".concat(hours, \"\\uC2DC\\uAC04 \").concat(minutes, \"\\uBD84 \").concat(seconds, \"\\uCD08\");\n        }\n        else if (minutes > 0) {\n            return \"\".concat(minutes, \"\\uBD84 \").concat(seconds, \"\\uCD08\");\n        }\n        else {\n            return \"\".concat(seconds, \"\\uCD08\");\n        }\n    }, [currentTime]); //  currentTime  \n    //     \n    var calculateCurrentFee = useCallback(function (room) {\n        if (!room.gameStartTime || room.status !== 'occupied') {\n            return 0;\n        }\n        var now = currentTime; //     \n        var gameStartTime = convertTimestampToDate(room.gameStartTime);\n        //   ( )\n        var elapsedMs = now.getTime() - gameStartTime.getTime();\n        //    -  0 \n        if (elapsedMs < 0) {\n            elapsedMs = 0;\n        }\n        var elapsedSeconds = Math.floor(elapsedMs / 1000);\n        // Settings    \n        var ratePerInterval = settings.ratePerInterval; // Settings     (: 1 1000)\n        var timeInterval = settings.timeInterval; // Settings    ( , : 1)\n        //       (: 1 1000, 5 5000)\n        // : 90 , 1   90 / 60 = 1.5 \n        var elapsedIntervals = elapsedSeconds / (timeInterval * 60);\n        //      (    0)\n        // : 0.5    1     0\n        // : 1.0   1    1  1000 = 1000\n        var completedIntervals = Math.floor(elapsedIntervals);\n        var totalFee = completedIntervals * ratePerInterval;\n        return totalFee;\n    }, [currentTime, settings]); //  currentTime settings  \n    var getStatusColor = function (status) {\n        switch (status) {\n            case 'available':\n                return 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30';\n            case 'occupied':\n                return 'bg-red-500/20 text-red-400 border border-red-500/30';\n            case 'maintenance':\n                return 'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30';\n            default:\n                return 'bg-gray-500/20 text-gray-400 border border-gray-500/30';\n        }\n    };\n    var getStatusText = function (status) {\n        switch (status) {\n            case 'available':\n                return ' ';\n            case 'occupied':\n                return ' ';\n            case 'maintenance':\n                return ' ';\n            default:\n                return '  ';\n        }\n    };\n    //    \n    var startNewGame = function (roomId) { return __awaiter(void 0, void 0, void 0, function () {\n        var userDocRef, userDoc, userData, rooms, roomIndex, now, startTime, error_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(targetUser === null || targetUser === void 0 ? void 0 : targetUser.email) || !(targetUser === null || targetUser === void 0 ? void 0 : targetUser.countryCode)) {\n                        alert(' .');\n                        return [2 /*return*/];\n                    }\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 4, , 5]);\n                    userDocRef = doc(db, \"users_\".concat(targetUser.countryCode), targetUser.email);\n                    return [4 /*yield*/, getDoc(userDocRef)];\n                case 2:\n                    userDoc = _a.sent();\n                    if (!userDoc.exists()) {\n                        alert('    .');\n                        return [2 /*return*/];\n                    }\n                    userData = userDoc.data();\n                    rooms = userData.rooms || [];\n                    roomIndex = rooms.findIndex(function (r) { return r.id === roomId; });\n                    if (roomIndex === -1) {\n                        alert('   .');\n                        return [2 /*return*/];\n                    }\n                    now = new Date();\n                    startTime = new Date(now.getTime());\n                    //   currentTime  -1 \n                    setCurrentTime(now);\n                    rooms[roomIndex] = __assign(__assign({}, rooms[roomIndex]), { status: 'occupied', gameStartTime: startTime //   0 \n                     });\n                    return [4 /*yield*/, updateDoc(userDocRef, {\n                            rooms: rooms\n                        })];\n                case 3:\n                    _a.sent();\n                    console.log(' :', roomId);\n                    return [3 /*break*/, 5];\n                case 4:\n                    error_3 = _a.sent();\n                    console.error('  :', error_3);\n                    alert('  .');\n                    return [3 /*break*/, 5];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); };\n    //  GameRecord  \n    var createGameRecord = function (room, endTime) { return __awaiter(void 0, void 0, void 0, function () {\n        var storeId, normalizedCountryCode, startTime, endTimeDate, totalFee, usageMs, usageMinutes, usageHours, dayOfWeek, hourOfDay, month, year, isWeekend, gameRecord, settlementsCollectionRef, gameRecordDocRef, error_4;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(targetUser === null || targetUser === void 0 ? void 0 : targetUser.email) || !(targetUser === null || targetUser === void 0 ? void 0 : targetUser.countryCode))\n                        return [2 /*return*/];\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    storeId = generateStoreId(targetUser.email);\n                    normalizedCountryCode = normalizeCountryCode(targetUser.countryCode);\n                    startTime = convertTimestampToDate(room.gameStartTime);\n                    // null   \n                    if (!startTime || !(startTime instanceof Date) || isNaN(startTime.getTime())) {\n                        console.error(' Invalid startTime:', room.gameStartTime);\n                        return [2 /*return*/];\n                    }\n                    endTimeDate = convertTimestampToDate(endTime);\n                    if (!endTimeDate || !(endTimeDate instanceof Date) || isNaN(endTimeDate.getTime())) {\n                        console.error(' Invalid endTime:', endTime);\n                        return [2 /*return*/];\n                    }\n                    totalFee = calculateCurrentFee(room);\n                    usageMs = endTimeDate.getTime() - startTime.getTime();\n                    usageMinutes = Math.floor(usageMs / (1000 * 60));\n                    usageHours = parseFloat((usageMinutes / 60).toFixed(2));\n                    dayOfWeek = startTime.toLocaleDateString('ko-KR', { weekday: 'long' });\n                    hourOfDay = startTime.getHours();\n                    month = startTime.getMonth() + 1;\n                    year = startTime.getFullYear();\n                    isWeekend = startTime.getDay() === 0 || startTime.getDay() === 6;\n                    gameRecord = {\n                        id: \"game_\".concat(room.id, \"_\").concat(Date.now()),\n                        roomId: room.id,\n                        roomName: room.name,\n                        storeId: storeId,\n                        startTime: startTime.toLocaleString('ko-KR'),\n                        endTime: endTimeDate ?\n                            endTimeDate.toLocaleString('ko-KR') :\n                            new Date().toLocaleString('ko-KR'),\n                        usageMinutes: usageMinutes,\n                        usageHours: usageHours,\n                        totalFee: totalFee,\n                        dayOfWeek: dayOfWeek,\n                        hourOfDay: hourOfDay,\n                        month: month,\n                        year: year,\n                        isWeekend: isWeekend,\n                        createdAt: new Date()\n                    };\n                    settlementsCollectionRef = collection(db, \"settlements_\".concat(normalizedCountryCode));\n                    gameRecordDocRef = doc(settlementsCollectionRef, gameRecord.id);\n                    return [4 /*yield*/, setDoc(gameRecordDocRef, gameRecord)];\n                case 2:\n                    _a.sent();\n                    console.log(' GameRecord  :', gameRecord);\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_4 = _a.sent();\n                    console.error(' GameRecord  :', error_4);\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    //  Settlement   \n    var createSettlementDocument = function (room, endTime) { return __awaiter(void 0, void 0, void 0, function () {\n        var storeId, normalizedCountryCode, startTime, endTimeDate, totalFee, usageMs, usageMinutes, usageHours, settlement, settlementsCollectionRef, settlementDocRef, error_5;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(targetUser === null || targetUser === void 0 ? void 0 : targetUser.email) || !(targetUser === null || targetUser === void 0 ? void 0 : targetUser.countryCode))\n                        return [2 /*return*/];\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    storeId = generateStoreId(targetUser.email);\n                    normalizedCountryCode = normalizeCountryCode(targetUser.countryCode);\n                    startTime = convertTimestampToDate(room.gameStartTime);\n                    // null   \n                    if (!startTime || !(startTime instanceof Date) || isNaN(startTime.getTime())) {\n                        console.error(' Invalid startTime:', room.gameStartTime);\n                        return [2 /*return*/];\n                    }\n                    endTimeDate = convertTimestampToDate(endTime);\n                    if (!endTimeDate || !(endTimeDate instanceof Date) || isNaN(endTimeDate.getTime())) {\n                        console.error(' Invalid endTime:', endTime);\n                        return [2 /*return*/];\n                    }\n                    totalFee = calculateCurrentFee(room);\n                    usageMs = endTimeDate.getTime() - startTime.getTime();\n                    usageMinutes = Math.floor(usageMs / (1000 * 60));\n                    usageHours = parseFloat((usageMinutes / 60).toFixed(2));\n                    settlement = {\n                        id: \"settlement_\".concat(room.id, \"_\").concat(Date.now()),\n                        roomId: room.id,\n                        roomName: room.name,\n                        storeId: storeId,\n                        startTime: startTime.toLocaleString('ko-KR'),\n                        endTime: endTimeDate.toLocaleString('ko-KR'),\n                        usageMinutes: usageMinutes,\n                        usageHours: usageHours,\n                        totalFee: totalFee,\n                        settledAt: new Date()\n                    };\n                    settlementsCollectionRef = collection(db, \"settlements_\".concat(normalizedCountryCode));\n                    settlementDocRef = doc(settlementsCollectionRef, settlement.id);\n                    return [4 /*yield*/, setDoc(settlementDocRef, settlement)];\n                case 2:\n                    _a.sent();\n                    console.log(' Settlement   :', settlement);\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_5 = _a.sent();\n                    console.error(' Settlement   :', error_5);\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    //    \n    var endGame = function (roomId) { return __awaiter(void 0, void 0, void 0, function () {\n        var userDocRef, userDoc, userData, rooms, roomIndex, room, endTime, gameStartTime, roomWithoutStartTime, error_6;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(targetUser === null || targetUser === void 0 ? void 0 : targetUser.email) || !(targetUser === null || targetUser === void 0 ? void 0 : targetUser.countryCode))\n                        return [2 /*return*/];\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 4, , 5]);\n                    console.log('   :', roomId);\n                    userDocRef = doc(db, \"users_\".concat(targetUser.countryCode), targetUser.email);\n                    return [4 /*yield*/, getDoc(userDocRef)];\n                case 2:\n                    userDoc = _a.sent();\n                    if (!userDoc.exists()) {\n                        alert('    .');\n                        return [2 /*return*/];\n                    }\n                    userData = userDoc.data();\n                    rooms = userData.rooms || [];\n                    roomIndex = rooms.findIndex(function (r) { return r.id === roomId; });\n                    if (roomIndex === -1) {\n                        alert('   .');\n                        return [2 /*return*/];\n                    }\n                    room = rooms[roomIndex];\n                    endTime = new Date();\n                    console.log('  :', room);\n                    console.log('  :', endTime);\n                    gameStartTime = room.gameStartTime, roomWithoutStartTime = __rest(room, [\"gameStartTime\"]);\n                    rooms[roomIndex] = __assign(__assign({}, roomWithoutStartTime), { status: 'available' });\n                    console.log('   :', rooms[roomIndex]);\n                    return [4 /*yield*/, updateDoc(userDocRef, {\n                            rooms: rooms\n                        })];\n                case 3:\n                    _a.sent();\n                    console.log('   :', roomId);\n                    return [3 /*break*/, 5];\n                case 4:\n                    error_6 = _a.sent();\n                    console.error('   :', error_6);\n                    return [3 /*break*/, 5];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); };\n    //     \n    var endGameWithSettlement = function (roomId) { return __awaiter(void 0, void 0, void 0, function () {\n        var userDocRef, userDoc, userData, rooms, roomIndex, room, endTime, gameStartTime, roomWithoutStartTime, error_7;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(targetUser === null || targetUser === void 0 ? void 0 : targetUser.email) || !(targetUser === null || targetUser === void 0 ? void 0 : targetUser.countryCode)) {\n                        alert(' .');\n                        return [2 /*return*/];\n                    }\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 7, , 8]);\n                    console.log('   :', roomId);\n                    userDocRef = doc(db, \"users_\".concat(targetUser.countryCode), targetUser.email);\n                    return [4 /*yield*/, getDoc(userDocRef)];\n                case 2:\n                    userDoc = _a.sent();\n                    if (!userDoc.exists()) {\n                        alert('    .');\n                        return [2 /*return*/];\n                    }\n                    userData = userDoc.data();\n                    rooms = userData.rooms || [];\n                    roomIndex = rooms.findIndex(function (r) { return r.id === roomId; });\n                    if (roomIndex === -1) {\n                        alert('   .');\n                        return [2 /*return*/];\n                    }\n                    room = rooms[roomIndex];\n                    endTime = new Date();\n                    console.log('  :', room);\n                    console.log('  :', endTime);\n                    if (!(room.status === 'occupied' && room.gameStartTime)) return [3 /*break*/, 4];\n                    console.log(' GameRecord  ...');\n                    return [4 /*yield*/, createGameRecord(room, endTime)];\n                case 3:\n                    _a.sent();\n                    console.log(' GameRecord  ');\n                    return [3 /*break*/, 5];\n                case 4:\n                    console.warn(' GameRecord   :', {\n                        status: room.status,\n                        hasStartTime: !!room.gameStartTime\n                    });\n                    _a.label = 5;\n                case 5:\n                    gameStartTime = room.gameStartTime, roomWithoutStartTime = __rest(room, [\"gameStartTime\"]);\n                    rooms[roomIndex] = __assign(__assign({}, roomWithoutStartTime), { status: 'available' });\n                    console.log('   :', rooms[roomIndex]);\n                    return [4 /*yield*/, updateDoc(userDocRef, {\n                            rooms: rooms\n                        })];\n                case 6:\n                    _a.sent();\n                    console.log('     :', roomId);\n                    alert('  .');\n                    return [3 /*break*/, 8];\n                case 7:\n                    error_7 = _a.sent();\n                    console.error('   :', error_7);\n                    console.error('  :', {\n                        message: error_7 === null || error_7 === void 0 ? void 0 : error_7.message,\n                        code: error_7 === null || error_7 === void 0 ? void 0 : error_7.code,\n                        stack: error_7 === null || error_7 === void 0 ? void 0 : error_7.stack\n                    });\n                    alert(\"\\uAC8C\\uC784 \\uC885\\uB8CC\\uC5D0 \\uC2E4\\uD328\\uD588\\uC2B5\\uB2C8\\uB2E4: \".concat((error_7 === null || error_7 === void 0 ? void 0 : error_7.message) || '   '));\n                    return [3 /*break*/, 8];\n                case 8: return [2 /*return*/];\n            }\n        });\n    }); };\n    //    \n    var openSettlementModal = function (room) {\n        var usageTime = calculateGameTime(room);\n        var totalFee = calculateCurrentFee(room);\n        var startTime = room.gameStartTime ?\n            convertTimestampToDate(room.gameStartTime).toLocaleString('ko-KR') : '';\n        var endTime = room.status === 'occupied' && room.gameStartTime ?\n            new Date().toLocaleString('ko-KR') : '';\n        setSettlementModal({\n            isOpen: true,\n            room: room,\n            startTime: startTime,\n            endTime: endTime,\n            usageTime: usageTime,\n            totalFee: totalFee\n        });\n    };\n    //    \n    var closeSettlementModal = function () {\n        setSettlementModal({\n            isOpen: false,\n            room: null,\n            startTime: '',\n            endTime: '',\n            usageTime: '',\n            totalFee: 0\n        });\n    };\n    //   \n    var completeSettlement = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var error_8;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!settlementModal.room)\n                        return [2 /*return*/];\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, endGameWithSettlement(settlementModal.room.id)];\n                case 2:\n                    _a.sent();\n                    closeSettlementModal();\n                    alert(' .');\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_8 = _a.sent();\n                    console.error(' :', error_8);\n                    alert(' .');\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    if (loading) {\n        return (_jsx(\"div\", { className: \"flex items-center justify-center h-full\", children: _jsxs(\"div\", { className: \"text-center\", children: [_jsx(\"div\", { className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mx-auto\" }), _jsx(\"p\", { className: \"mt-4 text-gray-400\", children: \"\\uB9E4\\uC7A5 \\uC815\\uBCF4\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\" })] }) }));\n    }\n    return (_jsxs(\"div\", { className: \"space-y-8\", children: [_jsxs(\"div\", { className: \"card-primary rounded-full\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-6\", children: [_jsx(\"h3\", { className: \"text-h2\", children: \"\\uBC29 \\uAD00\\uB9AC\" }), _jsx(\"div\", { className: \"flex items-center space-x-3\", children: _jsx(\"button\", { onClick: function () {\n                                        //     \n                                        var currentStoreId = (user === null || user === void 0 ? void 0 : user.email) ? generateStoreId(user.email) : '';\n                                        navigate(\"/dashboard?mode=store&storeId=\".concat(currentStoreId));\n                                    }, className: \"p-2 text-gray-400 hover:text-cyan-400 transition-colors\", title: \"\\uB300\\uC2DC\\uBCF4\\uB4DC\", children: _jsx(ChartBarIcon, { className: \"w-6 h-6\" }) }) })] }), _jsxs(\"div\", { className: \"border-t border-gray-700/50 pt-6\", children: [_jsx(\"h4\", { className: \"text-h3 mb-4\", children: \"\\uB9E4\\uC7A5 \\uC815\\uBCF4\" }), _jsx(\"div\", { className: \"card-secondary\", children: (targetUser === null || targetUser === void 0 ? void 0 : targetUser.email) ? (_jsxs(\"div\", { className: \"space-y-3 text-sm\", children: [_jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uB9E4\\uC7A5\\uBA85\" }), _jsx(\"span\", { className: \"text-white font-medium mobile-text-sm\", children: (targetUser === null || targetUser === void 0 ? void 0 : targetUser.storeName) || ' ' })] }), _jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uAD00\\uB9AC\\uC790\" }), _jsx(\"span\", { className: \"text-white font-medium mobile-text-sm\", children: (targetUser === null || targetUser === void 0 ? void 0 : targetUser.email) || '' })] }), _jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uAD6D\\uAC00\" }), _jsx(\"span\", { className: \"text-white font-medium mobile-text-sm\", children: (targetUser === null || targetUser === void 0 ? void 0 : targetUser.country) === '' ? '' : (targetUser === null || targetUser === void 0 ? void 0 : targetUser.country) === 'United States' ? 'United States' : (targetUser === null || targetUser === void 0 ? void 0 : targetUser.country) || '' })] }), _jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uC9C0\\uC5ED\" }), _jsxs(\"span\", { className: \"text-white font-medium mobile-text-sm\", children: [(targetUser === null || targetUser === void 0 ? void 0 : targetUser.region) !== (targetUser === null || targetUser === void 0 ? void 0 : targetUser.country) ? ((targetUser === null || targetUser === void 0 ? void 0 : targetUser.region) || '') : '', \" \", (targetUser === null || targetUser === void 0 ? void 0 : targetUser.city) || ''] })] })] })) : (_jsxs(\"div\", { className: \"space-y-3 text-sm\", children: [_jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uAD00\\uB9AC\\uC790\" }), _jsx(\"span\", { className: \"text-white font-medium mobile-text-sm\", children: \"\\uBBF8\\uC124\\uC815\" })] }), _jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uAD6D\\uAC00\" }), _jsx(\"span\", { className: \"text-white font-medium mobile-text-sm\", children: \"\\uBBF8\\uC124\\uC815\" })] }), _jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uC9C0\\uC5ED\" }), _jsx(\"span\", { className: \"text-white font-medium mobile-text-sm\", children: \"\\uBBF8\\uC124\\uC815\" })] })] })) })] }), _jsxs(\"div\", { className: \"border-t border-gray-700/50 pt-6\", children: [_jsx(\"div\", { className: \"flex items-center justify-between mb-6\", children: _jsxs(\"h4\", { className: \"text-h3\", children: [\"\\uBC29 \\uBAA9\\uB85D (\", createdRooms.length, \"\\uAC1C)\"] }) }), _jsx(\"div\", { className: \"mobile-card-grid\", children: createdRooms.map(function (room) {\n                                    return (_jsxs(\"div\", { className: \"card-secondary hover:border-gray-600/50 transition-all duration-300 hover:transform hover:scale-105\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-4\", children: [_jsx(\"div\", { className: \"flex-1 flex items-center justify-center\", children: _jsx(\"h5\", { className: \"text-h3 text-white mobile-text-sm\", children: room.name }) }), _jsx(\"span\", { className: \"px-2 py-1 text-xs font-semibold rounded-full touch-target \".concat(getStatusColor(room.status)), children: getStatusText(room.status) })] }), _jsxs(\"div\", { className: \"space-y-3 text-sm\", children: [_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsxs(\"span\", { className: \"text-body mobile-text-xs\", children: [\"\\uC694\\uAE08 (\", settings.timeInterval, \"\\uBD84\\uB2F9):\"] }), _jsx(\"span\", { className: \"text-primary mobile-text-sm\", children: settings.ratePerInterval.toLocaleString() })] }), _jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uACB0\\uC81C \\uC694\\uAE08:\" }), _jsxs(\"span\", { className: \"text-warning font-bold mobile-text-sm\", children: [\"\\u20A9\", calculateCurrentFee(room).toLocaleString()] })] }), _jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uC2DC\\uC791 \\uC2DC\\uAC04:\" }), _jsx(\"span\", { className: \"text-primary mobile-text-xs\", children: room.gameStartTime ?\n                                                                    convertTimestampToDate(room.gameStartTime).toLocaleTimeString('ko-KR', {\n                                                                        hour: '2-digit',\n                                                                        minute: '2-digit',\n                                                                        second: '2-digit'\n                                                                    }) :\n                                                                    '-' })] }), _jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uC885\\uB8CC \\uC2DC\\uAC04:\" }), _jsx(\"span\", { className: \"text-primary mobile-text-xs\", children: room.status === 'occupied' && room.gameStartTime ?\n                                                                    //    ( )\n                                                                    new Date().toLocaleTimeString('ko-KR', {\n                                                                        hour: '2-digit',\n                                                                        minute: '2-digit',\n                                                                        second: '2-digit'\n                                                                    }) :\n                                                                    '-' })] }), _jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uC774\\uC6A9 \\uC2DC\\uAC04:\" }), _jsx(\"span\", { className: \"text-primary mobile-text-xs\", children: calculateGameTime(room) })] })] }), _jsxs(\"div\", { className: \"mt-4\", children: [room.status === 'available' && (_jsx(\"button\", { onClick: function () { return startNewGame(room.id); }, className: \"mobile-button touch-target\", children: \"\\uC2DC\\uC791\" })), room.status === 'occupied' && (_jsx(\"button\", { onClick: function () { return openSettlementModal(room); }, className: \"mobile-button touch-target bg-gray-600 hover:bg-gray-700\", children: \"\\uACB0\\uC81C\" }))] })] }, room.id));\n                                }) })] })] }), error && (_jsx(\"div\", { className: \"card-primary border-red-500/50 rounded-full\", children: _jsx(\"p\", { className: \"text-error\", children: error }) })), settlementModal.isOpen && settlementModal.room && (_jsx(\"div\", { className: \"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\", onClick: closeSettlementModal, children: _jsxs(\"div\", { className: \"card-primary w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto rounded-full\", onClick: function (e) { return e.stopPropagation(); }, children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-6\", children: [_jsx(\"h3\", { className: \"text-h2 mobile-text-sm\", children: \"\\uACB0\\uC81C \\uC815\\uBCF4\" }), _jsx(\"button\", { onClick: closeSettlementModal, className: \"text-gray-400 hover:text-white transition-colors touch-target p-2\", children: _jsx(XMarkIcon, { className: \"icon-md\" }) })] }), _jsxs(\"div\", { className: \"space-y-4\", children: [_jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uBC29 \\uC774\\uB984:\" }), _jsx(\"span\", { className: \"text-white font-medium mobile-text-sm\", children: ((_a = settlementModal.room) === null || _a === void 0 ? void 0 : _a.name) || '' })] }), _jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uC2DC\\uC791 \\uC2DC\\uAC04:\" }), _jsx(\"span\", { className: \"text-primary mobile-text-xs\", children: settlementModal.startTime })] }), _jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uC885\\uB8CC \\uC2DC\\uAC04:\" }), _jsx(\"span\", { className: \"text-primary mobile-text-xs\", children: settlementModal.endTime })] }), _jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uC774\\uC6A9 \\uC2DC\\uAC04:\" }), _jsx(\"span\", { className: \"text-primary mobile-text-xs\", children: settlementModal.usageTime })] }), _jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uACB0\\uC81C \\uC694\\uAE08:\" }), _jsxs(\"span\", { className: \"text-warning font-bold text-lg mobile-text-sm\", children: [\"\\u20A9\", settlementModal.totalFee.toLocaleString()] })] })] }), _jsxs(\"div\", { className: \"flex gap-3 mt-6\", children: [_jsx(\"button\", { onClick: closeSettlementModal, className: \"mobile-button touch-target bg-gray-600 hover:bg-gray-700 flex-1\", children: \"\\uCDE8\\uC18C\" }), _jsx(\"button\", { onClick: completeSettlement, className: \"mobile-button touch-target flex-1\", children: \"\\uACB0\\uC81C \\uC644\\uB8CC\" })] })] }) }))] }));\n};\nexport default SystemManager;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { doc, getDoc, updateDoc } from 'firebase/firestore';\nimport { db } from '../firebase/config';\nimport { useAuth } from '../contexts/AuthContext';\nimport { CurrencyDollarIcon, BuildingOfficeIcon } from '@heroicons/react/24/outline';\nvar Settings = function () {\n    var user = useAuth().user;\n    var _a = useState(5000), ratePerInterval = _a[0], setRatePerInterval = _a[1];\n    var _b = useState(10), timeInterval = _b[0], setTimeInterval = _b[1];\n    var _c = useState(5), roomCount = _c[0], setRoomCount = _c[1];\n    var _d = useState(false), loading = _d[0], setLoading = _d[1];\n    var _e = useState(false), saving = _e[0], setSaving = _e[1];\n    //   \n    useEffect(function () {\n        var loadSettings = function () { return __awaiter(void 0, void 0, void 0, function () {\n            var userDocRef, userDoc, userData, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(user === null || user === void 0 ? void 0 : user.email) || !(user === null || user === void 0 ? void 0 : user.countryCode))\n                            return [2 /*return*/];\n                        setLoading(true);\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, 4, 5]);\n                        userDocRef = doc(db, \"users_\".concat(user.countryCode), user.email);\n                        return [4 /*yield*/, getDoc(userDocRef)];\n                    case 2:\n                        userDoc = _a.sent();\n                        if (userDoc.exists()) {\n                            userData = userDoc.data();\n                            setRatePerInterval(userData.ratePerInterval || userData.ratePer10Minutes || 5000);\n                            setTimeInterval(userData.timeInterval || 10);\n                            setRoomCount(userData.roomCount || 5);\n                            console.log('   :', userData);\n                        }\n                        else {\n                            console.log('  ,  ');\n                        }\n                        return [3 /*break*/, 5];\n                    case 3:\n                        error_1 = _a.sent();\n                        console.error('  :', error_1);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        setLoading(false);\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        }); };\n        loadSettings();\n    }, [user]);\n    var handleRateChange = function (e) {\n        var value = parseInt(e.target.value) || 0;\n        setRatePerInterval(value);\n    };\n    var handleRateSave = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var userDocRef, userDoc, updatedRooms, userData, currentRooms, ratePerInterval_1, hourlyRate_1, error_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(user === null || user === void 0 ? void 0 : user.email) || !(user === null || user === void 0 ? void 0 : user.countryCode)) {\n                        alert(' .');\n                        return [2 /*return*/];\n                    }\n                    setSaving(true);\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 4, 5, 6]);\n                    userDocRef = doc(db, \"users_\".concat(user.countryCode), user.email);\n                    return [4 /*yield*/, getDoc(userDocRef)];\n                case 2:\n                    userDoc = _a.sent();\n                    updatedRooms = [];\n                    if (userDoc.exists()) {\n                        userData = userDoc.data();\n                        currentRooms = userData.rooms || [];\n                        ratePerInterval_1 = userData.ratePerInterval || userData.ratePer10Minutes || 5000;\n                        hourlyRate_1 = Math.round((ratePerInterval_1 * 60) / timeInterval);\n                        //    \n                        updatedRooms = currentRooms.map(function (room) { return (__assign(__assign({}, room), { hourlyRate: hourlyRate_1 })); });\n                        console.log(\"\\uBC29\\uCE74\\uB4DC \\uC694\\uAE08 \\uC5C5\\uB370\\uC774\\uD2B8: \\uC2DC\\uAC04\\uB2F9 \".concat(hourlyRate_1, \"\\uC6D0 (\").concat(updatedRooms.length, \"\\uAC1C \\uBC29)\"));\n                    }\n                    // Firestore  (     )\n                    return [4 /*yield*/, updateDoc(userDocRef, {\n                            ratePerInterval: ratePerInterval,\n                            timeInterval: timeInterval,\n                            rooms: updatedRooms,\n                            settingsUpdatedAt: new Date().toISOString()\n                        })];\n                case 3:\n                    // Firestore  (     )\n                    _a.sent();\n                    console.log('   :', { ratePerInterval: ratePerInterval, timeInterval: timeInterval, email: user.email });\n                    alert(\"\\u2705 \\uC694\\uAE08\\uC774 \".concat(ratePerInterval.toLocaleString(), \"\\uC6D0\\uC73C\\uB85C \\uC800\\uC7A5\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\\n\\uD83C\\uDFE0 \\uBAA8\\uB4E0 \\uBC29\\uCE74\\uB4DC\\uC758 \\uC2DC\\uAC04\\uB2F9 \\uC694\\uAE08\\uC774 \").concat(Math.round((ratePerInterval * 60) / timeInterval).toLocaleString(), \"\\uC6D0\\uC73C\\uB85C \\uC5C5\\uB370\\uC774\\uD2B8\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"));\n                    //      \n                    setRatePerInterval(ratePerInterval);\n                    setTimeInterval(timeInterval);\n                    return [3 /*break*/, 6];\n                case 4:\n                    error_2 = _a.sent();\n                    console.error('   :', error_2);\n                    alert('    .  .');\n                    return [3 /*break*/, 6];\n                case 5:\n                    setSaving(false);\n                    return [7 /*endfinally*/];\n                case 6: return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleTimeIntervalChange = function (e) {\n        var value = parseInt(e.target.value) || 1;\n        setTimeInterval(value);\n    };\n    var handleTimeIntervalSave = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var userDocRef, userDoc, updatedRooms, userData, currentRooms, ratePerInterval_2, hourlyRate_2, error_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(user === null || user === void 0 ? void 0 : user.email) || !(user === null || user === void 0 ? void 0 : user.countryCode)) {\n                        alert(' .');\n                        return [2 /*return*/];\n                    }\n                    setSaving(true);\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 4, 5, 6]);\n                    userDocRef = doc(db, \"users_\".concat(user.countryCode), user.email);\n                    return [4 /*yield*/, getDoc(userDocRef)];\n                case 2:\n                    userDoc = _a.sent();\n                    updatedRooms = [];\n                    if (userDoc.exists()) {\n                        userData = userDoc.data();\n                        currentRooms = userData.rooms || [];\n                        ratePerInterval_2 = userData.ratePerInterval || userData.ratePer10Minutes || 5000;\n                        hourlyRate_2 = Math.round((ratePerInterval_2 * 60) / timeInterval);\n                        //    \n                        updatedRooms = currentRooms.map(function (room) { return (__assign(__assign({}, room), { hourlyRate: hourlyRate_2 })); });\n                        console.log(\"\\uC2DC\\uAC04 \\uAC04\\uACA9 \\uBCC0\\uACBD: \".concat(timeInterval, \"\\uBD84\\uB2F9 \").concat(ratePerInterval_2, \"\\uC6D0 \\u2192 \\uC2DC\\uAC04\\uB2F9 \").concat(hourlyRate_2, \"\\uC6D0 (\").concat(updatedRooms.length, \"\\uAC1C \\uBC29)\"));\n                    }\n                    // Firestore  (     )\n                    return [4 /*yield*/, updateDoc(userDocRef, {\n                            ratePerInterval: ratePerInterval,\n                            timeInterval: timeInterval,\n                            rooms: updatedRooms,\n                            settingsUpdatedAt: new Date().toISOString()\n                        })];\n                case 3:\n                    // Firestore  (     )\n                    _a.sent();\n                    console.log('    :', { timeInterval: timeInterval, email: user.email });\n                    alert(\"\\u2705 \\uC2DC\\uAC04 \\uAC04\\uACA9\\uC774 \".concat(timeInterval, \"\\uBD84\\uC73C\\uB85C \\uC800\\uC7A5\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\\n\\uD83C\\uDFE0 \\uBAA8\\uB4E0 \\uBC29\\uCE74\\uB4DC\\uC758 \\uC694\\uAE08\\uC774 \\uC5C5\\uB370\\uC774\\uD2B8\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"));\n                    //      \n                    setTimeInterval(timeInterval);\n                    return [3 /*break*/, 6];\n                case 4:\n                    error_3 = _a.sent();\n                    console.error('    :', error_3);\n                    alert('     .  .');\n                    return [3 /*break*/, 6];\n                case 5:\n                    setSaving(false);\n                    return [7 /*endfinally*/];\n                case 6: return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleRoomCountChange = function (e) {\n        var value = parseInt(e.target.value) || 1;\n        setRoomCount(Math.min(Math.max(value, 1), 20));\n    };\n    var handleRoomCountSave = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var userDocRef, error_4;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(user === null || user === void 0 ? void 0 : user.email) || !(user === null || user === void 0 ? void 0 : user.countryCode)) {\n                        alert(' .');\n                        return [2 /*return*/];\n                    }\n                    setSaving(true);\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, 4, 5]);\n                    userDocRef = doc(db, \"users_\".concat(user.countryCode), user.email);\n                    return [4 /*yield*/, updateDoc(userDocRef, {\n                            roomCount: roomCount,\n                            settingsUpdatedAt: new Date().toISOString()\n                        })];\n                case 2:\n                    _a.sent();\n                    console.log('    :', { roomCount: roomCount, email: user.email });\n                    //     SystemManager  \n                    alert(\"\\u2705 \\uBC29 \\uAC2F\\uC218 \".concat(roomCount, \"\\uAC1C\\uB85C \\uC800\\uC7A5\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\\n\\uD83C\\uDFE0 System \\uD398\\uC774\\uC9C0\\uB85C \\uC774\\uB3D9\\uD558\\uC5EC \\uBC29\\uCE74\\uB4DC\\uB97C \\uD655\\uC778\\uD569\\uB2C8\\uB2E4.\"));\n                    //  SystemManager  \n                    window.location.href = '/system';\n                    return [3 /*break*/, 5];\n                case 3:\n                    error_4 = _a.sent();\n                    console.error('    :', error_4);\n                    alert(\"\\u274C \\uBC29 \\uAC2F\\uC218 \\uC124\\uC815 \\uC800\\uC7A5\\uC5D0 \\uC2E4\\uD328\\uD588\\uC2B5\\uB2C8\\uB2E4.\\n\\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD574\\uC8FC\\uC138\\uC694.\");\n                    return [3 /*break*/, 5];\n                case 4:\n                    setSaving(false);\n                    return [7 /*endfinally*/];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); };\n    if (loading) {\n        return (_jsxs(\"div\", { className: \"space-y-8\", children: [_jsx(\"h1\", { className: \"text-h1\", children: \"\\uC124\\uC815\" }), _jsx(\"div\", { className: \"flex items-center justify-center py-12\", children: _jsx(\"div\", { className: \"text-body\", children: \"\\uC124\\uC815\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\" }) })] }));\n    }\n    return (_jsxs(\"div\", { className: \"space-y-8\", children: [_jsx(\"h1\", { className: \"text-h1\", children: \"\\uC124\\uC815\" }), user && (_jsx(\"div\", { className: \"card-secondary\", children: _jsxs(\"div\", { className: \"space-y-2 text-sm\", children: [_jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uD604\\uC7AC \\uC0AC\\uC6A9\\uC790:\" }), _jsx(\"span\", { className: \"text-white font-medium mobile-text-sm\", children: user === null || user === void 0 ? void 0 : user.email })] }), (user === null || user === void 0 ? void 0 : user.storeName) && (_jsxs(\"div\", { className: \"flex justify-between items-center\", children: [_jsx(\"span\", { className: \"text-body mobile-text-xs\", children: \"\\uB9E4\\uC7A5:\" }), _jsx(\"span\", { className: \"text-white font-medium mobile-text-sm\", children: user === null || user === void 0 ? void 0 : user.storeName })] }))] }) })), _jsx(\"div\", { className: \"max-w-full\", children: _jsxs(\"div\", { className: \"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\", children: [_jsx(\"div\", { className: \"lg:col-span-1 xl:col-span-1\", children: _jsxs(\"div\", { className: \"card-primary h-full flex flex-col\", children: [_jsxs(\"div\", { className: \"flex items-center mb-6\", children: [_jsx(\"div\", { className: \"w-12 h-12 lg:w-16 lg:h-16 bg-primary/20 rounded-full flex items-center justify-center mr-3 lg:mr-4\", children: _jsx(CurrencyDollarIcon, { className: \"icon-md lg:icon-lg text-primary\" }) }), _jsxs(\"div\", { children: [_jsx(\"h2\", { className: \"text-h2 mobile-text-sm\", children: \"\\uC694\\uAE08 \\uC124\\uC815\" }), _jsx(\"p\", { className: \"text-body text-xs lg:text-sm\", children: \"\\uC2A4\\uD06C\\uB9B0\\uACE8\\uD504 \\uC774\\uC6A9 \\uC694\\uAE08\\uC744 \\uC124\\uC815\\uD569\\uB2C8\\uB2E4\" })] })] }), _jsxs(\"div\", { className: \"mobile-form flex-1 h-full\", children: [_jsxs(\"div\", { className: \"mobile-form-group\", children: [_jsx(\"label\", { className: \"mobile-form-label\", children: \"\\uC2DC\\uAC04 \\uAC04\\uACA9 (\\uBD84)\" }), _jsx(\"div\", { className: \"flex items-center space-x-3\", children: _jsxs(\"div\", { className: \"relative flex-1\", children: [_jsx(\"input\", { type: \"number\", value: timeInterval, onChange: handleTimeIntervalChange, className: \"mobile-form-input touch-target\", placeholder: \"\\uC2DC\\uAC04 \\uAC04\\uACA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\", min: \"1\", max: \"60\", disabled: saving }), _jsx(\"span\", { className: \"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400\", children: \"\\uBD84\" })] }) })] }), _jsxs(\"div\", { className: \"mobile-form-group\", children: [_jsxs(\"label\", { className: \"mobile-form-label\", children: [\"\\uC694\\uAE08 (\", timeInterval, \"\\uBD84\\uB2F9)\"] }), _jsx(\"div\", { className: \"flex items-center space-x-3\", children: _jsxs(\"div\", { className: \"relative flex-1\", children: [_jsx(\"input\", { type: \"number\", value: ratePerInterval, onChange: handleRateChange, className: \"mobile-form-input touch-target\", placeholder: \"\\uC694\\uAE08\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\", min: \"0\", disabled: saving }), _jsx(\"span\", { className: \"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400\", children: \"\\uC6D0\" })] }) }), _jsxs(\"p\", { className: \"mt-2 text-xs lg:text-sm text-gray-400\", children: [timeInterval, \"\\uBD84\\uB2F9 \\uC694\\uAE08: \", ratePerInterval.toLocaleString(), \"\\uC6D0\"] })] })] }), _jsxs(\"div\", { className: \"flex gap-3 pt-4 mt-auto\", children: [_jsx(\"button\", { onClick: function () {\n                                                    setTimeInterval(10);\n                                                    setRatePerInterval(5000);\n                                                }, className: \"mobile-button touch-target bg-gray-600 hover:bg-gray-700 flex-1\", disabled: saving, children: \"\\uCD08\\uAE30\\uD654\" }), _jsx(\"button\", { onClick: handleTimeIntervalSave, className: \"mobile-button touch-target flex-1\", disabled: saving || !user, children: saving ? ' ...' : '' })] })] }) }), _jsx(\"div\", { className: \"lg:col-span-1 xl:col-span-1\", children: _jsxs(\"div\", { className: \"card-primary h-full flex flex-col\", children: [_jsxs(\"div\", { className: \"flex items-center mb-6\", children: [_jsx(\"div\", { className: \"w-12 h-12 lg:w-16 lg:h-16 bg-secondary/20 rounded-full flex items-center justify-center mr-3 lg:mr-4\", children: _jsx(BuildingOfficeIcon, { className: \"icon-md lg:icon-lg text-secondary\" }) }), _jsxs(\"div\", { children: [_jsx(\"h2\", { className: \"text-h2 mobile-text-sm\", children: \"\\uBC29 \\uAC2F\\uC218\" }), _jsx(\"p\", { className: \"text-body text-xs lg:text-sm\", children: \"\\uC0DD\\uC131\\uD560 \\uBC29\\uC758 \\uCD1D \\uAC2F\\uC218\\uB97C \\uC124\\uC815\\uD569\\uB2C8\\uB2E4\" })] })] }), _jsx(\"div\", { className: \"mobile-form flex-1\", children: _jsxs(\"div\", { className: \"mobile-form-group\", children: [_jsx(\"label\", { className: \"mobile-form-label\", children: \"\\uBC29 \\uAC2F\\uC218\" }), _jsx(\"div\", { className: \"flex items-center space-x-3\", children: _jsxs(\"div\", { className: \"relative flex-1\", children: [_jsx(\"input\", { type: \"number\", value: roomCount, onChange: handleRoomCountChange, className: \"mobile-form-input touch-target\", placeholder: \"\\uBC29 \\uAC2F\\uC218\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\", min: \"1\", max: \"20\", disabled: saving }), _jsx(\"span\", { className: \"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400\", children: \"\\uAC1C\" })] }) }), _jsx(\"p\", { className: \"mt-2 text-xs lg:text-sm text-gray-400\", children: \"\\uC0DD\\uC131\\uD560 \\uBC29\\uC758 \\uCD1D \\uAC2F\\uC218 (1-20\\uAC1C)\" })] }) }), _jsxs(\"div\", { className: \"flex gap-3 pt-4 mt-auto\", children: [_jsx(\"button\", { onClick: function () {\n                                                    setRoomCount(5);\n                                                }, className: \"mobile-button touch-target bg-gray-600 hover:bg-gray-700 flex-1\", disabled: saving, children: \"\\uCD08\\uAE30\\uD654\" }), _jsx(\"button\", { onClick: handleRoomCountSave, className: \"mobile-button touch-target flex-1\", disabled: saving || !user, children: saving ? ' ...' : '' })] })] }) }), _jsx(\"div\", { className: \"lg:col-span-1 xl:col-span-1\", children: _jsxs(\"div\", { className: \"card-primary h-full flex flex-col\", children: [_jsxs(\"div\", { className: \"flex items-center mb-6\", children: [_jsx(\"div\", { className: \"w-12 h-12 lg:w-16 lg:h-16 bg-accent/20 rounded-full flex items-center justify-center mr-3 lg:mr-4\", children: _jsx(BuildingOfficeIcon, { className: \"icon-md lg:icon-lg text-accent\" }) }), _jsxs(\"div\", { children: [_jsx(\"h2\", { className: \"text-h2 mobile-text-sm\", children: \"\\uAE30\\uD0C0 \\uC124\\uC815\" }), _jsx(\"p\", { className: \"text-body text-xs lg:text-sm\", children: \"\\uCD94\\uAC00 \\uC124\\uC815 \\uAE30\\uB2A5\\uC774 \\uC900\\uBE44 \\uC911\\uC785\\uB2C8\\uB2E4\" })] })] }), _jsx(\"div\", { className: \"flex-1 flex items-center justify-center\", children: _jsx(\"p\", { className: \"text-gray-400 mobile-text-xs\", children: \"\\uB2E4\\uB978 \\uC124\\uC815 \\uAE30\\uB2A5\\uC774 \\uC900\\uBE44 \\uC911\\uC785\\uB2C8\\uB2E4...\" }) })] }) })] }) })] }));\n};\nexport default Settings;\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nvar root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(_jsx(React.StrictMode, { children: _jsx(App, {}) }));\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport { AuthProvider } from './contexts/AuthContext';\nimport { NotificationProvider } from './contexts/NotificationContext';\nimport { CountryProvider } from './contexts/CountryContext';\nimport { ProtectedRoute } from './components/ProtectedRoute';\nimport { RoleBasedRedirect } from './components/RoleBasedRedirect';\nimport { Layout } from './components/Layout';\n// Direct imports for stability\nimport Login from './pages/Login';\nimport Landing from './pages/Landing';\nimport Dashboard from './pages/Dashboard';\nimport StoreManager from './pages/StoreManager';\nimport SystemManager from './pages/SystemManager';\nimport Settings from './pages/Settings';\nvar App = function () {\n    return (_jsx(AuthProvider, { children: _jsx(CountryProvider, { children: _jsx(NotificationProvider, { children: _jsx(Router, { children: _jsxs(Routes, { children: [_jsx(Route, { path: \"/\", element: _jsx(Landing, {}) }), _jsx(Route, { path: \"/login\", element: _jsx(Login, {}) }), _jsx(Route, { path: \"/redirect\", element: _jsx(RoleBasedRedirect, {}) }), _jsx(Route, { path: \"/dashboard\", element: _jsx(ProtectedRoute, { children: _jsx(Layout, { children: _jsx(Dashboard, {}) }) }) }), _jsx(Route, { path: \"/storemanager\", element: _jsx(ProtectedRoute, { requiredRole: \"hq\", children: _jsx(Layout, { children: _jsx(StoreManager, {}) }) }) }), _jsx(Route, { path: \"/system\", element: _jsx(ProtectedRoute, { requiredRole: \"store\", children: _jsx(Layout, { children: _jsx(SystemManager, {}) }) }) }), _jsx(Route, { path: \"/settings\", element: _jsx(ProtectedRoute, { children: _jsx(Layout, { children: _jsx(Settings, {}) }) }) })] }) }) }) }) }));\n};\nexport default App;\n"],"names":["app","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","db","COUNTRY_CODES","normalizeCountryName","country","trim","toLowerCase","replace","generateStoreId","email","normalizeCountryCode","length","test","toUpperCase","countryUpper","countryNameMap","_i","_a","Object","entries","_b","countryName","countryCode","inferCountryCodeFromEmail","domain","split","providerCountryMap","domainCountryMap","_c","pattern","code","includes","getUserCollectionName","concat","isHQAdmin","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","_","label","sent","trys","ops","g","create","Iterator","prototype","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","push","fetchStoreUserData","countryCodes_1","userDocRef","userDoc","userData","error_1","console","log","exists","data","storeName","role","uid","displayName","region","city","extraEmail","storeId","error","AuthContext","createContext","undefined","useAuth","context","useContext","Error","AuthProvider","children","useState","user","setUser","loading","setLoading","useEffect","unsubscribe","firebaseUser","storeUserData","docError_1","inferredCountryCode","defaultCountry","error_2","timestamp","Date","toISOString","warn","Provider","__assign","assign","s","i","arguments","p","hasOwnProperty","__spreadArray","to","from","pack","ar","l","Array","slice","NotificationContext","NotificationProvider","notifications","setNotifications","addNotification","useCallback","notification","id","now","toString","newNotification","prev","removeNotification","filter","clearNotifications","CountryContext","useCountry","CountryProvider","selectedCountry","setSelectedCountry","className","style","animationDelay","ProtectedRoute","requiredRole","location","searchParams","path","pathname","state","userRole","isSpecificStoreMode","get","RoleBasedRedirect","countries","name","aliases","onChange","placeholder","isOpen","setIsOpen","_d","searchTerm","setSearchTerm","_e","filteredCountries","setFilteredCountries","_f","dropdownRef","useRef","current","find","c","filtered","searchLower","nameMatch","codeMatch","aliasMatch","some","alias","handleClickOutside","event","contains","target","document","addEventListener","removeEventListener","ref","type","onFocus","onClick","ChevronDownIcon","map","handleSelect","allMenuItems","href","icon","BuildingOfficeIcon","ChartBarIcon","ComputerDesktopIcon","Cog6ToothIcon","Sidebar","onClose","window","innerWidth","isDesktop","setIsDesktop","handleResize","shouldShow","handleMenuItemClick","XMarkIcon","HomeIcon","item","Icon","isActive","PAGE_INFO","title","color","description","details","Header","onMenuClick","showPanel","setShowPanel","navigator","onLine","isOnline","setIsOnline","handleOnline","handleOffline","pageInfo","headerElement","closest","panelElement","Bars3Icon","UserIcon","detail","index","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","toLocaleString","timer","setTimeout","duration","clearTimeout","getColors","CheckCircleIcon","ExclamationTriangleIcon","InformationCircleIcon","getIcon","message","useNotification","Layout","sidebarOpen","setSidebarOpen","EMAIL_TEMPLATES","korean","subject","successMessage","errorMessage","userNotFound","invalidEmail","tooManyRequests","english","getEmailTemplateForUser","userCountry","language","kDomain","endsWith","detectLanguage","getEmailTemplate","signUpStoreAdmin","password","phoneNumber","signUpWithRetry","collectionName","targetCollection","docRef","regionInfo","clientIP","cleanRegion","error_8","retryCount","maxRetries","inferredCode","determineUserCollection","success","original","cleaned","createdAt","lastLogin","approved","error_7","navigate","isLoading","setIsLoading","setError","setSuccess","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","isSignUp","setIsSignUp","_g","rememberMe","setRememberMe","_h","locationLoading","setLocationLoading","_j","locationError","setLocationError","_k","showPasswordReset","setShowPasswordReset","_l","resetEmail","setResetEmail","_m","confirmPassword","province","formData","setFormData","savedEmail","localStorage","getItem","handleInputChange","isEmailValid","emailError","onSubmit","err_2","preventDefault","docSnap","foundCollection","merge","setItem","removeItem","EnvelopeIcon","required","autoComplete","minLength","EyeSlashIcon","EyeIcon","readOnly","geolocation","getCurrentPosition","position","latitude","longitude","address","country_1","province_1","city_1","err_1","coords","fetch","json","town","village","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","enableHighAccuracy","timeout","maximumAge","disabled","ArrowPathIcon","A","MapPinIcon","checked","ChevronRightIcon","err_3","possibleCollections","possibleCollections_1","error_6","template","ArrowRightIcon","DynamicBarChart","ChartModule","setChartModule","module","BarChart","Bar","CartesianGrid","XAxis","YAxis","Tooltip","ResponsiveContainer","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","tick","fontSize","angle","textAnchor","tickFormatter","toFixed","contentStyle","backgroundColor","border","borderRadius","labelStyle","formatter","radius","countryCodes_2","error_5","targetStore","targetCountry","periodType","setPeriodType","selectedDate","setSelectedDate","revenueData","setRevenueData","totalRevenue","setTotalRevenue","totalTransactions","setTotalTransactions","targetStoreData","setTargetStoreData","viewMode","setViewMode","selectedStoreId","setSelectedStoreId","stores","setStores","storesLoading","setStoresLoading","hasStoreError","setHasStoreError","isStoreManager","urlParams","URLSearchParams","search","mode","date","formatCurrency","amount","targetCountryCode","targetStoreId","effectiveStoreId","normalizedCountryCode","settlementsRef","startDate","endDate","q","querySnapshot","settlements_1","filteredSettlements","aggregatedData","total","count","setHours","setDate","setMonth","getMonth","totalDocs","docs","querySize","size","hasData","forEach","doc","totalFee","toDate","startTime","endTime","roomName","totalSettlements","settlements","_loop_3","hour","hourSettlements","getHours","revenue","reduce","sum","period","padStart","daysInMonth","getFullYear","getDate","_loop_4","day","daySettlements","_loop_5","month","monthSettlements","aggregateRevenueData","beforeFiltering","afterFiltering","aggregatedCount","sampleData","dataCount","currentUser","usersRef","stores_1","_loop_1","allCountryCodes_1","state_1","_loop_2","tryCountryCode","state_2","stores_2","error_3","key","inferCountryCode","stores_3","error_4","fetchStores","fetchedStores","catch","autoStoreId","reload","store","sort","a","b","getTime","Math","round","formatPhoneNumberWithCountry","startsWith","normalized","getCountryCode","managers","setManagers","filteredManagers","setFilteredManagers","selectedLanguage","setSelectedLanguage","useCardView","setUseCardView","containerRef","isHqAdmin","fetchManagers","manager","observer","ResizeObserver","entry","tableElement","querySelector","needsScroll","scrollWidth","clientWidth","observe","disconnect","ko","countrySelection","managerList","system","phone","status","approval","delete","online","offline","managerCount","en","managerList_1","countryCodes","promises","managers_1","all","toggleApproval","m","deleteManager","confirm","formatDate","toLocaleDateString","isRecentlyOnline","lastLoginDate","WifiIcon","SignalSlashIcon","TrashIcon","UserGroupIcon","convertTimestampToDate","targetStoreEmail","createdRooms","setCreatedRooms","room","usageTime","settlementModal","setSettlementModal","targetUser","setTargetUser","componentMounted","roomsCount","rooms","ratePerInterval","timeInterval","roomCount","settings","setSettings","targetRoomCount","currentCount","ratePer10Minutes","adjustRoomCount","docSnapshot","targetCount","currentRooms","hourlyRate","updatedRooms","roomsToAdd","newRoom","roomsToRemove","roomNumber","updatedAt","currentTime","setCurrentTime","interval","setInterval","clearInterval","calculateGameTime","gameStartTime","diffMs","diffMinutes","floor","hours","minutes","seconds","calculateCurrentFee","elapsedMs","elapsedSeconds","elapsedIntervals","getStatusColor","getStatusText","createGameRecord","endTimeDate","usageMs","usageMinutes","usageHours","dayOfWeek","hourOfDay","year","isWeekend","gameRecord","settlementsCollectionRef","gameRecordDocRef","isNaN","parseFloat","weekday","getDay","roomId","closeSettlementModal","currentStoreId","toLocaleTimeString","minute","second","roomIndex","alert","findIndex","r","openSettlementModal","stopPropagation","roomWithoutStartTime","hasStartTime","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","stack","setRatePerInterval","setTimeInterval","setRoomCount","saving","setSaving","CurrencyDollarIcon","parseInt","min","max","ratePerInterval_2","hourlyRate_2","settingsUpdatedAt","getElementById","render","element"],"sourceRoot":""}